(window.webpackJsonp=window.webpackJsonp||[]).push([[1244],{2762:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=[{char:"常",us:"China",zh:"中国",code:"+86"},{char:"常",us:"Hongkong",zh:"中国香港",code:"+852"},{char:"常",us:"India",zh:"印度",code:"+91"},{char:"常",us:"Indonesia",zh:"印度尼西亚",code:"+62"},{char:"常",us:"Malaysia",zh:"马来西亚",code:"+60"},{char:"常",us:"Philippines",zh:"菲律宾",code:"+63"},{char:"常",us:"Taiwan",zh:"中国台湾",code:"+886"},{char:"常",us:"Thailand",zh:"泰国",code:"+66"},{char:"常",us:"America",zh:"美国",code:"+1"},{char:"A",us:"Albania",zh:"阿尔巴尼亚",code:"+355"},{char:"A",us:"Algeria",zh:"阿尔及利亚",code:"+213"},{char:"A",us:"Afghanistan",zh:"阿富汗",code:"+93"},{char:"A",us:"Argentina",zh:"阿根廷",code:"+54"},{char:"I",us:"Ireland",zh:"爱尔兰",code:"+353"},{char:"E",us:"Egypt",zh:"埃及",code:"+20"},{char:"E",us:"Ethiopia",zh:"埃塞俄比亚",code:"+251"},{char:"E",us:"Estonia",zh:"爱沙尼亚",code:"+372"},{char:"U",us:"United Arab Emirates",zh:"阿拉伯联合酋长国",code:"+971"},{char:"U",us:"Aruba",zh:"阿鲁巴",code:"+297"},{char:"O",us:"Oman",zh:"阿曼",code:"+968"},{char:"A",us:"Andorra",zh:"安道尔",code:"+376"},{char:"A",us:"Angola",zh:"安哥拉",code:"+244"},{char:"A",us:"Anguilla",zh:"安圭拉岛",code:"+1264"},{char:"A",us:"Antigua and Barbuda",zh:"安提瓜和巴布达",code:"+1268"},{char:"A",us:"Australia",zh:"澳大利亚",code:"+61"},{char:"A",us:"Austria",zh:"奥地利",code:"+43"},{char:"A",us:"Azerbaijan",zh:"阿塞拜疆",code:"+994"},{char:"B",us:"Barbados",zh:"巴巴多斯岛",code:"+1246"},{char:"P",us:"Papua New Cuinea",zh:"巴布亚新几内亚",code:"+675"},{char:"B",us:"Bahamas",zh:"巴哈马",code:"+1242"},{char:"B",us:"Belarus",zh:"白俄罗斯",code:"+375"},{char:"B",us:"Bermuda Is.",zh:"百慕大群岛",code:"+1441"},{char:"P",us:"Pakistan",zh:"巴基斯坦",code:"+92"},{char:"P",us:"Paraguay",zh:"巴拉圭",code:"+595"},{char:"B",us:"Bahrain",zh:"巴林",code:"+973"},{char:"P",us:"Panama",zh:"巴拿马",code:"+507"},{char:"B",us:"Bulgaria",zh:"保加利亚",code:"+359"},{char:"B",us:"Brazil",zh:"巴西",code:"+55"},{char:"B",us:"Benin",zh:"贝宁",code:"+229"},{char:"B",us:"Belgium",zh:"比利时",code:"+32"},{char:"I",us:"Iceland",zh:"冰岛",code:"+354"},{char:"B",us:"Botswana",zh:"博茨瓦纳",code:"+267"},{char:"P",us:"Puerto Rico",zh:"波多黎各",code:"+1"},{char:"P",us:"Poland",zh:"波兰",code:"+48"},{char:"B",us:"Bolivia",zh:"玻利维亚",code:"+591"},{char:"B",us:"Belize",zh:"伯利兹",code:"+501"},{char:"B",us:"Bosnia and Herzegovina",zh:"波斯尼亚和黑塞哥维那",code:"+387"},{char:"B",us:"Bhutan",zh:"不丹",code:"+975"},{char:"B",us:"Burkina faso",zh:"布基纳法索",code:"+226"},{char:"B",us:"Burundi",zh:"布隆迪",code:"+257"},{char:"N",us:"North Korea",zh:"朝鲜",code:"+850"},{char:"N",us:"Equatorial Guinea",zh:"赤道几内亚",code:"+240"},{char:"D",us:"Denmark",zh:"丹麦",code:"+45"},{char:"G",us:"Germany",zh:"德国",code:"+49"},{char:"T",us:"Timor-Leste",zh:"帝汶岛",code:"+670"},{char:"T",us:"Togo",zh:"多哥",code:"+228"},{char:"D",us:"Dominica",zh:"多米尼加",code:"+1767"},{char:"D",us:"Dominica Rep.",zh:"多米尼加共和国",code:"+1809"},{char:"E",us:"Ecuador",zh:"厄瓜多尔",code:"+593"},{char:"E",us:"Eritrea",zh:"厄立特里亚",code:"+291"},{char:"R",us:"Russia",zh:"俄罗斯",code:"+7"},{char:"F",us:"France",zh:"法国",code:"+33"},{char:"F",us:"Faroe Islands",zh:"法罗群岛",code:"+298"},{char:"F",us:"French Polynesia",zh:"法属玻利尼西亚",code:"+689"},{char:"F",us:"French Guiana",zh:"法属圭亚那",code:"+594"},{char:"F",us:"Fiji",zh:"斐济",code:"+679"},{char:"P",us:"Philippines",zh:"菲律宾",code:"+63"},{char:"F",us:"Finland",zh:"芬兰",code:"+358"},{char:"G",us:"Gambia",zh:"冈比亚",code:"+220"},{char:"C",us:"Congo",zh:"刚果共和国",code:"+243"},{char:"D",us:"Democratic Republic of the Congo",zh:"刚果民主共和国",code:"+242"},{char:"G",us:"Greenland",zh:"格陵兰",code:"+299"},{char:"G",us:"Grenada",zh:"格林纳达",code:"+1473"},{char:"C",us:"Colombia",zh:"哥伦比亚",code:"+57"},{char:"C",us:"Costa Rica",zh:"哥斯达黎加",code:"+506"},{char:"G",us:"Guam",zh:"关岛",code:"+1671"},{char:"C",us:"Cuba",zh:"古巴",code:"+53"},{char:"G",us:"Guyana",zh:"圭亚那",code:"+592"},{char:"K",us:"Korea",zh:"韩国",code:"+82"},{char:"K",us:"Kazakstan",zh:"哈萨克斯坦",code:"+7"},{char:"M",us:"Montenegro",zh:"黑山共和国",code:"+382"},{char:"N",us:"Netherlands",zh:"荷兰",code:"+31"},{char:"H",us:"Honduras",zh:"洪都拉斯",code:"+504"},{char:"H",us:"Haiti",zh:"海地",code:"+509"},{char:"G",us:"Ghana",zh:"加纳",code:"+233"},{char:"C",us:"Canada",zh:"加拿大",code:"+1"},{char:"K",us:"Kampuchea (Cambodia)",zh:"柬埔寨",code:"+855"},{char:"G",us:"Gabon",zh:"加蓬",code:"+241"},{char:"D",us:"Djibouti",zh:"吉布提",code:"+253"},{char:"C",us:"Czech Republic",zh:"捷克",code:"+420"},{char:"K",us:"Kyrgyzstan",zh:"吉尔吉斯斯坦",code:"+996"},{char:"Z",us:"Zimbabwe",zh:"津巴布韦",code:"+263"},{char:"G",us:"Guinea",zh:"几内亚",code:"+224"},{char:"C",us:"Cayman Is.",zh:"开曼群岛",code:"+1345"},{char:"C",us:"Cameroon",zh:"喀麦隆",code:"+237"},{char:"Q",us:"Qatar",zh:"卡塔尔",code:"+974"},{char:"C",us:"Croatia",zh:"克罗地亚",code:"+385"},{char:"C",us:"Comorin",zh:"科摩罗",code:"+269"},{char:"K",us:"Kenya",zh:"肯尼亚",code:"+254"},{char:"T",us:"Tanzania",zh:"坦桑尼亚",code:"+255"},{char:"I",us:"Ivory Coast",zh:"科特迪瓦",code:"+225"},{char:"K",us:"Kuwait",zh:"科威特",code:"+965"},{char:"L",us:"Laos",zh:"老挝",code:"+856"},{char:"L",us:"Latvia",zh:"拉脱维亚",code:"+371"},{char:"L",us:"Lebanon",zh:"黎巴嫩",code:"+961"},{char:"L",us:"Liberia",zh:"利比里亚",code:"+231"},{char:"L",us:"Libya",zh:"利比亚",code:"+218"},{char:"L",us:"Liechtenstein",zh:"列支敦士登",code:"+423"},{char:"L",us:"Lithuania",zh:"立陶宛",code:"+370"},{char:"R",us:"Romania",zh:"罗马尼亚",code:"+40"},{char:"L",us:"Luxembourg",zh:"卢森堡",code:"+352"},{char:"M",us:"Madagascar",zh:"马达加斯加",code:"+261"},{char:"M",us:"Maldives",zh:"马尔代夫",code:"+960"},{char:"M",us:"Malta",zh:"马耳他",code:"+356"},{char:"M",us:"Malaysia",zh:"马来西亚",code:"+60"},{char:"M",us:"Malawi",zh:"马拉维",code:"+265"},{char:"M",us:"Mali",zh:"马里",code:"+223"},{char:"U",us:"United States",zh:"美国",code:"+1"},{char:"M",us:"Mongolia",zh:"蒙古",code:"+976"},{char:"B",us:"Bangladesh",zh:"孟加拉国",code:"+880"},{char:"B",us:"Burma",zh:"缅甸",code:"+95"},{char:"P",us:"Peru",zh:"秘鲁",code:"+51"},{char:"M",us:"Monaco",zh:"摩纳哥",code:"+373"},{char:"M",us:"Morocco",zh:"摩洛哥",code:"+212"},{char:"M",us:"Mozambique",zh:"莫桑比克",code:"+258"},{char:"M",us:"Mexico",zh:"墨西哥",code:"+52"},{char:"N",us:"Namibia",zh:"纳米比亚",code:"+264"},{char:"S",us:"South Africa",zh:"南非",code:"+27"},{char:"N",us:"Nepal",zh:"尼泊尔",code:"+977"},{char:"N",us:"Nicaragua",zh:"尼加拉瓜",code:"+505"},{char:"N",us:"Niger",zh:"尼日尔",code:"+227"},{char:"N",us:"Nigeria",zh:"尼日利亚",code:"+234"},{char:"N",us:"Norway",zh:"挪威",code:"+47"},{char:"P",us:"Portugal",zh:"葡萄牙",code:"+351"},{char:"G",us:"Georgia",zh:"格鲁吉亚",code:"+995"},{char:"J",us:"Japan",zh:"日本",code:"+81"},{char:"S",us:"Sweden",zh:"瑞典",code:"+46"},{char:"S",us:"Switzerland",zh:"瑞士",code:"+41"},{char:"E",us:"EI Salvador",zh:"萨尔瓦多",code:"+503"},{char:"S",us:"Serbia",zh:"塞尔维亚",code:"+381"},{char:"S",us:"Sierra Leone",zh:"塞拉利昂",code:"+232"},{char:"S",us:"Senegal",zh:"塞内加尔",code:"+221"},{char:"C",us:"Cyprus",zh:"塞浦路斯",code:"+357"},{char:"S",us:"Seychelles",zh:"塞舌尔",code:"+248"},{char:"S",us:"Samoa Western",zh:"西萨摩亚",code:"+685"},{char:"S",us:"Saudi Arabia",zh:"沙特阿拉伯",code:"+966"},{char:"S",us:"Sao Tome and Principe",zh:"圣多美和普林西比",code:"+239"},{char:"S",us:"Saint Lueia",zh:"圣卢西亚",code:"+1758"},{char:"S",us:"San Marino",zh:"圣马力诺",code:"+378"},{char:"S",us:"Saint Vincent",zh:"圣文森特岛",code:"+1784"},{char:"S",us:"Sri Lanka",zh:"斯里兰卡",code:"+94"},{char:"S",us:"Slovakia",zh:"斯洛伐克",code:"+421"},{char:"S",us:"Slovenia",zh:"斯洛文尼亚",code:"+386"},{char:"S",us:"Swaziland",zh:"斯威士兰",code:"+268"},{char:"S",us:"Sudan",zh:"苏丹",code:"+249"},{char:"S",us:"Suriname",zh:"苏里南",code:"+597"},{char:"S",us:"Somali",zh:"索马里",code:"+252"},{char:"T",us:"Thailand",zh:"泰国",code:"+66"},{char:"T",us:"Tajikstan",zh:"塔吉克斯坦",code:"+992"},{char:"T",us:"Tonga",zh:"汤加",code:"+676"},{char:"U",us:"Uganda",zh:"乌干达",code:"+256"},{char:"T",us:"Turks and Caicos Islands",zh:"特克斯和凯科斯群岛",code:"+1649"},{char:"T",us:"Trinidad and Tobago",zh:"特立尼达和多巴哥",code:"+1868"},{char:"T",us:"Turkey",zh:"土耳其",code:"+90"},{char:"T",us:"Turkmenistan",zh:"土库曼斯坦",code:"+993"},{char:"T",us:"Tunisia",zh:"突尼斯",code:"+216"},{char:"V",us:"Vanuatu",zh:"瓦努阿图",code:"+678"},{char:"G",us:"Guatemala",zh:"危地马拉",code:"+502"},{char:"V",us:"Venezuela",zh:"委内瑞拉",code:"+58"},{char:"U",us:"Ukraine",zh:"乌克兰",code:"+380"},{char:"U",us:"Uruguay",zh:"乌拉圭",code:"+598"},{char:"U",us:"Uzbekistan",zh:"乌兹别克斯坦",code:"+998"},{char:"S",us:"Spain",zh:"西班牙",code:"+34"},{char:"G",us:"Greece",zh:"希腊",code:"+30"},{char:"S",us:"Singapore",zh:"新加坡",code:"+65"},{char:"N",us:"New Zealand",zh:"新西兰",code:"+64"},{char:"H",us:"Hungary",zh:"匈牙利",code:"+36"},{char:"S",us:"Syria",zh:"叙利亚",code:"+963"},{char:"J",us:"Jamaica",zh:"牙买加",code:"+1876"},{char:"A",us:"Armenia",zh:"亚美尼亚",code:"+374"},{char:"Y",us:"Yemen",zh:"也门",code:"+967"},{char:"I",us:"Italy",zh:"意大利",code:"+39"},{char:"I",us:"Iraq",zh:"伊拉克",code:"+964"},{char:"I",us:"Iran",zh:"伊朗",code:"+98"},{char:"I",us:"India",zh:"印度",code:"+91"},{char:"I",us:"Indonesia",zh:"印度尼西亚",code:"+62"},{char:"U",us:"United Kiongdom",zh:"英国",code:"+44"},{char:"I",us:"Israel",zh:"以色列",code:"+972"},{char:"J",us:"Jordan",zh:"约旦",code:"+962"},{char:"V",us:"Vietnam",zh:"越南",code:"+84"},{char:"Z",us:"Zambia",zh:"赞比亚",code:"+260"},{char:"U",us:"Jersey",zh:"泽西岛",code:"+44"},{char:"C",us:"Chad",zh:"乍得",code:"+235"},{char:"G",us:"Gibraltar",zh:"直布罗陀",code:"+350"},{char:"C",us:"Chile",zh:"智利",code:"+56"},{char:"C",us:"Central African RepubliC",zh:"中非共和国",code:"+236"},{char:"常",us:"China",zh:"中国",code:"+86"},{char:"M",us:"Macao(China)",zh:"中国澳门",code:"+853"},{char:"T",us:"Taiwan(China)",zh:"中国台湾",code:"+886"},{char:"H",us:"Hongkong(China)",zh:"中国香港",code:"+852"}];function o(e){var t={},r=[].concat(n);return e&&r.sort((function(e,t){return"常"===e.char&&"常"!==t.char?-1:"常"!==e.char&&"常"===t.char?1:"常"===e.char&&"常"===t.char?0:e.us>t.us?1:e.us<t.us?-1:0})),r.map((function(e,r){var n=!1;return t[e.char]?n=!1:(n=!0,t[e.char]=!0),e.first=n,e}))}},2764:function(e,t,r){"use strict";r(187);var n=r(34),o=(r(52),r(12)),a=r(0),c=r.n(a),i=r(4),u=r.n(i),s=r(308),l=r.n(s),h=r(6),d=r.n(h),p=r(141),f=(r(1031),r(813)),m=r(2762),b="CountryList-module_countrylistItem_tN8fQ",y="CountryList-module_countrylist_JmmcS",g="CountryList-module_countryborder_7uYvw";function v(e){var t=e.onItemClick,r="en-us"===window.appData.locale;return c.a.createElement("div",{className:y},c.a.createElement("div",{className:g},c.a.createElement("div",{className:y},c.a.createElement(f.a,{"data-testid":"selector-list",dataSource:Object(m.b)(r),split:!1,justify:"block",renderItem:function(e){return c.a.createElement("div",{onMouseDown:function(){return t(e.code)}},c.a.createElement("div",null,e.first&&c.a.createElement("div",{"data-en":e.char}),c.a.createElement("div",{"data-testid":"selector-list-item",className:b},r&&c.a.createElement("div",null,e.us," ",e.code),!r&&c.a.createElement("div",null,e.zh," ",e.code))))}}))))}v.propTypes={onItemClick:u.a.func};var z=v,w="PrefixSelectorInput-module_selectorInput_FDEG3",S="PrefixSelectorInput-module_selectWrapper_zx5dt";function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function C(e,t,r){return t=j(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,r||[],j(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function E(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var N=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(r=C(this,t,[e]),"getDefaultPhoneCode",(function(){var e=p.a.get("phoneCode");e&&r.setState({prefix:e})})),E(r,"handleNumberChange",(function(e){var t=l.a.trimAllSpace(e.target.value);p.a.set("phoneNumber",t),r.setState({number:t},(function(){r.triggerChange()}))})),E(r,"triggerChange",(function(){r.setState({dropdownOpen:!1});var e,t=r.props.onChange;"+86"===r.state.prefix&&(e=r.state.number),"+86"!==r.state.prefix&&(e="".concat(r.state.prefix," ").concat(r.state.number)),t&&t(e)})),E(r,"onItemClick",(function(e){p.a.set("phoneCode",e),r.setState({prefix:e},(function(){r.triggerChange()}))})),E(r,"toggleDropdownOpen",(function(e){r.setState({dropdownOpen:e})})),r.state={prefix:"+86",number:p.a.get("phoneNumber")||"",dropdownOpen:!1,isSelectCountryEnabled:e.isSelectCountryEnabled},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){this.getDefaultPhoneCode(),this.checkMainSiteRegistryPage()}},{key:"checkMainSiteRegistryPage",value:function(){var e=window.appData,t=e.organization,r=e.referOrganization,n=e.settings,o=(null==t?void 0:t.id)||(null==r?void 0:r.id),a=((null==n?void 0:n.foreign_phone_registry_enabled_organization_whitelist)||[]).includes(String(o));"/register"===window.location.pathname&&(!o||!a)&&(p.a.set("phoneCode","+86"),this.setState({isSelectCountryEnabled:!1,prefix:"+86"}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.isSelectCountryEnabled,a=t.number,i=t.prefix,u=t.dropdownOpen,s=o.a.Group,l=this.props.inputWidth||"calc(100% - 78px)",h=this.props.placeholder||__("请输入手机号"),p=this.props.disabled,f=function(){return e.props.noDefNumber?e.props.bindMobile?e.props.value:"":a};return c.a.createElement("div",{className:d()(w,this.props.containerStyle),"data-testid":"prefixSelectorInput"},r?c.a.createElement(s,{compact:!0,"data-testid":"prefix-selector-input"},c.a.createElement(n.a,{"data-aspm-click":"d001","data-testid":"prefix-selector",dropdownMatchSelectWidth:!1,dropdownStyle:{width:"100%"},getPopupContainer:function(e){return e.parentNode.parentNode},className:S,defaultValue:i,value:i,open:u,onDropdownVisibleChange:this.toggleDropdownOpen,dropdownRender:function(t){return c.a.createElement("div",null,c.a.createElement(z,{onItemClick:e.onItemClick}))}}),c.a.createElement(o.a,{"data-aspm-click":"d002","data-testid":"prefix-phone-input",style:{width:l,height:"40px"},autoComplete:"off",defaultValue:f(),onChange:this.handleNumberChange,type:"tel",ref:function(t){e.input=t},placeholder:h,maxLength:100,size:"large",disabled:p})):c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{"data-aspm-click":"d002","data-testid":"prefix-phone-input",autoComplete:"off",defaultValue:f(),onChange:this.handleNumberChange,type:"tel",ref:function(t){e.input=t},placeholder:h,maxLength:100,size:"large"})))}}])&&O(r.prototype,a),i&&O(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(a.Component);N.propTypes={inputWidth:u.a.string,onChange:u.a.func,placeholder:u.a.string,noDefNumber:u.a.bool,bindMobile:u.a.bool,containerStyle:u.a.string,disabled:u.a.bool,isSelectCountryEnabled:u.a.bool},N.defaultProps={disabled:!1,isSelectCountryEnabled:!0};t.a=N},3888:function(e,t,r){"use strict";r(52);var n=r(12),o=(r(217),r(49)),a=r(0),c=r.n(a),i=r(4),u=r.n(i),s=r(6),l=r.n(s);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}function f(e,t,r){return t=b(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var g=o.a.Item,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("script");t.src="https://g.alicdn.com/sd/ncpc/nc.js?t=1514534550478";var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href="https://g.alicdn.com/sd/ncpc/nc.css?t=1514534550478",document.head.appendChild(r),document.head.appendChild(t),this.props.show&&(t.onload=function(){e.componentDidUpdate({show:!1})})}},{key:"componentDidUpdate",value:function(e){var t=this.props.show;t&&t!==e.show&&this.loadCaptcha()}},{key:"loadCaptcha",value:function(){var e,t,r=this.props,n=r.form,o=r.scene,a=r.onCallback,c=r.ncName;this[c]=new noCaptcha,window[c]=this[c];var i=(null===(e=window.appData)||void 0===e?void 0:e.captchaAppKey)||"FFFF000000000179A3AD",u=[i,(new Date).getTime(),Math.random()].join(":"),s=o,l=(null===(t=document.getElementById("captcha_render_id_".concat(c)))||void 0===t?void 0:t.offsetWidth)||300,h={renderTo:"#captcha_render_id_".concat(c),appkey:i,scene:s,token:u,language:"cn",customWidth:l,callback:function(e){(0,n.setFieldsValue)({csessionid:e.csessionid,sig:e.sig,token:u,scene:s,captcha:"true"}),null==a||a()}};this[c].init(h),this[c].upLang("cn",{_startTEXT:__("按住滑块，拖动到最右边"),_yesTEXT:__("验证通过"),_error300:__('{wrongText}<a href="javascript:__nc.reset()">{refresh}</a>',{wrongText:__("哎呀，出错了，单击"),refresh:__("刷新")}),_errorNetwork:__('{wrongText}<a href="javascript:__nc.reset()">{refresh}</a>',{wrongText:__("网络不给力，单击"),refresh:__("刷新")})})}},{key:"reset",value:function(){var e=this.props,t=e.form,r=e.ncName;t.setFieldsValue({captcha:null}),this[r]&&this[r].reset(1)}},{key:"getValues",value:function(){return this.props.form.getFieldsValue(["csessionid","sig","token","scene","captcha"])}},{key:"render",value:function(){var e=this.props,t=e.show,r=e.className,o=e.ncName,a=this.props.form.getFieldDecorator;return t?c.a.createElement("div",{className:l()("captcha",r),"data-aspm-click":"d004","data-testid":"captcha"},c.a.createElement("div",{id:"captcha_render_id_".concat(o)}),a("csessionid",{})(c.a.createElement(n.a,{type:"hidden"})),a("sig",{})(c.a.createElement(n.a,{type:"hidden"})),a("token",{})(c.a.createElement(n.a,{type:"hidden"})),a("scene",{})(c.a.createElement(n.a,{type:"hidden"})),c.a.createElement(g,null,a("captcha",{rules:[{required:!0,message:__("拖动滑块验证")}]})(c.a.createElement(n.a,{type:"hidden"})))):null}}])&&d(r.prototype,o),a&&d(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(a.Component);v.defaultProps={show:!1,ncName:"nc"},v.propTypes={show:u.a.bool,form:u.a.object,scene:u.a.string,onCallback:u.a.func,className:u.a.string,ncName:u.a.string};t.a=v},3901:function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));r(52);var n=r(12),o=(r(43),r(10)),a=(r(217),r(49)),c=r(0),i=r.n(c),u=r(4),s=r.n(u),l=r(524),h=r(6),d=r.n(h),p=r(155),f=r(3941),m=r(3888);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(null,arguments)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function w(e,t,r){return t=_(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function C(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var j=a.a.Item,T=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(n=w(this,t,[e,r]),"onSendClick",(function(e){var t=n.props,r=t.form,o=(0,t.getTarget)();if(o)Object(p.spmClick)("b63685.c322287.d348459"),n.sendMessage(o,e);else{var a=n.props.fieldTypeName;if(a){var c={mobile:__("输入手机号码"),email:__("输入邮箱"),mobile_or_email:__("输入手机号码或邮箱"),login:__("输入正确手机号")};r.setFields(C({},a,{errors:[new Error(c[a])]}))}}})),n.state={sendType:e.sendType||null,channel:"sms",sending:e.counting},e.counting&&n.countAndDisplaySwith(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(a=[{key:"componentWillUnmount",value:function(){this.switchTimeout&&clearTimeout(this.switchTimeout)}},{key:"fieldType",get:function(){return this.props.fieldTypeName||this.props.sendType}},{key:"countAndDisplaySwith",value:function(){var e=this;this.setState({sending:!0}),this.switchTimeout=setTimeout((function(){e.setState({sending:!1}),(0,e.props.form.getFieldValue)("code")||(e.setState({inputTimeout:!0}),e.captcha&&e.captcha.reset())}),6e4)}},{key:"sendMessage",value:function(e,t){var r=this;this.countAndDisplaySwith(),t&&t();var n=this.props,a=n.dispatch,c=n.action,i=n.type,u=n.form,s=this.captcha?this.captcha.getValues():{};if(this.captcha&&!s.captcha)return this.countDown&&this.countDown.reset(),void o.a.error(__("先完成滑块验证"));a({type:"checkcode/sendCode",payload:v({target:e,action:c,type:i,channel:this.state.channel},s)}).then((function(t){if(t.data)return r.input.focus(),r.setState({sendType:e.indexOf("@")<=-1?"mobile":"email"}),void o.a.success(__("验证码已发送"));if(r.captcha&&r.captcha.reset(),r.countDown&&r.countDown.reset(),r.setState({sendType:null}),"notfound"!==t.code){if("not-support-register"!==t.code)return"wrong"===t.code&&"captcha"===t.key?r.captcha?void o.a.error(__("验证失败，请重新拖动滑块")):void o.a.error(__("先完成滑块验证")):void(429===t.status?o.a.error(__("验证码获取太频繁，请稍后再试")):o.a.error(__("获取验证码错误，请联系管理员排查。 [{subCode}]",{subCode:t.sub_code||"unknown"})));o.a.warn(__("仅限中国大陆（不含港澳台）手机号注册"))}else r.fieldType&&u.setFields(C({},r.fieldType,{errors:[new Error(__("账号不存在，请重新输入"))]}))}))}},{key:"renderHint",value:function(){return"email"===this.fieldType&&"email"===this.state.sendType&&this.state.sending?i.a.createElement("div",{className:"mobile-code-hint"},i.a.createElement("span",null,__("已发送验证码到绑定邮箱"))):"register"!==this.props.action&&"resetPassword"!==this.props.action&&"login"!==this.props.action&&"mobile"===this.fieldType&&"mobile"===this.state.sendType&&this.state.sending?i.a.createElement("div",{className:"mobile-code-hint"},i.a.createElement("span",null,__("已发送短信验证码到绑定手机"))):void 0}},{key:"getPlaceholder",value:function(){return"email"===this.fieldType?__("6 位邮箱验证码"):"sms"===this.state.channel?__("6 位短信验证码"):void 0}},{key:"render",value:function(){var e=this,t=this.props,r=t.form,o=t.large,a=t.wrapperCol,c=t.counting,u=t.ncName,s=r.getFieldError,l=r.getFieldDecorator,h=o?{size:"large"}:{},p=__("获取验证码"),b=this.getPlaceholder();return i.a.createElement("div",{className:d()("mobile-code",{"captcha-check-code":this.props.needCaptcha}),"data-testid":"checkCode"},this.props.needCaptcha&&i.a.createElement(m.a,{form:this.props.form,show:!0,ncName:u,ref:function(t){e.captcha=t},scene:window.h5?"nc_register_h5":"register"}),i.a.createElement(j,{wrapperCol:a,className:"mobile-code-showtip",help:s("code")?s("code"):this.renderHint()},i.a.createElement("div",{className:"mobile-code-main"},i.a.createElement("div",{className:"mobile-code-field"},l("code",{rules:[{required:!0,message:__("验证码不能为空")}]})(i.a.createElement(n.a,y({"data-testid":"checkCodeInput","data-aspm-click":"d005",type:"tel",autoComplete:"off",ref:function(t){e.input=t},placeholder:b,maxLength:6},h,{id:"".concat(this.state.sendType,"_code")})))),i.a.createElement("div",{className:"mobile-code-getBtn"},i.a.createElement(f.a,{counting:c,fieldType:this.fieldType,onSendClick:this.onSendClick,ref:function(t){e.countDown=t},buttonProps:v({ghost:!0,htmlType:"button"},h),sendText:p})))),this.state.inputTimeout&&i.a.createElement("div",{className:"mobile-code-pwd-link"},i.a.createElement("a",{href:"https://www.yuque.com/yuque/qa/sms-issue",target:"_blank"},__("没有收到验证码？"))),this.props.linkTest&&i.a.createElement("div",{className:"mobile-code-pwd-link",onClick:this.props.clickLink},this.props.linkTest))}}])&&z(r.prototype,a),c&&z(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,c}(c.Component);T.propTypes={counting:s.a.bool,large:s.a.bool,fieldTypeName:s.a.string,sendType:s.a.string,countDownsendText:s.a.string,needCaptcha:s.a.bool,containerStyle:s.a.string,form:s.a.any,getTarget:s.a.func,action:s.a.string,ncName:s.a.string},T.defaultProps={counting:!1,large:!0};t.b=Object(l.d)((function(e){return e}),null,null,{forwardRef:!0})(T)},3941:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));r(36);var n=r(8),o=r(0),a=r.n(o),c=r(4),i=r.n(c);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t,r){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var b=function(e){function t(e,r){var n,o,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=h(this,t,[e,r]),o=n,c=function(){n.props.onSendClick&&n.props.onSendClick((function(){n.doCounting()})),n.setState({hasSend:!0})},(a=m(a="onSendClick"))in o?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,n.state={counting:!!e.counting,countingTime:60,hasSend:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){this.props.counting&&this.doCounting()}},{key:"componentWillUnmount",value:function(){this.countTimer&&(window.clearInterval(this.countTimer),this.countTimer=null)}},{key:"reset",value:function(){var e=this;this.setState({counting:!1,countingTime:60},(function(){clearInterval(e.countTimer)}))}},{key:"doCounting",value:function(){var e=this;this.setState({countingTime:60,counting:!0},(function(){e.countTimer=setInterval((function(){var t=e.state.countingTime;1===t?e.reset():e.setState({countingTime:t-1})}),1e3)}))}},{key:"renderSendCodeTxt",value:function(){return this.state.counting?a.a.createElement("span",{className:"code-count-text"},__("重新获取({time})",{time:this.state.countingTime})):this.state.hasSend?__("重新获取"):this.props.sendText}},{key:"render",value:function(){var e=this.props.buttonProps;return a.a.createElement("span",{className:"countdown-btn","data-aspm-click":"d006"},a.a.createElement(n.a,s({onClick:this.onSendClick,className:"code-send-button",disabled:this.state.counting},e),a.a.createElement("span",{className:"code-send-text"},this.renderSendCodeTxt())))}}])&&l(r.prototype,o),c&&l(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(o.Component);b.propTypes={counting:i.a.bool,large:i.a.bool,sendText:i.a.string},b.defaultProps={counting:!1,large:!0,sendText:__("获取验证码")}},813:function(e,t,r){"use strict";r(2873);var n=r(915),o=r(57),a=r.n(o),c=r(50),i=r.n(c),u=r(1262),s=r.n(u),l=r(65),h=r.n(l),d=r(143),p=r.n(d),f=r(0),m=r.n(f),b=r(4),y=r.n(b),g=r(6),v=r.n(g),z=r(66),w=r.n(z),S=r(162),_=r.n(S);var O=r(55),C=r.n(O)()("useInifiniteScroll"),k=function(e,t){var r,n,o,a,c,i,u=(r=!1,n=Object(f.useState)(r),o=_()(n,2),a=o[0],c=o[1],(i=Object(f.useRef)(a)).current=a,[a,c,Object(f.useCallback)((function(){return i.current}),[])]),l=_()(u,3),h=l[0],d=l[1],m=l[2],b=Object(f.useRef)(null);b.current=e;var y=Object(f.useCallback)(function(){var e=s()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_()(t,1),n=r[0],!m()){e.next=3;break}return e.abrupt("return");case 3:if(null==n||!n.isIntersecting){e.next=12;break}return C("entry?.isIntersecting",null==n?void 0:n.isIntersecting),e.prev=5,d(!0),e.next=9,b.current();case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[5,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[b]);return{loading:h,refCallback:Object(f.useCallback)((function(e){C("ref",e);var r,n=null;if(e&&!n&&window.IntersectionObserver)return C("enter"),n=new IntersectionObserver(y,{threshold:(null==t?void 0:t.threshold)||.1,root:(null===(r=t.root)||void 0===r?void 0:r.current)||null}),C("observe",e),n.observe(e),function(){return n.unobserve(e)}}),[t.threshold])}},j=r(485),T=r(135),E=(r(1031),["className","emptyView","onLoadMore","dataSource","renderItem","loading","showLoadingMore","pagination","children","justify","customItem","loadOnScroll","listContainer"]);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=m.a.forwardRef((function(e,t){var r=e.className,o=e.emptyView,a=e.onLoadMore,c=e.dataSource,u=e.renderItem,l=e.loading,d=e.showLoadingMore,f=e.pagination,b=e.children,y=e.justify,g=e.customItem,z=e.loadOnScroll,w=e.listContainer,S=h()(e,E),_=e.loadMoreText,O=void 0===_?Object(j.a)("查看更多"):_,C=l;"boolean"==typeof C&&(C={spinning:C});var P=C&&C.spinning,I=k(s()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z||!a){e.next=3;break}return e.next=3,a();case 3:case"end":return e.stop()}}),e)}))),{root:w}),D=I.loading,x=I.refCallback;z&&(O=Object(j.a)("到底了"));var M=c.length&&d?m.a.createElement("div",{className:"larkui-list-block-more"},P&&m.a.createElement(T.a,i()({justify:"block"},C)),!P&&m.a.createElement("a",{className:"larkui-list-block-more-btn",ref:x,onClick:function(e){e.preventDefault(),a&&a()}},D?Object(j.a)("加载中"):O)):null;if(P&&!M)return m.a.createElement("div",{className:v()("larkui-list","larkui-list-loading")},m.a.createElement(T.a,i()({justify:"block"},C)));var B=f;return B&&(B=f.total<=f.pageSize?null:N({showSizeChanger:!1},B)),m.a.createElement(n.b,i()({ref:t,className:v()(r,"larkui-list",{"larkui-list-justify-block":"block"===y}),loading:!1,loadMore:M,pagination:B,dataSource:c.length>0?c:e.emptyView?["empty"]:[],renderItem:function(e,t){if("empty"===e)return m.a.createElement("div",{className:"blankslate"},o);var r=u(e,t);return r?g?r:m.a.createElement(n.b.Item,{key:e.id},r):m.a.createElement("div",null)}},S),b)}));I.defaultProps={dataSource:[],loading:!1,showLoadingMore:!1,justify:"flex"},I.propTypes=N(N({},n.b.ListProps),{},{className:y.a.string,emptyView:y.a.node,onLoadMore:y.a.func,dataSource:y.a.array,renderItem:y.a.func,loading:y.a.oneOfType([y.a.bool,y.a.object]),showLoadingMore:y.a.bool,pagination:y.a.object,children:y.a.node,justify:y.a.oneOf(["block","flex"]),customItem:y.a.bool,loadOnScroll:y.a.bool,listContainer:y.a.node}),w()(I,n.b);t.a=I}}]);