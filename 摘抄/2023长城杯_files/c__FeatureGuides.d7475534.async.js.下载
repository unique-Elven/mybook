(window.webpackJsonp=window.webpackJsonp||[]).push([[1332,1362],{1500:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-close",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M34.41 34.499c3.906-3.905 10.238-3.905 14.143 0l79.903 79.902 79.903-79.902c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142l-79.903 79.903 79.903 79.903c3.834 3.834 3.904 10.008.21 13.927l-.21.215c-3.905 3.906-10.237 3.906-14.142 0l-79.903-79.903-79.903 79.903c-3.905 3.906-10.237 3.906-14.142 0-3.906-3.905-3.906-10.237 0-14.142l79.902-79.903L34.41 48.641c-3.835-3.834-3.904-10.007-.21-13.927Z",fill:"currentColor",fillRule:"evenodd"}))},3807:function(e,t,r){"use strict";var n=r(59),a="KnowledgePieGuide-module_wrapper_McOcd",i="KnowledgePieGuide-module_close_Hta-f",o="KnowledgePieGuide-module_breathBorder_JnuNa",l=(r(170),r(70)),u=(r(36),r(8)),c=r(0),s=r(342),d=r(1500),f="index-module_container_YifTz",p="index-module_titleContainer_E19Ts",m="index-module_content_u6ksX",y="index-module_close_xIF4s",g=function(e){var t=e.onReadGuide,r=e.sign,n=e.visible,a=e.arrowPointAtCenter,i=e.placement;return c.createElement(l.a,{overlayClassName:f,arrowPointAtCenter:a,destroyTooltipOnHide:!0,autoAdjustOverflow:!0,getPopupContainer:function(){return document.querySelector("#dragBarContainer")},title:c.createElement("div",{className:p},c.createElement("div",{className:m},c.createElement(s.a,{variant:"caption",mt:4,mb:4},__("知识库全新升级，来看看吧"))),c.createElement(u.a,{onClick:t,icon:c.createElement(d.default,{width:14,height:14}),type:"text",className:y})),placement:i,visible:n,align:{targetOffset:[0,4]}},r)},_={FEATURES:[{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"WIKI_PAGE",enable:!0,type:"custom",tip_id:"feature_org_wiki_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-10-27"},{area:"GARDEN_PAGE",enable:!0,type:"custom",tip_id:"feature_garden_introduce",tip:__("功能说明"),createdAt:"2022-11-17"},{area:"DASHBOARD_BOOK_MENU",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip",customRender:g,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.transform="translateY(-21px)",e.style.left="50px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}},{area:"DASHBOARD_BOOK_MENU_COLLAPSED",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip_isCollapsed",customRender:g,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip_isCollapsed"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.left="17px",e.style.top="-30px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}},{area:"DASHBOARD_QUICKSTART",enable:!0,type:"custom",tip_id:"knowledge_pie_ai_doc_create",customRender:function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:a},__("新增「 AI 帮你写 」功能帮助你提供高效的AI创作体验"),React.createElement(n.b,{name:"delete",size:16,className:i})),React.createElement("div",{className:o}))},placement:"bottom",containerSelector:'[data-feature-guide-container="knowledge_pie_ai_doc_create"]',readTrigger:["click"],createdAt:"2024-08-24",styleFix:function(e){e.style.position="absolute",e.style.left="-225px",e.style.top="20px",e.style.zIndex=4}},{area:"ADD_BUTTON_MENU",enable:!0,type:"mini",tip_id:"knowledge_pie_ai_doc_create_menu_item",tip:__("新增「 AI 帮你写 」功能帮助你提供高效的AI创作体验"),placement:"bottom",createdAt:"2024-08-24"}]},b=r(48),v=r(186),w=_.FEATURES,h={readLiteFeatureGuide:function(e){if("function"==typeof navigator.sendBeacon){var t=new URLSearchParams;t.set("ctoken",Object(v.a)(window)),t.set("type",e.tip_id),navigator.sendBeacon("/api/mine/read_guide?".concat(t.toString()))}else b.a.mine.readGuide({type:e.tip_id});var r=e.containerSelector&&document.querySelector(e.containerSelector);if(r){var n=r.querySelector(".larkui-feature-guide");if(!n)return;n.style.display="none"}},readMiniFeatureGuide:function(e,t){var r=e.tip_id;b.a.mine.readGuide({type:r}),t({type:"guide/readFeatureGuide",payload:{tip_id:r}})},findFeatureGuide:function(e){var t=e.tip_id,r=e.type;return w.find((function(e){return e.tip_id===t&&e.type===r}))},needDisplayGuide:function(e){if("#guide"===window.location.hash)return!0;var t=window.appData.readTip;return!t||!t[e]}};h.FEATURES=w;t.a=h},3865:function(e,t,r){"use strict";r(170);var n=r(70),a=r(0),i=r.n(a),o=r(4),l=r.n(o),u=r(80),c=r.n(u),s=r(1500);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){return i.a.createElement("span",{className:"larkui-feature-guide-sign",style:t,onClick:e,"data-testid":"feature-guide-sign"},i.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-outer"}),i.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-inner"}))}function b(e){var t=e.type,r=void 0===t?"lite":t,o=e.tip,l=e.enableMultiLines,u=e.guideSignContainerStyle,d=y(Object(a.useState)(!0),2),f=d[0],m=d[1];if(!f)return null;var g=document.querySelector(e.containerSelector);if(!g)return null;var b=function(){m(!1),e.onRead()},v=function(){var t=g.querySelector(".larkui-feature-guide");if(t)return t;(t=document.createElement("div")).classList.add("larkui-feature-guide");if(t.classList.add({lite:"larkui-feature-guide-lite",mini:"larkui-feature-guide-mini",custom:"larkui-feature-guide-custom"}[r]),t.setAttribute("data-testid","feature-guide"),["lite","custom"].includes(r)){g.style.position="relative";var n=g.getBoundingClientRect();switch(e.placement){case"right":t.style.left="".concat(n.width+2,"px");break;case"left":t.style.left="-14px";break;case"top":t.style.bottom="".concat((e.offsetY?parseInt(e.offsetY,10):0)+n.height,"px"),t.style.left="".concat(n.width/2-6,"px");break;default:t.style.left="".concat((n.width-12)/2,"px"),t.style.bottom=e.offsetY||"0"}e.styleFix&&e.styleFix(t)}var a=e.readTrigger||[],i=function(t){t.target.closest(".larkui-feature-guide")&&(t.preventDefault(),t.stopPropagation()),m(!1),e.onRead(),a.forEach((function(t){g.removeEventListener(t,e.closeGuide||i)}))};return a.forEach((function(t){g.addEventListener(t,e.closeGuide||i)})),g.appendChild(t),t}(),w=_(b,u),h=l?"larkui-feature-guide-lite-close-multi-line":"larkui-feature-guide-lite-close";if("mini"===r)return c.a.createPortal(w,v);var E="center"!==e.placement&&"top"!==e.placement;return"custom"===r?c.a.createPortal(i.a.createElement(e.customRender,p(p({},e),{},{sign:w,visible:f,arrowPointAtCenter:E,portalDom:v,onReadGuide:b,setVisible:m})),v):"lite"===r?c.a.createPortal(i.a.createElement(n.a,{overlayClassName:"larkui-feature-guide-lite-tip",arrowPointAtCenter:E,autoAdjustOverflow:!1,defaultVisible:!0,title:i.a.createElement(i.a.Fragment,null,l?i.a.createElement("div",{className:"larkui-feature-guide-content",onClick:b},o):i.a.createElement("span",{className:"larkui-feature-guide-lite-content"},i.a.createElement("strong",null,o)),i.a.createElement("span",{onClick:b,className:h},i.a.createElement(s.default,{width:16,height:16}))),placement:e.placement,visible:f,align:{targetOffset:[0,4]}},w),v):void 0}b.Mini=function(){return i.a.createElement("span",{className:"larkui-feature-guide-mini","data-testid":"standalone-mini-guide"},_((function(){})))},b.defaultProps={enableMultiLines:!1},b.propTypes={type:l.a.oneOf(["lite","mini","custom"]),tip:l.a.oneOfType([l.a.string,l.a.node]),containerSelector:l.a.string.isRequired,readTrigger:l.a.array,placement:l.a.oneOf(["bottomRight","bottomLeft","bottom","right","left","top"]),offsetY:l.a.string,onRead:l.a.func.isRequired,guideSignContainerStyle:l.a.object,enableMultiLines:l.a.bool,customRender:l.a.element,styleFix:l.a.func,closeGuide:l.a.func};t.a=b},7998:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(524),o=r(55),l=r.n(o),u=r(3807),c=r(280),s=r(3865);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=new l.a("sys:guide");t.default=Object(c.b)(Object(i.d)((function(e){return{guide:e.guide,me:e.me}}))((function(e){var t=e.guide,r=e.me,i=new Date(r.created_at).getTime(),o=u.a.FEATURES.filter((function(e){var t=!!e.enable,r=new Date(e.createdAt).getTime()>=i;return t&&r})),l=d(Object(n.useState)(!1),2),c=l[0],f=l[1];return Object(n.useEffect)((function(){setTimeout((function(){f(!0)}),1e3)}),[]),c?a.a.createElement(a.a.Fragment,null,o.map((function(r,n){if(p("process:","".concat(r.area,"_").concat(r.tip_id)),o=r.tip_id,"#guide"===window.location.hash||!t.readTip[o]){var i=r.containerSelector||'[data-feature-guide-portal="'.concat(r.tip_id,'"]');return p("selector to show guide",i),a.a.createElement("span",{key:r.tip_id+n,"data-testid":r.tip_id},a.a.createElement(s.a,{type:r.type,placement:r.placement,tip:r.tip,offsetY:r.offsetY,containerSelector:i,readTrigger:r.readTrigger||[],guideSignContainerStyle:r.guideSignContainerStyle,onRead:function(){!function(t){"lite"===t.type?u.a.readLiteFeatureGuide(t):u.a.readMiniFeatureGuide(t,e.dispatch)}(r)},customRender:r.customRender,styleFix:r.styleFix,enableMultiLines:r.enableMultiLines,closeGuide:r.closeGuide}))}var o;return p("guide already read, just render empty node"),a.a.createElement("span",{key:"".concat(r.tip_id,"-").concat(r.area,"-").concat(n),"data-testid":r.tip_id,"data-feature-guide-read":r.tip_id})}))):null})),!1)}}]);