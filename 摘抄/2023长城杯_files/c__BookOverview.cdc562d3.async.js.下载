/*! For license information please see c__BookOverview.cdc562d3.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1277,15,77,308,454,667,940,1042,1044,1097,1184,1246],{1032:function(t,e,n){var r=n(520),o=n(189),i=n(246),a=n(64),u=n(180),c=n(238),l=n(240),s=n(327),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||s(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},1301:function(t,e,n){"use strict";n(833);var r=n(496);n(1435);e.a=r.a},1363:function(t,e){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},1436:function(t,e,n){"use strict";var r=n(2),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n(14),u=function(t,e){return o.createElement(a.a,Object(r.a)(Object(r.a)({},t),{},{ref:e,icon:i}))},c=o.forwardRef(u);e.a=c},1437:function(t,e,n){"use strict";var r=n(2),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},a=n(14),u=function(t,e){return o.createElement(a.a,Object(r.a)(Object(r.a)({},t),{},{ref:e,icon:i}))},c=o.forwardRef(u);e.a=c},1438:function(t,e,n){"use strict";var r=n(2),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},a=n(14),u=function(t,e){return o.createElement(a.a,Object(r.a)(Object(r.a)({},t),{},{ref:e,icon:i}))},c=o.forwardRef(u);e.a=c},1497:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-arrow-right",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M101.005 198.563c-3.834-3.834-3.904-10.008-.21-13.927l.21-.215 48.99-48.99c3.834-3.834 3.904-10.008.21-13.927l-.21-.215-48.99-48.99c-3.905-3.905-3.905-10.237 0-14.142 3.834-3.834 10.008-3.904 13.927-.21l.215.21 48.99 48.99c11.599 11.598 11.715 30.331.348 42.072l-.348.354-48.99 48.99c-3.905 3.905-10.237 3.905-14.142 0Z",fill:"currentColor",fillRule:"nonzero"}))},1510:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-icon-nolable",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"m3.779 5.94.884.885-1.177 1.177a1.253 1.253 0 0 0 0 1.77l2.941 2.94.12.106a1.249 1.249 0 0 0 1.6-.061l.012-.01 1.213-1.214.884.884-1.158 1.158-.15.143a2.499 2.499 0 0 1-3.405-.123l-2.94-2.94A2.503 2.503 0 0 1 2.6 7.119l1.178-1.178Zm.078-2.183a.6.6 0 0 1 .849 0l7.637 7.637a.6.6 0 1 1-.849.849L3.857 4.606a.6.6 0 0 1 0-.849Zm5.208-2.044.183.009L12.557 2a1.875 1.875 0 0 1 1.714 1.743l.216 3.23.005.227a2.5 2.5 0 0 1-.731 1.707l-1.244 1.246-.883-.883 1.243-1.246a1.25 1.25 0 0 0 .362-.967l-.216-3.23a.625.625 0 0 0-.57-.582l-3.31-.278-.137-.004a1.25 1.25 0 0 0-.852.366l-1.23 1.232-.883-.884L7.27 2.446a2.5 2.5 0 0 1 1.978-.724Zm1.591 2.662a.969.969 0 1 1 0 1.937.969.969 0 0 1 0-1.937Z",fill:"#585A5A",fillRule:"nonzero"}))},1511:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{className:["larkui-icon","larkui-icon-insert-doc",t.className].filter(Boolean).join(" ")}),r.createElement("defs",null,r.createElement("path",{id:"58591898a",d:"M0 0h256v256H0z"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"58591898b",fill:"#fff"},r.createElement("use",{xlinkHref:"#58591898a"})),r.createElement("g",{mask:"url(#58591898b)"},r.createElement("path",{d:"M17 25h222v222H17z"}),r.createElement("path",{d:"M218 212c1.657 0 3.157.672 4.243 1.757A5.981 5.981 0 0 1 224 218a5.981 5.981 0 0 1-1.757 4.243A5.981 5.981 0 0 1 218 224H38a5.981 5.981 0 0 1-4.243-1.757A5.981 5.981 0 0 1 32 218c0-1.657.672-3.157 1.757-4.243A5.981 5.981 0 0 1 38 212ZM129.365 75.746l.312.012a6.967 6.967 0 0 1 4.267 1.79l1.033 1.163a6.986 6.986 0 0 1 1.265 4.456 6.967 6.967 0 0 1-1.861 4.345L99.919 122H218c1.657 0 3.157.672 4.243 1.757A5.981 5.981 0 0 1 224 128a5.981 5.981 0 0 1-1.757 4.243A5.981 5.981 0 0 1 218 134H99.91l34.19 34.201.863.999a6.988 6.988 0 0 1 1.272 4.579 6.97 6.97 0 0 1-2.03 4.426 6.977 6.977 0 0 1-4.848 2.05 6.976 6.976 0 0 1-4.868-1.873l-45.335-45.329-.862-.998a6.986 6.986 0 0 1-1.28-4.477 6.967 6.967 0 0 1 1.862-4.345L124.202 77.9l.998-.862a6.986 6.986 0 0 1 4.477-1.28ZM218 32c1.657 0 3.157.672 4.243 1.757A5.981 5.981 0 0 1 224 38a5.981 5.981 0 0 1-1.757 4.243A5.981 5.981 0 0 1 218 44H38a5.981 5.981 0 0 1-4.243-1.757A5.981 5.981 0 0 1 32 38c0-1.657.672-3.157 1.757-4.243A5.981 5.981 0 0 1 38 32Z",stroke:"#096DD9",strokeWidth:8,fill:"#096DD9"}))))},1521:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-edit-border",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M165.426 35.669c10.228-10.225 26.795-10.225 37.012 0l16.94 16.946c9.525 9.512 10.25 24.659 1.46 35.416l-1.45 1.588-120.87 120.819a22.064 22.064 0 0 1-10.12 5.783l-43.65 11.323a14.183 14.183 0 0 1-13.594-3.697 14.175 14.175 0 0 1-3.698-13.59l11.315-43.65a22.3 22.3 0 0 1 5.785-10.119L165.426 35.67ZM153.174 76.73 58.96 170.91a1.8 1.8 0 0 0-.469.82l-8.683 33.457 33.475-8.67.437-.182.384-.287 94.192-94.18-25.144-25.138h.022Zm34.85-26.66a5.797 5.797 0 0 0-8.194 0l-12.54 12.536 25.144 25.138 12.188-12.164.757-.82a5.793 5.793 0 0 0-.405-7.744l-16.95-16.946Z",fill:"currentColor",fillRule:"nonzero"}))},1672:function(t,e,n){var r=n(209),o=n(235),i=n(918),a=n(64);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},1676:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-new-ellipsis",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M227.008 128c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20ZM148 128c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20Zm-78.992 0c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20Z",fill:"currentColor",fillRule:"nonzero"}))},1678:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-information",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128.5 15.5c62.408 0 113 50.592 113 113s-50.592 113-113 113-113-50.592-113-113 50.592-113 113-113Zm0 20c-51.362 0-93 41.638-93 93s41.638 93 93 93 93-41.638 93-93-41.638-93-93-93ZM131 113c5.523 0 10 4.477 10 10v62c0 5.523-4.477 10-10 10s-10-4.477-10-10v-52h-6c-5.523 0-10-4.477-10-10s4.477-10 10-10h16Zm-3-44c7.732 0 14 6.268 14 14s-6.268 14-14 14-14-6.268-14-14 6.268-14 14-14Z",fill:"currentColor",fillRule:"nonzero"}))},1693:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-rename",t.className].filter(Boolean).join(" ")}),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M0 0h256v256H0z"}),r.createElement("path",{d:"M121 66c0 5.523-4.477 10-10 10H58c-5.43 0-9.848 4.327-9.996 9.72L48 86v81c0 5.43 4.327 9.848 9.72 9.996L58 177h52.498c5.522 0 9.998 4.476 9.998 9.998 0 5.522-4.476 9.998-9.998 9.999L58 197c-16.403 0-29.731-13.164-29.996-29.504L28 167V86c0-16.403 13.164-29.731 29.504-29.996L58 56h53c5.523 0 10 4.477 10 10Z",fill:"currentColor",fillRule:"nonzero"}),r.createElement("path",{stroke:"currentColor",strokeWidth:20,strokeLinecap:"round",d:"M184.5 47.3v163M218.3 37.5h-67M218.3 217.5h-67"})))},1788:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-list-style",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M212 28h-28c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30V58c0-16.569-13.431-30-30-30Zm-28 20h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10h-28c-5.523 0-10-4.477-10-10V58c0-5.523 4.477-10 10-10Zm28 92h-28c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30v-28c0-16.569-13.431-30-30-30Zm-28 20h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10h-28c-5.523 0-10-4.477-10-10v-28c0-5.523 4.477-10 10-10ZM26.983 41.147l92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Zm0 77 92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Zm0 81 92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Z",fill:"currentColor",fillRule:"nonzero"}))},1789:function(t,e,n){"use strict";n.r(e);var r=n(0);e.default=t=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},t,{className:["larkui-icon","larkui-icon-card-style",t.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M198 24h-28c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30V54c0-16.569-13.431-30-30-30Zm-28 20h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10h-28c-5.523 0-10-4.477-10-10V54c0-5.523 4.477-10 10-10Zm28 92h-28c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30v-28c0-16.569-13.431-30-30-30Zm-28 20h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10h-28c-5.523 0-10-4.477-10-10v-28c0-5.523 4.477-10 10-10ZM86 24H58c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30V54c0-16.569-13.431-30-30-30ZM58 44h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10H58c-5.523 0-10-4.477-10-10V54c0-5.523 4.477-10 10-10Zm28 92H58c-16.569 0-30 13.431-30 30v28c0 16.569 13.431 30 30 30h28c16.569 0 30-13.431 30-30v-28c0-16.569-13.431-30-30-30Zm-28 20h28c5.523 0 10 4.477 10 10v28c0 5.523-4.477 10-10 10H58c-5.523 0-10-4.477-10-10v-28c0-5.523 4.477-10 10-10Z",fill:"currentColor",fillRule:"nonzero"}))},3334:function(t,e){t.exports=function(t){return null==t?"":""+t}},3338:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var r=l(n(3435)),o=l(n(3436)),i=l(n(3437)),a=l(n(3438)),u=l(n(3439)),c=l(n(3440));function l(t){return t&&t.__esModule?t:{default:t}}e.hover=a.default,e.handleHover=a.default,e.handleActive=u.default,e.loop=c.default;var s=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var u=(0,r.default)(n),c=(0,o.default)(t,u);return(0,i.default)(c)};e.default=s},3342:function(t,e,n){var r=n(3334),o=n(3373),i=String.prototype.trim;t.exports=function(t,e){return t=r(t),!e&&i?i.call(t):(e=o(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},3344:function(t,e,n){"use strict";n.r(e),n.d(e,"isDesktopApp",(function(){return y})),n.d(e,"isYuque",(function(){return v})),n.d(e,"isDev",(function(){return m})),n.d(e,"isWin",(function(){return g})),n.d(e,"myNotesConsts",(function(){return b})),n.d(e,"getFilterBarConfig",(function(){return w})),n.d(e,"downloadFileHandler",(function(){return _}));var r=n(437);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=window,u=a.appData,c=a.navigator,l=u||{},s=l.env,f=l.me,p=void 0===f?{}:f,d="note/pinned/show/".concat(p.id),h="note/order/".concat(p.id),y=u.isDesktopApp,v=u.isYuque,m="local"===s,g="win32"===c.platform.toLowerCase(),b={NOTE_ORDER_KEY:h,NOTE_PINNED_SHOW_KEY:d,NOTE_ITEM_CONTENT_MIN_HEIGHT:214,NOTE_LIST_VIEW_MODES:{lite:"lite",full:"full"},COLLAPSE_BTN_CLASS:"note-item-collapse",SUBMIT_BTN_CLASS:"note-item-submit",NOTE_LIST_ITEM_CLASS:"note-list-item",NOTE_LIST_READ_TAG_ADD_CLASS:"note-list-item-read-tag-add",NOTE_EDITOR_AUTO_SAVE_INTERVAL:3e4},w=function(){return i(v?i(i(i(i(i({},r.FILTER_TYPES.image,__("图片")),r.FILTER_TYPES.bookmark,__("书签")),r.FILTER_TYPES.attachment,__("附件")),r.FILTER_TYPES.wechatRobot,__("来自微信")),r.FILTER_TYPES.yuqueChromeExtension,__("来自插件")):i(i(i(i({},r.FILTER_TYPES.image,__("图片")),r.FILTER_TYPES.bookmark,__("书签")),r.FILTER_TYPES.attachment,__("附件")),r.FILTER_TYPES.dingTalkRobot,__("来自钉钉")),r.FILTER_TYPES.share,__("分享中"))},_=function(t,e){var n=new URL(t);n.searchParams.append("yuque-desktop-download",""),e&&n.searchParams.append("filename",encodeURIComponent(e)),fetch(n.toString())}},3354:function(t,e,n){var r=n(3392),o=n(1055)((function(t,e,n){r(t,e,n)}));t.exports=o},3357:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(55),a=n.n(i),u=n(195),c=n.n(u),l=n(63),s=n.n(l),f=n(3391),p=n.n(f),d=n(3633),h=n(2868),y=n(3211),v=n(155),m=n(3629),g=n.n(m),b=n(3630),w=n.n(b),_=n(3621),x=n.n(_),O=n(3631),E=n(350),k=n(979),S=n(141),j=n(48);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function L(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}var P,A=a()("editor:cache"),N=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=e},(e=[{key:"retrieve",value:function(){var t={format:null,value:null};A("[retrieve]key: ",this.key);var e=S.a.get(this.key);if(!e)return null;A("[retrieve]find text: ",e);var n=p.a.guessFormat(e);return t.format=n,t.value=e,A("[retrieve]doc: ",t),t}},{key:"put",value:function(t,e){A("[put]content cached: ","".concat(this.key," -> ").concat(t)),S.a.set(this.key,t)}},{key:"clear",value:function(){S.a.remove(this.key)}}])&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function R(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function M(){M=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==I(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(I(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function B(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){B(i,r,o,a,u,"next",t)}function u(t){B(i,r,o,a,u,"throw",t)}a(void 0)}))}}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z(r.key),r)}}function G(t,e,n){return(e=z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var Y=a()("biz:lakex_mini_editor_base"),H=(null===(P=window.appData)||void 0===P?void 0:P.me)||{},V=function(){return t=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,"getDefaultSuggestions",(function(){return e.options.getDefaultSuggestions?e.options.getDefaultSuggestions():[]})),G(this,"setEngine",(function(t){e._engine=t,e.ocrListenerRemover=y.a.onEditorEngineLoaded(t,e.getType())})),G(this,"getEngine",(function(){return e._engine})),G(this,"setValue",(function(t){var n=t;t?t.startsWith("<")?(n={type:"lake",value:t},e._engine.setDocument(n)):"string"==typeof t&&(n={type:"json",value:JSON.parse(t)},e._engine.setDocument(n)):e._engine.setDocument()})),G(this,"getValue",(function(){return e._engine?e._engine.getPureContent():e.getDefaultValue()})),G(this,"isEmpty",(function(){return!e._engine||e._engine.isEmpty()})),G(this,"getSafetyValue",F(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.contentReady();case 2:return t.abrupt("return",e.getValue());case 3:case"end":return t.stop()}}),t)})))),G(this,"getHtml",(function(){return e._engine?e._engine.getPureHtml():null})),G(this,"focus",(function(t){if(!e._engine)return null;e._engine.focus(t)})),G(this,"contentReady",F(M().mark((function t(){var n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._engine){t.next=2;break}return t.abrupt("return",null);case 2:return n=0,r=function(t,o){e._engine.canGetDocument()?t():n>10?o():(n++,setTimeout((function(){r(t,o)}),1e3))},t.abrupt("return",new Promise(r));case 5:case"end":return t.stop()}}),t)})))),G(this,"saveAll",(function(){if(!e.options.disableCache){var t={format:s.a.FORMAT.LAKE,value:e.getValue(),html:e.getHtml()};e.saveToCache(t)}})),this.options=n,this.from=n.from||"reply",this.targetType=n.targetType,this.belong=n.belong,this.belongType=n.belongType,this.book=n.book,this.group=n.group,this.target=n.target,this.attachType=n.attachType,this.isEditMode=!!n.target,this.type=this.getType(),this.ctoken=Object(E.a)(window);var r=this.getCacheKey();this.cacheKeys={title:"".concat(r,"/title"),content:"".concat(r,"/content")},n.disableCache||(this.editorCache=new N(this.cacheKeys.content)),this.uuid=this.getUuid(),this._engine=null,this.ocrListenerRemover=null,this.initialDocument=null,this.init()},e=[{key:"init",value:function(){this.initialDocument=this.getInitialDocument(),Y("init use: ",this.initialDocument)}},{key:"buildOptions",value:function(t){var e=this,n={translate:{supportTranslate:w()()},hideVipIcon:Object(O.a)(),board:{boardWebProxyParams:{webProxy:j.a,userId:null==H?void 0:H.id,spm:v,appData:window.appData}},image:{supportImgOCR:x()(),uploadFileURL:function(){return y.a.adaptOcrImageUploadUrl(e.getImageUploadUrl())},accept:Object(h.getImageAcceptArr)()},file:{hideEmbedButton:g()(),uploadFileURL:this.getFileUploadUrl(),accept:Object(h.getFileAcceptArr)(),localdocAccept:Object(h.getLocalDocAcceptArr)(),embedButtonStatus:Object(h.getIsDiabledPreviewAndEmbed)()},transfer:{transferFilesURL:this.getTransferUrl()},localdoc:{uploadFileURL:this.getFileUploadUrl(),accept:Object(h.getLocalDocAcceptArr)()},mention:{mentionURL:k.a.patchGroupIdToUrl(this.getMentionActionUrl()),defaultList:this.getDefaultSuggestions()},lockedtext:{action:this.getCryptoUrl()},placeholder:(null==t?void 0:t.placeholder)||this.getPlaceholder(),link:{autoCompleteLink:null==t?void 0:t.autoCompleteLink},video:{uploadAction:this.getMediaUploadUrl("video"),queryAction:"/api/video",accept:Object(h.getVideoAcceptArr)()},audio:{uploadFileURL:this.getMediaUploadUrl("audio"),queryURL:"/api/video",accept:Object(h.getAudioAcceptArr)()},vote:{allowVote:!0,queryDetailUrl:"api/votes",queryCheckUrl:"api/votes/mine",voteUrl:"api/votes"},yuque:{disableEmbedView:this.getDisableYuqueCardEmbedView()},materialLibrary:{component:o.a.createElement(d.a,{storage:S.a,webProxy:j.a})},fullscreen:{enable:this.getEnableFullEditor()}},r=[],i=this.getBlockedCards();return i&&i.length>1&&(r=Array.from(new Set([].concat(R(r),R(i))))),n.disabledPlugins=r,n}},{key:"getProps",value:function(){return{format:this.getFormat(),defaultValue:this.getDefaultValue(),autoFocus:this.getAutoFocus(),isMiniSize:this.isMiniSize()}}},{key:"getType",value:function(){return this.options.type||"unknown"}},{key:"getAutoFocus",value:function(){var t=this.options.autoFocus;return null!=t?t:!!this.options.useMiniGuide}},{key:"isMiniSize",value:function(){return!1}},{key:"getEnableFullEditor",value:function(){return!0}},{key:"getBlockedCards",value:function(){return["video","checkIn","vote","audio"]}},{key:"getUuid",value:function(){var t=this.cacheKeys.uuid,e=S.a.get(t);return e||(e=c()(32)+c()(32),S.a.set(t,e)),e}},{key:"getDefaultFormat",value:function(){return s.a.FORMAT.LAKE}},{key:"getFormat",value:function(){var t=this.options.format;return t||this.initialDocument.format}},{key:"getPlaceholder",value:function(){return this.options.placeholder}},{key:"getInitialDocument",value:function(){if(this.initialDocument)return this.initialDocument;var t=this.loadFromCache();if(Y("cached document:",t),this.isEditMode){var e=this.getContentObject();return Y("adapted content: ",e),t&&(Y("merge with cached content",t),e.format=t.format||e.format,e.title=t.title||e.title,e.value=t.value||e.value),e}if(t)return t.format=t.format||this.getDefaultFormat(),t;var n=this.loadFromUrl();return n||{format:this.getDefaultFormat(),title:null,value:null}}},{key:"getContentObject",value:function(t){return{format:(t=t||this.target||{}).format||this.getDefaultFormat(),title:t.title||t.name||"",value:t.value||t.body_asl||t.content}}},{key:"getDefaultValue",value:function(){var t=this.options.defaultValue;return t||this.initialDocument.value}},{key:"getFullUrl",value:function(t){return this.isEditMode&&!this.options.useBelongAttach?"".concat(t,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(t,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):null}},{key:"getTransferUrl",value:function(){return this.getFullUrl("/api/upload/copy?type=attachment")}},{key:"getFileUploadUrl",value:function(){var t="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.getFullUrl(t)}},{key:"getMediaUploadUrl",value:function(t){var e="/api/video?ctoken=".concat(this.ctoken,"&format=").concat(t);return this.getFullUrl(e)}},{key:"getImageUploadUrl",value:function(){var t=this.getFileUploadUrl();return t?t.replace("&type=attachment","&type=image"):null}},{key:"getMentionActionUrl",value:function(){var t="";return this.isEditMode&&!this.options.useBelongAttach?t="/api/users/complete?target_type=".concat(this.attachType,"&target_id=").concat(this.target.id):this.belong&&(t="/api/users/complete?target_type=".concat(this.attachType,"&target_id=").concat(this.belong.id)),t}},{key:"getCryptoUrl",value:function(){return"/api/services/crypto"}},{key:"getDisableYuqueCardEmbedView",value:function(){return this.options.disableYuqueCardEmbedView}},{key:"saveToCache",value:function(t){var e;Y("save to cache:",t),t.format&&(t.title&&S.a.set(this.cacheKeys.title,t.title),this.needCacheContent(t)?null===(e=this.editorCache)||void 0===e||e.put(t.value,t.format):Y("value is empty or the same as origin, ignore cache"))}},{key:"needCacheContent",value:function(t){if(this.options.disableCache)return!1;if(!t.value)return!1;var e;if(p.a.isBlank(t))return null===(e=this.editorCache)||void 0===e||e.clear(),!1;if(!this.target)return!0;var n=this.getContentObject();return!p.a.isContentSame(t.format,n.value,t.value)}},{key:"reset",value:function(){Y("reset editor"),this.clearCache(),this._engine&&this._engine.setDocument()}},{key:"isContentChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t){var e=this.loadFromCache();e&&(t=e.value)}if(!this.target)return!0;var n="<cursor />";return this.target.body_asl.trim().replace(n,"")!==t.trim().replace(n,"")}},{key:"clearCache",value:function(){var t=this;Y("clear cache"),Object.keys(this.cacheKeys).forEach((function(e){S.a.remove(t.cacheKeys[e])}))}},{key:"getCacheKey",value:function(){return this.isEditMode&&this.target&&this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(this.target.id,"/edit"):this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/new"):"autosave/".concat(this.type)}},{key:"loadFromUrl",value:function(){}},{key:"loadFromCache",value:function(){if(this.options.disableCache)return null;var t=!1,e={format:null,title:null,value:null},n=this.editorCache.retrieve();if(n&&(t=!0,e.format=n.format,e.value=n.value),this.cacheKeys.title){var r=S.a.get(this.cacheKeys.title);r&&(t=!0,e.title=r)}return t?e:null}},{key:"destroy",value:function(){var t;null===(t=this.ocrListenerRemover)||void 0===t||t.call(this)}}],n=[{key:"getEmptyDocument",value:function(){return{format:s.a.FORMAT.LAKE,value:null}}}],e&&U(t.prototype,e),n&&U(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.a=V},3359:function(t,e,n){var r=n(442),o=n(3369);t.exports=function(t,e){return t&&r(t,o(e))}},3360:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboard=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),i=c(o),a=c(n(3338)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3443));function c(t){return t&&t.__esModule?t:{default:t}}var l=e.Checkboard=function(t){var e=t.white,n=t.grey,c=t.size,l=t.renderers,s=t.borderRadius,f=t.boxShadow,p=t.children,d=(0,a.default)({default:{grid:{borderRadius:s,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+u.get(e,n,c,l.canvas)+") center left"}}});return(0,o.isValidElement)(p)?i.default.cloneElement(p,r({},p.props,{style:r({},p.props.style,d.grid)})):i.default.createElement("div",{style:d.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},e.default=l},3363:function(t,e,n){var r=n(3334),o=n(3414);t.exports=function(t,e,n,i){t=r(t),e=~~e;var a=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",i){case"right":return a=e-t.length,t+o(n,a);case"both":return a=e-t.length,o(n,Math.ceil(a/2))+t+o(n,Math.floor(a/2));default:return a=e-t.length,o(n,a)+t}}},3365:function(t,e,n){var r=n(180),o=n(100);t.exports=function(t){return o(t)&&r(t)}},3372:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t);var n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}},3373:function(t,e,n){var r=n(3406);t.exports=function(t){return null==t?"\\s":t.source?t.source:"["+r(t)+"]"}},3374:function(t,e,n){var r=n(3334);t.exports=function(t){return r(t).split("")}},3375:function(t,e,n){var r=n(3334),o=n(3373),i=String.prototype.trimRight;t.exports=function(t,e){return t=r(t),!e&&i?i.call(t):(e=o(e),t.replace(new RegExp(e+"+$"),""))}},3382:function(t,e,n){var r=n(190),o=n(196);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},3383:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},3389:function(t,e,n){"use strict";var r=n(3634),o={};e.a=window.isDesktopOfflineApp?o:r.a},3390:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var u=n(3344).myNotesConsts,c=n(400),l=n(1030),s=i((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})),f=u.COLLAPSE_BTN_CLASS,p=u.SUBMIT_BTN_CLASS;function d(t){var e=document.querySelectorAll(".".concat(t));if(e&&e.length){var n=document.body.getBoundingClientRect().height;e.forEach((function(e){var r=e.getBoundingClientRect().top,o=e.closest(".note-list-item").querySelector(".right-tool-".concat(t));o&&(o.style.display=r-n>10?"flex":"none")}))}}s.scrollToTop=c((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.querySelector("#mynote-container .note-list-scroll"),n={top:0,left:0};t.silent||(n.behavior="smooth"),e.scrollTo(n)}),100),s.scrollToElem=c((function(t){var e=t.id,n=document.querySelector("#note-".concat(e));if(n){var r=n.offsetTop;document.querySelector("#mynote-container .note-list-scroll").scrollTo({top:r,left:0,behavior:"smooth"})}}),100),s.fixListContainerHeight=function(){var t=document.querySelector(".material-library-view"),e=document.querySelector(".note-list-container .note-list");if(t&&e){var n=t.getBoundingClientRect().height-82,r=document.querySelector(".note-tag-container");r&&(n-=r.getBoundingClientRect().height),e.style.height="".concat(n,"px")}},s.fixNoteViewer=c((function(t){var e=t.id,n=document.querySelector("#note-".concat(e)),r=document.querySelector("#mynote-container .note-list-scroll");if(n&&r&&n.offsetTop>=0&&n.offsetTop+10<r.scrollTop){var o=n.offsetTop;r.scrollTo({top:o,left:0,behavior:"smooth"})}}),100),s.checkSubmitBtnShow=function(){return d(p)},s.checkCollapseBtnShow=function(){return d(f)};var h=l((function(){s.checkSubmitBtnShow(),s.checkCollapseBtnShow()}),500);s.handleListScroll=function(){var t=document.querySelector("#mynote-container .note-list-scroll");t&&(t.removeEventListener("scroll",h),t.addEventListener("scroll",h))},t.exports=s},3391:function(t,e,n){"use strict";var r=n(3561),o=n(63),i=o.FORMAT,a=o.FORMATS_SAVE_TO_BODY_ASL;t.exports={guessFormat:function(t){return(t=(t=t||"").trim())?this.isLake(t)?i.LAKE:this.isAsl(t)?i.ASL:this.isSpreadJs(t)?i.SPREADJS:this.isLakeSheet(t)?i.LAKESHEET:i.MARKDOWN:null},isAsl:function(t){return t.startsWith('["root"')},isAsl1:function(t){return(t=(t=t||"").trimLeft()).startsWith('{"nodes":')},isLake:function(t){return t.startsWith("<!doctype lake>")},isSpreadJs:function(t){return t.startsWith('{"type":"Sheet"')},isLakeSheet:function(t){return t.startsWith('{"format":"lakesheet","type":"Sheet"')},isLakeMind:function(t){return t.startsWith('{"format":"lakemind","type":"Mind"')},isLakeBoard:function(t){return t.startsWith('{"format":"lakeboard","type":"Board"')},isLakeShow:function(t){return t.startsWith('{"format":"lakeshow","type":"Show"')},isSheet:function(t){return this.isLakeSheet(t)||this.isSpreadJs(t)},isBlank:function(t){if(!t)return!0;if(!t.value)return!0;var e=t.value,n=t.format;if(n===i.LAKE)return"<!doctype lake>"===e.replace(/<(?:br|cursor|meta) [^>]*\/>/g,"").replace(/<p><\/p>/g,"")||""===r(e).stripTags().value()&&!e.includes("<card");if(n===i.MARKDOWN&&"string"==typeof e)return""===e.trim();return!1},extractSummary:function(t){return r(t).stripTags().trim(" \n").replace(/\n/g," ").unescapeHTML().truncate(147,"...").value()},isHasImageCard:function(t){if(!t)return!1;return/<card.*\s*name="image"\s+value="(.{5,190})"/i.test(t)},extractFirstImage:function(t){if(t){var e=/<img[^>]{1,2000}src="([^"]{10,190})"/i.exec(t);return e?e[1]:void 0}},getContentForEdit:function(t){return(a.includes(t.format)?t.body_draft_asl||t.body_asl||"":t.body_draft||t.body||"").trim()},isContentSame:function(t,e,n){return e===n||t===i.LAKE&&this.getPureLakeContent(e)===this.getPureLakeContent(n)},getPureLakeContent:function(t){return(t=t||"").replace(/<anchor\s*\/>/gi,"").replace(/<focus\s*\/>/gi,"").replace(/<cursor\s*\/>/gi,"")},removeLakeMeta:function(t){return t?t.replace(/<meta [^>]{1,256}\/>/gi,""):t}}},3392:function(t,e,n){var r=n(249),o=n(3382),i=n(555),a=n(3434),u=n(89),c=n(247),l=n(3383);t.exports=function t(e,n,s,f,p){e!==n&&i(n,(function(i,c){if(p||(p=new r),u(i))a(e,n,c,s,t,f,p);else{var d=f?f(l(e,c),i,c+"",e,n,p):void 0;void 0===d&&(d=i),o(e,c,d)}}),c)}},3404:function(t,e,n){var r=n(3334);t.exports=function(t){return/^\s*$/.test(r(t))}},3405:function(t,e,n){var r=n(3334);t.exports=function(t){return(t=r(t)).charAt(0).toLowerCase()+t.slice(1)}},3406:function(t,e,n){var r=n(3334);t.exports=function(t){return r(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},3407:function(t,e,n){var r=n(3334),o="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",i="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";o+=o.toUpperCase(),i=(i+=i.toUpperCase()).split(""),o+="ß",i.push("ss"),t.exports=function(t){return r(t).replace(/.{1}/g,(function(t){var e=o.indexOf(t);return-1===e?t:i[e]}))}},3408:function(t,e,n){var r=n(3374);t.exports=function(t,e,n,o){var i=r(t);return i.splice(~~e,~~n,o),i.join("")}},3409:function(t,e){t.exports=function(t){return t<0?0:+t||0}},3410:function(t,e,n){var r=n(3334);t.exports=function(t,e){return 0===(t=r(t)).length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},3411:function(t,e,n){var r=n(3342),o=n(3405);t.exports=function(t,e){return t=r(t).replace(/[-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""})),!0===e?o(t):t}},3412:function(t,e,n){var r=n(3342);t.exports=function(t){return r(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},3413:function(t,e,n){var r=n(3342);t.exports=function(t){return r(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},3414:function(t,e){t.exports=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},3415:function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(91))},3416:function(t,e,n){var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(t){return function(t,e){var n,r,a,u,c,l,s,f,p,d=1,h=t.length,y="";for(r=0;r<h;r++)if("string"==typeof t[r])y+=t[r];else if("object"==typeof t[r]){if((u=t[r]).keys)for(n=e[d],a=0;a<u.keys.length;a++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',u.keys[a],u.keys[a-1]));n=n[u.keys[a]]}else n=u.param_no?e[u.param_no]:e[d++];if(o.not_type.test(u.type)&&o.not_primitive.test(u.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(u.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(u.type)&&(f=n>=0),u.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,u.width?parseInt(u.width):0);break;case"e":n=u.precision?parseFloat(n).toExponential(u.precision):parseFloat(n).toExponential();break;case"f":n=u.precision?parseFloat(n).toFixed(u.precision):parseFloat(n);break;case"g":n=u.precision?String(Number(n.toPrecision(u.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=u.precision?n.substring(0,u.precision):n;break;case"t":n=String(!!n),n=u.precision?n.substring(0,u.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=u.precision?n.substring(0,u.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=u.precision?n.substring(0,u.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(u.type)?y+=n:(!o.number.test(u.type)||f&&!u.sign?p="":(p=f?"+":"-",n=n.toString().replace(o.sign,"")),l=u.pad_char?"0"===u.pad_char?"0":u.pad_char.charAt(1):" ",s=u.width-(p+n).length,c=u.width&&s>0?l.repeat(s):"",y+=u.align?p+n+c:"0"===l?p+c+n:c+p+n)}return y}(function(t){if(u[t])return u[t];var e,n=t,r=[],i=0;for(;n;){if(null!==(e=o.text.exec(n)))r.push(e[0]);else if(null!==(e=o.modulo.exec(n)))r.push("%");else{if(null===(e=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var a=[],c=e[2],l=[];if(null===(l=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=o.key_access.exec(c)))a.push(l[1]);else{if(null===(l=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}e[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return u[t]=r}(t),arguments)}function a(t,e){return i.apply(null,[t].concat(e||[]))}var u=Object.create(null);e.sprintf=i,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=a,void 0===(r=function(){return{sprintf:i,vsprintf:a}}.call(e,n,e,t))||(t.exports=r))}()},3417:function(t,e,n){var r=n(3375);t.exports=function(t,e,n,o){e=e||", ",n=n||" and ";var i=t.slice(),a=i.pop();return t.length>2&&o&&(n=r(e)+n),i.length?i.join(e)+n+a:a}},3418:function(t,e){t.exports=function(t,e){return[e,t,e].join("")}},3420:function(t,e,n){var r=n(127),o=n(64),i=n(100);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},3424:function(t,e,n){t.exports=n(437)},3432:function(t,e,n){var r=n(165),o=n(247);t.exports=function(t){return r(t,o(t))}},3433:function(t,e,n){t.exports=n(3393)},3434:function(t,e,n){var r=n(3382),o=n(556),i=n(557),a=n(551),u=n(558),c=n(246),l=n(64),s=n(3365),f=n(238),p=n(351),d=n(89),h=n(911),y=n(327),v=n(3383),m=n(3432);t.exports=function(t,e,n,g,b,w,_){var x=v(t,n),O=v(e,n),E=_.get(O);if(E)r(t,n,E);else{var k=w?w(x,O,n+"",t,e,_):void 0,S=void 0===k;if(S){var j=l(O),T=!j&&f(O),C=!j&&!T&&y(O);k=O,j||T||C?l(x)?k=x:s(x)?k=a(x):T?(S=!1,k=o(O,!0)):C?(S=!1,k=i(O,!0)):k=[]:h(O)||c(O)?(k=x,c(x)?k=m(x):d(x)&&!p(x)||(k=u(O))):S=!1}S&&(_.set(O,k),b(k,O,g,w,_),_.delete(O)),r(t,n,k)}}},3435:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var r=u(n(3420)),o=u(n(3359)),i=u(n(911)),a=u(n(1672));function u(t){return t&&t.__esModule?t:{default:t}}var c=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(e,(function(e){Array.isArray(e)?t(e).map((function(t){return n.push(t)})):(0,i.default)(e)?(0,o.default)(e,(function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)})):(0,r.default)(e)&&n.push(e)})),n};e.default=c},3436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var r=a(n(3359)),o=a(n(291)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){return t&&t.__esModule?t:{default:t}}var u=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.default&&(0,o.default)(t.default)||{};return e.map((function(e){var o=t[e];return o&&(0,r.default)(o,(function(t,e){n[e]||(n[e]={}),n[e]=i({},n[e],o[e])})),e})),n};e.default=u},3437:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var r,o=n(3359),i=(r=o)&&r.__esModule?r:{default:r},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var u={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){var n=e[t];return n||{extend:t}}},c=e.autoprefix=function(t){var e={};return(0,i.default)(t,(function(t,n){var r={};(0,i.default)(t,(function(t,e){var n=u[e];n?r=a({},r,n(t)):r[e]=t})),e[n]=r})),e};e.default=c},3438:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return i=c=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(s))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return a.default.createElement(e,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},a.default.createElement(t,o({},c.props,c.state)))},u(c,i)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r}(a.default.Component)};e.default=c},3439:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return i=c=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(s))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return a.default.createElement(e,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},a.default.createElement(t,o({},c.props,c.state)))},u(c,i)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r}(a.default.Component)};e.default=c},3440:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var n={},r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[t]=e};return 0===t&&r("first-child"),t===e-1&&r("last-child"),(0===t||t%2==0)&&r("even"),1===Math.abs(t%2)&&r("odd"),r("nth-child",t),n}},3441:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Alpha=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=s(i),u=s(n(3338)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3442)),l=s(n(3360));function s(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=e.Alpha=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleChange=function(t){var e=c.calculateChange(t,r.props.hsl,r.props.direction,r.props.a,r.container);e&&"function"==typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},f(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=this.props.rgb,n=(0,u.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(l.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),e}(i.PureComponent||i.Component);e.default=p},3442:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n,r,o){var i=o.clientWidth,a=o.clientHeight,u="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,c="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,l=u-(o.getBoundingClientRect().left+window.pageXOffset),s=c-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=s<0?0:s>a?1:Math.round(100*s/a)/100,e.a!==f)return{h:e.h,s:e.s,l:e.l,a:f,source:"rgb"}}else{var p=void 0;if(r!==(p=l<0?0:l>i?1:Math.round(100*l/i)/100))return{h:e.h,s:e.s,l:e.l,a:p,source:"rgb"}}return null}},3443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},o=e.render=function(t,e,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=t,i.fillRect(0,0,o.width,o.height),i.fillStyle=e,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null};e.get=function(t,e,n,i){var a=t+"-"+e+"-"+n+(i?"-server":"");if(r[a])return r[a];var u=o(t,e,n,i);return r[a]=u,u}},3444:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditableInput=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),i=u(o),a=u(n(3338));function u(t){return t&&t.__esModule?t:{default:t}}var c=[38,40],l=1,s=e.EditableInput=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.setUpdatedValue(t.target.value,t)},n.handleKeyDown=function(t){var e,r=function(t){return Number(String(t).replace(/%/g,""))}(t.target.value);if(!isNaN(r)&&(e=t.keyCode,c.indexOf(e)>-1)){var o=n.getArrowOffset(),i=38===t.keyCode?r+o:r-o;n.setUpdatedValue(i,t)}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n.inputId="rc-editable-input-"+l++,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidUpdate",value:function(t,e){this.props.value===this.state.value||t.value===this.props.value&&e.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(t){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.props.label,t)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(t,e){var n=this.props.label?this.getValueObjectWithLabel(t):t;this.props.onChange&&this.props.onChange(n,e),this.setState({value:t})}},{key:"render",value:function(){var t=this,e=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.default.createElement("div",{style:e.wrap},i.default.createElement("input",{id:this.inputId,style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.default.createElement("label",{htmlFor:this.inputId,style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(o.PureComponent||o.Component);e.default=s},3445:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),i=c(o),a=c(n(3338)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3446));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=e.Hue=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleChange=function(t){var e=u.calculateChange(t,r.props.direction,r.props.hsl,r.container);e&&"function"==typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},l(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.direction,n=void 0===e?"horizontal":e,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.default.createElement("div",{style:r.hue},i.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.default.createElement("div",{style:r.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:r.slider}))))}}]),e}(o.PureComponent||o.Component);e.default=s},3446:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,u="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),l=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===e){var s=void 0;if(l<0)s=359;else if(l>i)s=0;else{s=360*(-100*l/i+100)/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>o)f=359;else{f=360*(100*c/o)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},3447:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Raised=void 0;var r=u(n(0)),o=u(n(4)),i=u(n(3338)),a=u(n(3354));function u(t){return t&&t.__esModule?t:{default:t}}var c=e.Raised=function(t){var e=t.zDepth,n=t.radius,o=t.background,u=t.children,c=t.styles,l=void 0===c?{}:c,s=(0,i.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":1===e});return r.default.createElement("div",{style:s.wrap},r.default.createElement("div",{style:s.bg}),r.default.createElement("div",{style:s.content},u))};c.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number,styles:o.default.object},c.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},e.default=c},3448:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),i=l(o),a=l(n(3338)),u=l(n(1030)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3449));function l(t){return t&&t.__esModule?t:{default:t}}var s=e.Saturation=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,c.calculateChange(t,n.props.hsl,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t);var e=n.getContainerRenderWindow();e.addEventListener("mousemove",n.handleChange),e.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,u.default)((function(t,e,n){t(e,n)}),50),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var t=this.container,e=window;!e.document.contains(t)&&e.parent!==e;)e=e.parent;return e}},{key:"unbindEventListeners",value:function(){var t=this.getContainerRenderWindow();t.removeEventListener("mousemove",this.handleChange),t.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.style||{},n=e.color,r=e.white,o=e.black,u=e.pointer,c=e.circle,l=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:u,circle:c}},{custom:!!this.props.style});return i.default.createElement("div",{style:l.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.default.createElement("div",{style:l.white,className:"saturation-white"},i.default.createElement("div",{style:l.black,className:"saturation-black"}),i.default.createElement("div",{style:l.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:l.circle}))))}}]),e}(o.PureComponent||o.Component);e.default=s},3449:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,u="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=u-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),l<0?l=0:l>i&&(l=i);var s=c/o,f=1-l/i;return{h:e.h,s:s,v:f,a:e.a,source:"hsv"}}},3450:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorWrap=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=l(i),u=l(n(400)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3451));function l(t){return t&&t.__esModule?t:{default:t}}var s=e.ColorWrap=function(t){var e=function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(c.simpleCheckForValidColor(t)){var r=c.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(c.simpleCheckForValidColor(t)){var r=c.toState(t,t.h||e.state.oldHue);e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=r({},c.toState(t.color,0)),e.debounce=(0,u.default)((function(t,e,n){t(e,n)}),100),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"render",value:function(){var e={};return this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover),a.default.createElement(t,r({},this.props,this.state,{onChange:this.handleChange},e))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return r({},c.toState(t.color,e.oldHue))}}]),n}(i.PureComponent||i.Component);return e.propTypes=r({},t.propTypes),e.defaultProps=r({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};e.default=s},3451:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isvalidColorString=e.red=e.getContrastingColor=e.isValidHex=e.toState=e.simpleCheckForValidColor=void 0;var r=i(n(3433)),o=i(n(703));function i(t){return t&&t.__esModule?t:{default:t}}e.simpleCheckForValidColor=function(t){var e=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(t[r]&&(e+=1,isNaN(t[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(t[r])&&(n+=1)}})),e===n&&t};var a=e.toState=function(t,e){var n=t.hex?(0,o.default)(t.hex):(0,o.default)(t),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),u=n.toHex();return 0===r.s&&(r.h=e||0,i.h=e||0),{hsl:r,hex:"000000"===u&&0===a.a?"transparent":"#"+u,rgb:a,hsv:i,oldHue:t.h||e||r.h,source:t.source}};e.isValidHex=function(t){if("transparent"===t)return!0;var e="#"===String(t).charAt(0)?1:0;return t.length!==4+e&&t.length<7+e&&(0,o.default)(t).isValid()},e.getContrastingColor=function(t){if(!t)return"#fff";var e=a(t);return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=128?"#000":"#fff"},e.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},e.isvalidColorString=function(t,e){var n=t.replace("°","");return(0,o.default)(e+" ("+n+")")._ok}},3452:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=c(n(0)),i=c(n(3338)),a=n(3453),u=c(n(3360));function c(t){return t&&t.__esModule?t:{default:t}}var l=e.Swatch=function(t){var e=t.color,n=t.style,a=t.onClick,c=void 0===a?function(){}:a,l=t.onHover,s=t.title,f=void 0===s?e:s,p=t.children,d=t.focus,h=t.focusStyle,y=void 0===h?{}:h,v="transparent"===e,m=(0,i.default)({default:{swatch:r({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?y:{})}}),g={};return l&&(g.onMouseOver=function(t){return l(e,t)}),o.default.createElement("div",r({style:m.swatch,onClick:function(t){return c(e,t)},title:f,tabIndex:0,onKeyDown:function(t){return 13===t.keyCode&&c(e,t)}},g),p,v&&o.default.createElement(u.default,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};e.default=(0,a.handleFocus)(l)},3453:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleFocus=void 0;var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=(r=a)&&r.__esModule?r:{default:r};function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.handleFocus=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n=c(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),i(r,[{key:"render",value:function(){return u.default.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},u.default.createElement(t,o({},this.props,this.state)))}}]),r}(u.default.Component)}},3459:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"initList",(function(){return y})),n.d(r,"syncList",(function(){return m})),n.d(r,"createMirror",(function(){return b}));var o={};n.r(o),n.d(o,"lock",(function(){return k})),n.d(o,"unlock",(function(){return j})),n.d(o,"versionList",(function(){return C})),n.d(o,"versionDetail",(function(){return P})),n.d(o,"saveVersion",(function(){return N}));var i={};n.r(i),n.d(i,"show",(function(){return F})),n.d(i,"index",(function(){return G})),n.d(i,"update",(function(){return Y})),n.d(i,"status",(function(){return V})),n.d(i,"mirror",(function(){return W})),n.d(i,"create",(function(){return q})),n.d(i,"createNewMirror",(function(){return $}));var a={};n.r(a),n.d(a,"batchArchive",(function(){return rt})),n.d(a,"batchDelete",(function(){return it})),n.d(a,"batchPin",(function(){return ut})),n.d(a,"batchUnPin",(function(){return lt})),n.d(a,"updatePublic",(function(){return ft})),n.d(a,"shareToGarden",(function(){return dt}));var u={};n.r(u),n.d(u,"index",(function(){return bt})),n.d(u,"create",(function(){return _t})),n.d(u,"del",(function(){return Ot})),n.d(u,"count",(function(){return kt})),n.d(u,"generateTags",(function(){return jt}));var c={};n.r(c),n.d(c,"initList",(function(){return Nt})),n.d(c,"syncList",(function(){return Rt}));var l={};n.r(l),n.d(l,"index",(function(){return Gt})),n.d(l,"create",(function(){return Yt})),n.d(l,"del",(function(){return Vt})),n.d(l,"update",(function(){return Wt})),n.d(l,"pin",(function(){return qt}));var s=n(1);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(){p=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),u=new A(r||[]);return o(a,"_invoke",{value:T(t,n,u)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function _(){}var x={};l(x,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==n&&r.call(E,a)&&(x=E);var k=_.prototype=b.prototype=Object.create(x);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,a,u){var c=d(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==f(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=h;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=C(u,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=d(e,n,r);if("normal"===l.type){if(o=r.done?m:y,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(f(e)+" is not iterable")}return w.prototype=_,o(k,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,u,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function d(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,u,"next",t)}function u(t){d(i,r,o,a,u,"throw",t)}a(void 0)}))}}function y(t){return v.apply(this,arguments)}function v(){return v=h(p().mark((function t(e){var n,r=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteAppController/initList",t.abrupt("return",s.get("/api/modules/note/notes/NoteAppController/initList",e,n));case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return g=h(p().mark((function t(e){var n,r=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteAppController/syncList",t.abrupt("return",s.get("/api/modules/note/notes/NoteAppController/syncList",e,n));case 3:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=h(p().mark((function t(e){var n,r=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteAppController/createMirror",t.abrupt("return",s.get("/api/modules/note/notes/NoteAppController/createMirror",e,n));case 3:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function x(){x=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new A(r||[]);return o(a,"_invoke",{value:T(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==n&&r.call(E,a)&&(w=E);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==_(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=C(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(j.prototype),l(j.prototype,u,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function O(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){O(i,r,o,a,u,"next",t)}function u(t){O(i,r,o,a,u,"throw",t)}a(void 0)}))}}function k(t){return S.apply(this,arguments)}function S(){return S=E(x().mark((function t(e){var n,r=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteContentController/lock",t.abrupt("return",s.put("/api/modules/note/notes/NoteContentController/lock",e,n));case 3:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function j(t){return T.apply(this,arguments)}function T(){return T=E(x().mark((function t(e){var n,r=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteContentController/unlock",t.abrupt("return",s.delete("/api/modules/note/notes/NoteContentController/unlock",e,n));case 3:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function C(t){return L.apply(this,arguments)}function L(){return L=E(x().mark((function t(e){var n,r=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteContentController/versionList",t.abrupt("return",s.get("/api/modules/note/notes/NoteContentController/versionList",e,n));case 3:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function P(t){return A.apply(this,arguments)}function A(){return A=E(x().mark((function t(e){var n,r=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteContentController/versionDetail",t.abrupt("return",s.get("/api/modules/note/notes/NoteContentController/versionDetail",e,n));case 3:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function N(t){return I.apply(this,arguments)}function I(){return I=E(x().mark((function t(e){var n,r=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteContentController/saveVersion",t.abrupt("return",s.post("/api/modules/note/notes/NoteContentController/saveVersion",e,n));case 3:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function D(){D=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==R(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(R(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function M(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function B(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){M(i,r,o,a,u,"next",t)}function u(t){M(i,r,o,a,u,"throw",t)}a(void 0)}))}}function F(t){return U.apply(this,arguments)}function U(){return U=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/show",t.abrupt("return",s.get("/api/modules/note/notes/NoteController/show",e,n));case 3:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function G(t){return z.apply(this,arguments)}function z(){return z=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/index",t.abrupt("return",s.get("/api/modules/note/notes/NoteController/index",e,n));case 3:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}function Y(t){return H.apply(this,arguments)}function H(){return H=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/update",t.abrupt("return",s.put("/api/modules/note/notes/NoteController/update",e,n));case 3:case"end":return t.stop()}}),t)}))),H.apply(this,arguments)}function V(t){return Z.apply(this,arguments)}function Z(){return Z=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/status",t.abrupt("return",s.get("/api/modules/note/notes/NoteController/status",e,n));case 3:case"end":return t.stop()}}),t)}))),Z.apply(this,arguments)}function W(t){return K.apply(this,arguments)}function K(){return K=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/mirror",t.abrupt("return",s.get("/api/modules/note/notes/NoteController/mirror",e,n));case 3:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function q(t){return X.apply(this,arguments)}function X(){return X=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/create",t.abrupt("return",s.post("/api/modules/note/notes/NoteController/create",e,n));case 3:case"end":return t.stop()}}),t)}))),X.apply(this,arguments)}function $(t){return J.apply(this,arguments)}function J(){return J=B(D().mark((function t(e){var n,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteController/createNewMirror",t.abrupt("return",s.post("/api/modules/note/notes/NoteController/createNewMirror",e,n));case 3:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function tt(){tt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Q(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Q(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function et(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function nt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){et(i,r,o,a,u,"next",t)}function u(t){et(i,r,o,a,u,"throw",t)}a(void 0)}))}}function rt(t){return ot.apply(this,arguments)}function ot(){return ot=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/batchArchive",t.abrupt("return",s.put("/api/modules/note/notes/NoteOperateController/batchArchive",e,n));case 3:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function it(t){return at.apply(this,arguments)}function at(){return at=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/batchDelete",t.abrupt("return",s.delete("/api/modules/note/notes/NoteOperateController/batchDelete",e,n));case 3:case"end":return t.stop()}}),t)}))),at.apply(this,arguments)}function ut(t){return ct.apply(this,arguments)}function ct(){return ct=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/batchPin",t.abrupt("return",s.put("/api/modules/note/notes/NoteOperateController/batchPin",e,n));case 3:case"end":return t.stop()}}),t)}))),ct.apply(this,arguments)}function lt(t){return st.apply(this,arguments)}function st(){return st=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/batchUnPin",t.abrupt("return",s.put("/api/modules/note/notes/NoteOperateController/batchUnPin",e,n));case 3:case"end":return t.stop()}}),t)}))),st.apply(this,arguments)}function ft(t){return pt.apply(this,arguments)}function pt(){return pt=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/updatePublic",t.abrupt("return",s.put("/api/modules/note/notes/NoteOperateController/updatePublic",e,n));case 3:case"end":return t.stop()}}),t)}))),pt.apply(this,arguments)}function dt(t){return ht.apply(this,arguments)}function ht(){return ht=nt(tt().mark((function t(e){var n,r=arguments;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteOperateController/shareToGarden",t.abrupt("return",s.post("/api/modules/note/notes/NoteOperateController/shareToGarden",e,n));case 3:case"end":return t.stop()}}),t)}))),ht.apply(this,arguments)}function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(){vt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==yt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(yt(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function mt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function gt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){mt(i,r,o,a,u,"next",t)}function u(t){mt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function bt(t){return wt.apply(this,arguments)}function wt(){return wt=gt(vt().mark((function t(e){var n,r=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteTagController/index",t.abrupt("return",s.get("/api/modules/note/notes/NoteTagController/index",e,n));case 3:case"end":return t.stop()}}),t)}))),wt.apply(this,arguments)}function _t(t){return xt.apply(this,arguments)}function xt(){return xt=gt(vt().mark((function t(e){var n,r=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteTagController/create",t.abrupt("return",s.post("/api/modules/note/notes/NoteTagController/create",e,n));case 3:case"end":return t.stop()}}),t)}))),xt.apply(this,arguments)}function Ot(t){return Et.apply(this,arguments)}function Et(){return Et=gt(vt().mark((function t(e){var n,r=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteTagController/del",t.abrupt("return",s.delete("/api/modules/note/notes/NoteTagController/del",e,n));case 3:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}function kt(t){return St.apply(this,arguments)}function St(){return St=gt(vt().mark((function t(e){var n,r=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteTagController/count",t.abrupt("return",s.get("/api/modules/note/notes/NoteTagController/count",e,n));case 3:case"end":return t.stop()}}),t)}))),St.apply(this,arguments)}function jt(t){return Tt.apply(this,arguments)}function Tt(){return Tt=gt(vt().mark((function t(e){var n,r=arguments;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/notes/NoteTagController/generateTags",t.abrupt("return",s.post("/api/modules/note/notes/NoteTagController/generateTags",e,n));case 3:case"end":return t.stop()}}),t)}))),Tt.apply(this,arguments)}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Lt(){Lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Ct(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ct(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Pt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function At(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,u,"next",t)}function u(t){Pt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Nt(t){return It.apply(this,arguments)}function It(){return It=At(Lt().mark((function t(e){var n,r=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagAppController/initList",t.abrupt("return",s.get("/api/modules/note/tags/TagAppController/initList",e,n));case 3:case"end":return t.stop()}}),t)}))),It.apply(this,arguments)}function Rt(t){return Dt.apply(this,arguments)}function Dt(){return Dt=At(Lt().mark((function t(e){var n,r=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagAppController/syncList",t.abrupt("return",s.get("/api/modules/note/tags/TagAppController/syncList",e,n));case 3:case"end":return t.stop()}}),t)}))),Dt.apply(this,arguments)}function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Bt(){Bt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Mt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Mt(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Ft(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ft(i,r,o,a,u,"next",t)}function u(t){Ft(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Gt(t){return zt.apply(this,arguments)}function zt(){return zt=Ut(Bt().mark((function t(e){var n,r=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagController/index",t.abrupt("return",s.get("/api/modules/note/tags/TagController/index",e,n));case 3:case"end":return t.stop()}}),t)}))),zt.apply(this,arguments)}function Yt(t){return Ht.apply(this,arguments)}function Ht(){return Ht=Ut(Bt().mark((function t(e){var n,r=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagController/create",t.abrupt("return",s.post("/api/modules/note/tags/TagController/create",e,n));case 3:case"end":return t.stop()}}),t)}))),Ht.apply(this,arguments)}function Vt(t){return Zt.apply(this,arguments)}function Zt(){return Zt=Ut(Bt().mark((function t(e){var n,r=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagController/del",t.abrupt("return",s.delete("/api/modules/note/tags/TagController/del",e,n));case 3:case"end":return t.stop()}}),t)}))),Zt.apply(this,arguments)}function Wt(t){return Kt.apply(this,arguments)}function Kt(){return Kt=Ut(Bt().mark((function t(e){var n,r=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagController/update",t.abrupt("return",s.put("/api/modules/note/tags/TagController/update",e,n));case 3:case"end":return t.stop()}}),t)}))),Kt.apply(this,arguments)}function qt(t){return Xt.apply(this,arguments)}function Xt(){return Xt=Ut(Bt().mark((function t(e){var n,r=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},"/api/modules/note/tags/TagController/pin",t.abrupt("return",s.put("/api/modules/note/tags/TagController/pin",e,n));case 3:case"end":return t.stop()}}),t)}))),Xt.apply(this,arguments)}e.a={NoteAppCtlImpl:r,NoteContentCtlImpl:o,NoteCtlImpl:i,NoteOperateCtlImpl:a,NoteTagCtlImpl:u,TagAppCtlImpl:c,TagCtlImpl:l}},3466:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i}));var r=function(t){return t.content_updated_at="content_updated_at",t.first_published_at="first_published_at",t}({}),o=function(t){return t.all="all",t.archive="archive",t.image="image",t.bookmark="bookmark",t.attachment="attachment",t.archived="archived",t.share="share",t.dingTalkRobot="dingTalkRobot",t.wechatRobot="wechatRobot",t.yuqueChromeExtension="yuqueChromeExtension",t}({}),i=function(t){return t[t.unarchived=0]="unarchived",t[t.archived=9]="archived",t}({})},3472:function(t,e,n){"use strict";var r=n(184);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function u(t,e,n){return e=s(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},l.apply(null,arguments)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,o=[{key:"buildOptions",value:function(t){var n,o,i,a,u,c=(n=e,o="buildOptions",i=this,u=l(s(1&(a=3)?n.prototype:n),o,i),2&a&&"function"==typeof u?function(t){return u.apply(i,t)}:u)([t]);return c.disabledPlugins.push("mobile"),r.ua.mobile&&c.disabledPlugins.push("placeholder","slash"),c}},{key:"getBlockedCards",value:function(){return["video","audio","checkIn"]}}],o&&i(n.prototype,o),a&&i(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,a}(n(3357).a);e.a=p},3561:function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this._wrapped=t}function o(t,e){"function"==typeof e&&(r.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=e.apply(null,t);return"string"==typeof n?new r(n):n})}for(var i in r.VERSION="3.3.6",r.isBlank=n(3404),r.stripTags=n(3562),r.capitalize=n(3372),r.decapitalize=n(3405),r.chop=n(3563),r.trim=n(3342),r.clean=n(3564),r.cleanDiacritics=n(3407),r.count=n(3565),r.chars=n(3374),r.swapCase=n(3566),r.escapeHTML=n(3567),r.unescapeHTML=n(3569),r.splice=n(3408),r.insert=n(3571),r.replaceAll=n(3572),r.include=n(3573),r.join=n(3574),r.lines=n(3575),r.dedent=n(3576),r.reverse=n(3577),r.startsWith=n(3578),r.endsWith=n(3579),r.pred=n(3580),r.succ=n(3581),r.titleize=n(3582),r.camelize=n(3411),r.underscored=n(3412),r.dasherize=n(3413),r.classify=n(3583),r.humanize=n(3584),r.ltrim=n(3585),r.rtrim=n(3375),r.truncate=n(3586),r.prune=n(3587),r.words=n(3588),r.pad=n(3363),r.lpad=n(3589),r.rpad=n(3590),r.lrpad=n(3591),r.sprintf=n(3592),r.vsprintf=n(3593),r.toNumber=n(3594),r.numberFormat=n(3595),r.strRight=n(3596),r.strRightBack=n(3597),r.strLeft=n(3598),r.strLeftBack=n(3599),r.toSentence=n(3417),r.toSentenceSerial=n(3600),r.slugify=n(3601),r.surround=n(3418),r.quote=n(3602),r.unquote=n(3603),r.repeat=n(3604),r.naturalCmp=n(3605),r.levenshtein=n(3606),r.toBoolean=n(3607),r.exports=n(3608),r.escapeRegExp=n(3406),r.wrap=n(3609),r.map=n(3610),r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,r.camelcase=r.camelize,r.mapChars=r.map,r.prototype={value:function(){return this._wrapped}},r)o(i,r[i]);function a(t){o(t,(function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)}))}o("tap",(function(t,e){return e(t)}));var u=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var c in u)a(u[c]);t.exports=r},3562:function(t,e,n){var r=n(3334);t.exports=function(t){return r(t).replace(/<\/?[^>]+>/g,"")}},3563:function(t,e){t.exports=function(t,e){return null==t?[]:(t=String(t),(e=~~e)>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},3564:function(t,e,n){var r=n(3342);t.exports=function(t){return r(t).replace(/\s\s+/g," ")}},3565:function(t,e,n){var r=n(3334);t.exports=function(t,e){return t=r(t),e=r(e),0===t.length||0===e.length?0:t.split(e).length-1}},3566:function(t,e,n){var r=n(3334);t.exports=function(t){return r(t).replace(/\S/g,(function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()}))}},3567:function(t,e,n){var r=n(3334),o=n(3568),i="[";for(var a in o)i+=a;i+="]";var u=new RegExp(i,"g");t.exports=function(t){return r(t).replace(u,(function(t){return"&"+o[t]+";"}))}},3568:function(t,e){t.exports={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"}},3569:function(t,e,n){var r=n(3334),o=n(3570);t.exports=function(t){return r(t).replace(/\&([^;]{1,10});/g,(function(t,e){var n;return e in o?o[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t}))}},3570:function(t,e){t.exports={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"}},3571:function(t,e,n){var r=n(3408);t.exports=function(t,e,n){return r(t,e,0,n)}},3572:function(t,e,n){var r=n(3334);t.exports=function(t,e,n,o){var i=new RegExp(e,!0===o?"gi":"g");return r(t).replace(i,n)}},3573:function(t,e,n){var r=n(3334);t.exports=function(t,e){return""===e||-1!==r(t).indexOf(e)}},3574:function(t,e,n){var r=n(3334),o=[].slice;t.exports=function(){var t=o.call(arguments),e=t.shift();return t.join(r(e))}},3575:function(t,e){t.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},3576:function(t,e,n){var r=n(3334);t.exports=function(t,e){var n,o=function(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,r=1;r<e.length;r++)n=Math.min(e[r].length,n);return n}(t=r(t));return 0===o?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),t.replace(n,""))}},3577:function(t,e,n){var r=n(3374);t.exports=function(t){return r(t).reverse().join("")}},3578:function(t,e,n){var r=n(3334),o=n(3409);t.exports=function(t,e,n){return t=r(t),e=""+e,n=null==n?0:Math.min(o(n),t.length),t.lastIndexOf(e,n)===n}},3579:function(t,e,n){var r=n(3334),o=n(3409);t.exports=function(t,e,n){return t=r(t),e=""+e,(n=void 0===n?t.length-e.length:Math.min(o(n),t.length)-e.length)>=0&&t.indexOf(e,n)===n}},3580:function(t,e,n){var r=n(3410);t.exports=function(t){return r(t,-1)}},3581:function(t,e,n){var r=n(3410);t.exports=function(t){return r(t,1)}},3582:function(t,e,n){var r=n(3334);t.exports=function(t){return r(t).toLowerCase().replace(/(?:^|\s|-)\S/g,(function(t){return t.toUpperCase()}))}},3583:function(t,e,n){var r=n(3372),o=n(3411),i=n(3334);t.exports=function(t){return t=i(t),r(o(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},3584:function(t,e,n){var r=n(3372),o=n(3412),i=n(3342);t.exports=function(t){return r(i(o(t).replace(/_id$/,"").replace(/_/g," ")))}},3585:function(t,e,n){var r=n(3334),o=n(3373),i=String.prototype.trimLeft;t.exports=function(t,e){return t=r(t),!e&&i?i.call(t):(e=o(e),t.replace(new RegExp("^"+e+"+"),""))}},3586:function(t,e,n){var r=n(3334);t.exports=function(t,e,n){return n=n||"...",e=~~e,(t=r(t)).length>e?t.slice(0,e)+n:t}},3587:function(t,e,n){var r=n(3334),o=n(3375);t.exports=function(t,e,n){if(t=r(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;var i=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,(function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "}));return((i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):o(i.slice(0,i.length-1)))+n).length>t.length?t:t.slice(0,i.length)+n}},3588:function(t,e,n){var r=n(3404),o=n(3342);t.exports=function(t,e){return r(t)?[]:o(t,e).split(e||/\s+/)}},3589:function(t,e,n){var r=n(3363);t.exports=function(t,e,n){return r(t,e,n)}},3590:function(t,e,n){var r=n(3363);t.exports=function(t,e,n){return r(t,e,n,"right")}},3591:function(t,e,n){var r=n(3363);t.exports=function(t,e,n){return r(t,e,n,"both")}},3592:function(t,e,n){var r=n(3415);t.exports=r(n(3416).sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},3593:function(t,e,n){var r=n(3415);t.exports=r(n(3416).vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},3594:function(t,e){t.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},3595:function(t,e){t.exports=function(t,e,n,r){if(isNaN(t)||null==t)return"";r="string"==typeof r?r:",";var o=(t=t.toFixed(~~e)).split("."),i=o[0],a=o[1]?(n||".")+o[1]:"";return i.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+a}},3596:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t);var n=(e=r(e))?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},3597:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t);var n=(e=r(e))?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},3598:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t);var n=(e=r(e))?t.indexOf(e):-1;return~n?t.slice(0,n):t}},3599:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t),e=r(e);var n=t.lastIndexOf(e);return~n?t.slice(0,n):t}},3600:function(t,e,n){var r=n(3417);t.exports=function(t,e,n){return r(t,e,n,!0)}},3601:function(t,e,n){var r=n(3342),o=n(3413),i=n(3407);t.exports=function(t){return r(o(i(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},3602:function(t,e,n){var r=n(3418);t.exports=function(t,e){return r(t,e||'"')}},3603:function(t,e){t.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},3604:function(t,e,n){var r=n(3334),o=n(3414);t.exports=function(t,e,n){if(t=r(t),e=~~e,null==n)return o(t,e);for(var i=[];e>0;i[--e]=t);return i.join(n)}},3605:function(t,e){t.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,r=String(t).match(n),o=String(e).match(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=r[a],c=o[a];if(u!==c){var l=+u,s=+c;return l==l&&s==s?l>s?1:-1:u<c?-1:1}}return r.length!=o.length?r.length-o.length:t<e?-1:1}},3606:function(t,e,n){var r=n(3334);t.exports=function(t,e){"use strict";if((t=r(t))===(e=r(e)))return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),o=0;o<n.length;++o)n[o]=o;for(o=0;o<t.length;++o){for(var i=o+1,a=0;a<e.length;++a){var u=i,c=u+1;(i=n[a]+(t.charAt(o)===e.charAt(a)?0:1))>c&&(i=c),i>(c=n[a+1]+1)&&(i=c),n[a]=u}n[a]=i}return i}},3607:function(t,e,n){var r=n(3342);function o(t,e){var n,r,o=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n]){if(r.test&&r.test(t))return!0;if(r.toLowerCase()===o)return!0}}t.exports=function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:!!o(t=r(t),e||["true","1"])||!o(t,n||["false","0"])&&void 0}},3608:function(t,e){t.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(t[e]=this[e]);return t}},3609:function(t,e,n){var r=n(3334);t.exports=function(t,e){t=r(t);var n,o=(e=e||{}).width||75,i=e.seperator||"\n",a=e.cut||!1,u=e.preserveSpaces||!1,c=e.trailingSpaces||!1;if(o<=0)return t;if(a){var l=0;for(n="";l<t.length;)l%o==0&&l>0&&(n+=i),n+=t.charAt(l),l++;if(c)for(;l%o>0;)n+=" ",l++;return n}var s=t.split(" "),f=0;for(n="";s.length>0;){if(1+s[0].length+f>o&&f>0){if(u)n+=" ",f++;else if(c)for(;f<o;)n+=" ",f++;n+=i,f=0}f>0&&(n+=" ",f++),n+=s[0],f+=s[0].length,s.shift()}if(c)for(;f<o;)n+=" ",f++;return n}},3610:function(t,e,n){var r=n(3334);t.exports=function(t,e){return 0===(t=r(t)).length||"function"!=typeof e?t:t.replace(/./g,e)}},3621:function(t,e,n){var r=n(1479).getInterest,o=n(47).INTEREST_CODE;t.exports=function(){return r().interests[o.open_ocr]}},3629:function(t,e){t.exports=function(){var t=window.appData||{},e=t.isYuque,n=t.organization,r=t.group,o=void 0===r?{}:r,i=n&&n.id;return!!e&&(!("Group"!==(null==o?void 0:o.type)||i)||!(!n||n.isPremium))}},3630:function(t,e,n){var r=n(695).isPaidCheckAll;t.exports=function(){return!(window.appData||{}).isYuque||!!r()}},3631:function(t,e,n){"use strict";var r=n(695).isPaidCheckAll;e.a=function(){if(!(window.appData||{}).isYuque)return!0;var t=window.appData,e=t.organization,n=t.group,o=void 0===n?{}:n;return!(!e||!r())||!e&&"Group"===(null==o?void 0:o.type)}},3633:function(t,e,n){"use strict";n.d(e,"a",(function(){return $e}));n(825);var r=n(245),o=n(0),i=n.n(o),a=n(4),u=n.n(a),c=(n(43),n(10)),l=(n(270),n(135)),s=n(6),f=n.n(s),p=n(1032),d=n.n(p),h=n(908),y=n(1260),v=n.n(y),m=n(59),g=n(432),b=n(3643),w=n(437),_=n(344),x=n.n(_),O=n(3424),E=n(3344),k=n(815),S="note-status-module_dev_g73YZ",j="note-status-module_text_ZLRRs",T=function(t){var e=t.item,n=t.orderBy,r=e.published_at,o=e.content.updated_at,a=n===O.ORDER_BY.content_updated_at,u=a?o:r,c=new Date(o).getFullYear()!==(new Date).getFullYear();return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:j},a?__("更新于"):__("创建于")," ",k.default.format(u,{onlyDate:c,disableYear:!1})),function(t){if(!E.isDev)return null;var e=null===o;return i.a.createElement("span",{className:S},t.id," ",e?"mirror":""," ",x()(t.content_updated_at).format("YYYY-MM-DD HH:mm:ss"))}(e))},C=n(3390),L=(n(73),n(32)),P=n(1355),A=n(281),N=(n(170),n(70)),I=n(1030),R=n.n(I),D=n(1497),M=n(1364),B=n(1510),F="TagList-module_list_g-vtQ",U="TagList-module_item_bUgF8",G="TagList-module_active_EPfJt",z="TagList-module_delete_NtLM0",Y="TagList-module_wrapper_wAu1a",H="TagList-module_hideMore_2Kx5n",V="TagList-module_expand_J-EtW",Z="TagList-module_expandForMini_G9K8m",W="TagList-module_line_pgNjs",K="TagList-module_addTag_P9XTi",q="TagList-module_rightSide_65+zS",X="TagList-module_noTag_XGuDy",$="TagList-module_canSelect_XVnT1",J="TagList-module_name_-HZCJ",Q="TagList-module_highLight_Fx+g3",tt="TagList-module_count_JG6aO",et="TagList-module_listForMini_n1Fjy",nt="TagList-module_expandBtn_kA52P",rt="TagList-module_expanded_tVFvP",ot="TagList-module_icon_zLTbc";function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ct(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var lt=function(t){var e=t.data,n=t.onDelete,r=t.renderFirstItem,a=t.showCount,u=t.hideMore,c=t.storageKey,l=t.localStorage,s=t.currentTagId,p=t.onSelect,d=t.renderRightSide,h=t.query,y=t.isFilter,v=t.expandForMini,m=e||[];h&&(m=m.filter((function(t){return null==t?void 0:t.name.includes(h)})));var g=!1;c&&l&&l.get(c)&&(g=!0);var b=ut(Object(o.useState)(g),2),w=b[0],_=b[1],x=ut(Object(o.useState)(!1),2),E=x[0],k=x[1],S=Object(o.useRef)(null),j=function(){if(u&&S&&S.current){var t=S.current.children;if(!t||t.length<=2)k(!1);else{var e=t[1],n=t[t.length-1],r=e.getBoundingClientRect().top!==n.getBoundingClientRect().top;k(r)}}};function T(t){if(!h)return i.a.createElement("span",{className:J},t);var e=t.indexOf(h);return e<0?i.a.createElement("span",{className:J},t):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:J},t.slice(0,e)),i.a.createElement("span",{className:f()(J,Q)},h),i.a.createElement("span",{className:J},t.slice(e+h.length)))}return Object(o.useEffect)((function(){j()}),[e,h]),Object(o.useEffect)((function(){l&&c&&(w?l.set(c,"true"):l.remove(c))}),[w]),Object(o.useEffect)((function(){var t=R()(j,200);return u&&window.addEventListener("resize",t,!1),function(){window.removeEventListener("resize",t,!1)}}),[]),i.a.createElement("div",{"data-testid":"note-tag-list-wrapper",className:f()(Y,at(at(at({},V,w),H,u),Z,v),"note-tag-list")},i.a.createElement("div",{className:f()(F,"tag-list",at({},et,v)),ref:S},r&&i.a.createElement("div",{className:K},r()),d||E?i.a.createElement("div",{className:q},E&&i.a.createElement("div",{className:f()(nt,"tag-list-expand",at({},rt,w)),onClick:function(t){t.stopPropagation(),_(!w)}},i.a.createElement(D.default,{className:ot})),!h&&d&&d()):null,m.map((function(t){var e=null==t?void 0:t.name;if(!e)return null;var r=e.length>20,o=r?"".concat(e.slice(0,20),"..."):e,u=s===t.id;return i.a.createElement(N.a,{title:r?e:null},i.a.createElement("div",{"data-testid":"note-tag-list-item",className:f()(U,at(at({},G,u),$,!!p)),key:null==t?void 0:t.name,onClick:function(){p&&p(t.id)}},T(o),function(t){return a&&void 0!==t.count?i.a.createElement("span",{className:tt},"(",t.count,")"):null}(t),n&&i.a.createElement("span",{"data-testid":"note-tag-list-delete",className:z,onClick:function(){return n(t)}},i.a.createElement(M.default,null))))})),m.length>0&&!h&&y&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:W}),i.a.createElement("div",{"data-testid":"note-tag-list-item",className:f()(U,X,at(at({},G,s===O.FILTER_TAGS.noTag),$,!!p)),onClick:function(){p&&p(O.FILTER_TAGS.noTag)}},i.a.createElement(B.default,{width:16,height:16}),T(__("无标签"))))))},st={toolBarBtn:"index-module_toolBarBtn_kG8Cd",wrapper:"index-module_wrapper_8ethE",noteItem:"index-module_noteItem_dVp5J",note:"index-module_note_geZ56",viewBlank:"index-module_viewBlank_ecM7l",tagPinned:"index-module_tagPinned_--NI2",descMoreIcon:"index-module_descMoreIcon_wlBa3",tab:"index-module_tab_zkK5m",arrowUp:"index-module_arrowUp_lRGKc",arrowDown:"index-module_arrowDown_3-EN3",tabNote:"index-module_tabNote_8V7gj",hidden:"index-module_hidden_M8z9j",tagPinnedContainer:"index-module_tagPinnedContainer_hB8jT",selected:"index-module_selected_aA0w-",rightToolBar:"index-module_rightToolBar_e1gvN",noteItemExpand:"index-module_noteItemExpand_PjrCj",leftToolBar:"index-module_leftToolBar_JMyy5",content:"index-module_content_Yf3Cm",loading:"index-module_loading_uVMCS",mask:"index-module_mask_-nOYf",reading:"index-module_reading_dfUvx",isTemplate:"index-module_isTemplate_7o8Q-",viewMore:"index-module_viewMore_gsQbm",searchMode:"index-module_searchMode_jG3fm",meta:"index-module_meta_B+ClL",radio:"index-module_radio_2HGaM",contentExpanded:"index-module_contentExpanded_lWgEI",editing:"index-module_editing_nW8gJ",hasTag:"index-module_hasTag_wtzsZ",viewMoreShow:"index-module_viewMoreShow_pN6H7",images:"index-module_images_fAoGp",date:"index-module_date_095hy",imagesContent:"index-module_imagesContent_t0q35",item:"index-module_item_2FEiU",bookmark:"index-module_bookmark_-+dy+",title:"index-module_title_6RJyp",desc:"index-module_desc_WTwbK",belong:"index-module_belong_Csy5b",text:"index-module_text_bro5m",left:"index-module_left_s-MXM",right:"index-module_right_RJVuX",attachment:"index-module_attachment_H4LKm",file:"index-module_file_e9W5F",name:"index-module_name_fKT1c",size:"index-module_size_xQNXJ",empty:"index-module_empty_cBT2k",loadMoreBtn:"index-module_loadMoreBtn_t6j9W",theEndTips:"index-module_theEndTips_tq+NY",blank:"index-module_blank_2HJdh",desktop:"index-module_desktop_oahLD",toolbarStyle:"index-module_toolbarStyle_cNHWw",batchProcess:"index-module_batchProcess_BqhA4",checkBox:"index-module_checkBox_mz+g+",rightToolBarCollapse:"index-module_rightToolBarCollapse_cPTfb",rightToolBarSave:"index-module_rightToolBarSave_vhDcz",tagContainer:"index-module_tagContainer_nVqVt"};function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pt.apply(null,arguments)}function dt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ht(){ht=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==ft(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ft(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function yt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function mt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){vt(i,r,o,a,u,"next",t)}function u(t){vt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||bt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){if(t){if("string"==typeof t)return wt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(t,e):void 0}}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var _t=Object(A.b)((function(){return Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1),n.e(1353)]).then(n.bind(null,7990))}),{suspense:!0}),xt=E.myNotesConsts.COLLAPSE_BTN_CLASS,Ot=function(t){var e=t.note,n=t.noteTags,r=t.enableDynamicTaskList,a=t.onLoadNote,u=t.onCollapseNote,c=t.renderEditor,l=t.onChangeNote,s=t.onUpdateContentUpdatedAt,p=e.id,d=e.content,h=d.updated_at,y=d.abstract,v=d.source,g=d.doc_dynamic_data,b=e.tags,_=void 0===b?[]:b,x=e.content_show_at,O=e.expanded_at,k=e.changed_at,S=e.save_from,j=gt(Object(o.useState)(!v),2),T=j[0],A=j[1],N=gt(Object(o.useState)(!!v),2),I=N[0],R=N[1],D=gt(Object(o.useState)(!v),2),M=D[0],B=D[1],F=gt(Object(o.useState)(!!v),2),U=F[0],G=F[1],z=Object(o.useRef)(null),Y=Object(o.useRef)(null),H=Object(o.useRef)(null);Object(o.useEffect)((function(){x&&(A(!1),R(!0),B(!1),G(!0))}),[x]);var V=e.editing,Z=e.loading,W=null===h;if(!E.isDev&&W)return null;var K="item-".concat(e.id,"-").concat(h),q={};E.isDesktopApp&&(q.downloadFileHandler=E.downloadFileHandler);var X=_&&_.map((function(t){var e=n&&n.find((function(e){return e.id===t.id}));return e||null})).filter((function(t){return!!t})),$=function(){var t=mt(ht().mark((function t(e){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=setInterval((function(){var r=e.querySelectorAll('ne-card[data-card-name="image"] img');if(0===r.length)return clearInterval(n),t();var o,i=[],a=yt(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;u.complete||i.push(u)}}catch(t){a.e(t)}finally{a.f()}0===i.length&&(clearInterval(n),setTimeout((function(){t()}),100))}),10);setTimeout((function(){clearInterval(n),t()}),800)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=mt(ht().mark((function t(e){var n;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}if(G(!0),R(!1),Y){t.next=5;break}return t.abrupt("return");case 5:return n=Y.current,t.next=8,$(n);case 8:A(!1),B(!1),R(!0),t.next=16;break;case 13:B(!0),A(!1),setTimeout(mt(ht().mark((function t(){var e,n;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=z.current){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,$(e);case 5:A(!0),G(!0),R(!1),null==(n=document.getElementById("doclet-viewmore-".concat(p)))||n.scrollIntoView(!1);case 10:case"end":return t.stop()}}),t)}))),30);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=!V&&X&&!!X.length,tt=S&&[w.SAVE_FROM_TYPE.TEMPLATE_NOTE,w.SAVE_FROM_TYPE.TEMPLATE_TODO].includes(S);if(e.editing)return i.a.createElement("div",{className:f()(st.content,dt({},st.contentExpanded,O),st.editing)},c(e));function et(){null==l||l(e),null==s||s(e.id)}return i.a.createElement(L.a,{className:f()(st.content,"note-item-normal",dt(dt(dt(dt({},st.contentExpanded,!!tt||O),st.reading,!V),st.hasTag,Q),st.isTemplate,tt))},i.a.createElement("div",null,M&&i.a.createElement("div",{style:{display:T?"relative":"absolute",zIndex:T?3:-1,left:0,top:0,overflow:I?"hidden":"none"},ref:z},i.a.createElement(_t,pt({docId:p,key:"".concat(K,"-description-").concat(e.updated_at),content:y,onDynamicDataChange:et,enableDynamicTaskList:r,dynamicData:g},q))),U&&i.a.createElement("div",{style:{position:I?"relative":"absolute",zIndex:I?3:-1,left:0,top:0,overflow:I?"hidden":"none"},ref:Y},i.a.createElement(_t,pt({docId:p,key:"".concat(K,"-doclet-").concat(p,"-").concat(h),content:v,onDynamicDataChange:et,enableDynamicTaskList:r,dynamicData:g},q)))),Q&&i.a.createElement(lt,{data:X}),i.a.createElement("div",{className:f()(st.viewBlank,"view-blank"),onClick:function(t){var e=t.currentTarget;e&&"pointer"===e.style.cursor&&e.nextSibling&&e.nextSibling.click()}}),i.a.createElement("div",{ref:H,key:"doclet-viewmore-".concat(p),id:"doclet-viewmore-".concat(p),className:f()(st.viewMore,dt(dt({},st.viewMoreShow,O),st.expanded,O),"view-more"),onClick:function(){var t=mt(ht().mark((function t(n){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),!O){t.next=14;break}if(!k){t.next=10;break}return t.next=5,a(e);case 5:return u(e),t.next=8,J(!1);case 8:t.next=12;break;case 10:u(e),J(!1);case 12:t.next=19;break;case 14:return t.next=16,a(e);case 16:return t.next=18,J(!0);case 18:setTimeout((function(){Object(C.checkCollapseBtnShow)()}),100);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(null==y?void 0:y.includes(w.VIEW_MORE_TAG))&&(O?i.a.createElement("span",{className:f()(xt,st.descMoreIcon)},i.a.createElement(m.b,{name:"arrow-up",size:14,className:st.descMoreIcon}),__("收起")):i.a.createElement("span",{className:f()(xt,st.descMoreIcon)},i.a.createElement(m.b,{name:"arrow-down",size:14,className:st.descMoreIcon}),__("展开")))),Z&&i.a.createElement("div",{className:st.loading},i.a.createElement(P.default,null)))};function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return jt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Tt=E.myNotesConsts.NOTE_LIST_ITEM_CLASS,Ct=E.myNotesConsts.NOTE_LIST_READ_TAG_ADD_CLASS,Lt=function(t){var e=t.state,n=e.hasMore,r=e.listData,a=e.pinnedListData,u=e.listLoading,c=e.searchValue,l=e.orderBy,s=e.filterTab,p=e.currentTagId,h=e.noteTags,y=e.noteStatus,_=e.showPinned,x=t.getNotes,O=t.onSelectNote,k=t.onLoadNote,S=t.setLoadRef,j=t.renderToolBar,L=t.isAlipayWebApp,P=s===w.FILTER_TYPES.all,A=Object(g.a)().isDarkMode;function N(){if(!p||c)return null;var t=h.find((function(t){var e;return(null===(e=t.tag_meta)||void 0===e?void 0:e.id)===p}));if(!t||!t.count)return null;var e=r&&r.length;a&&a.length>0&&(e+=a.length);var n=t.count-e;return!n||n<0?null:__("{num} 篇小记不包含{text}",{num:n,text:Object(E.getFilterBarConfig)()[s]})}Object(o.useEffect)((function(){if(P){var t=document.querySelector("#mynote-container .note-list");if(t){var e=t.querySelectorAll(".yuque-doc-content");setTimeout((function(){var t,n=St(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;c?(r.searchPad||(r.searchPad=new b.a({target:r,style:{highlight:{fill:"rgba(255, 230, 0, 0.5)"},select:{fill:"rgba(255, 140, 0, 0.5)"}}})),r.searchPad.find(c.trim())):r.searchPad&&r.searchPad.clear()}}catch(t){n.e(t)}finally{n.f()}}),100),Object(C.handleListScroll)()}}}),[r]),Object(o.useEffect)((function(){var t=v.a.parse(window.location.search).scroll_to;setTimeout((function(){Object(C.scrollToElem)({id:t})}),200)}),[]);var I=function(e){var n="item-".concat(e.id,"-").concat(e.content_updated_at),r={note:e,filterTab:s,noteTags:h,isAlipayWebApp:L,orderBy:l,onSelectNote:O,renderToolBar:j,enableDynamicTaskList:t.enableDynamicTaskList,onLoadNote:k};return i.a.createElement("div",{id:"note-".concat(e.id),key:n,className:f()(st.note,Tt),onDoubleClick:function(t){var n;null!=t&&null!==(n=t.target)&&void 0!==n&&n.closest(".share-note-button")||O(e)}},i.a.createElement("div",{className:f()(st.noteItem,"note-item")},e.pinned_at&&i.a.createElement("div",{className:st.tagPinnedContainer},i.a.createElement(m.b,{name:"IconTop",size:14,className:st.tagPinned})),i.a.createElement("div",{className:st.meta},i.a.createElement(T,{item:e,orderBy:l}),j(e)),i.a.createElement(Ot,r),i.a.createElement("div",{className:f()(st.tagContainer,Ct)})))};return d()(null==a?void 0:a.concat(r))?i.a.createElement("div",{"data-testid":"note-list-empty",className:f()(st.wrapper,st.empty,kt({},st.desktop,E.isDesktopApp),"note-list-empty")},function(){if(u)return null;if(c)return i.a.createElement("div",{className:st.blank},__("未能找到相关{type}",{type:__("小记")}));var t=N(),e=__("灵光乍现，小记一下");return y===w.STATUS.archived&&(e=__("不再使用的小记可归档于此")),i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:A?"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*HSmhT7fKgwMAAAAAAAAAAAAAARQnAQ":"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*HshzTKOlvckAAAAAAAAAAAAAARQnAQ"}),i.a.createElement("p",null,t||e))}()):i.a.createElement("div",{className:f()(st.wrapper,kt(kt(kt({},st.desktop,E.isDesktopApp),st.win,E.isWin),st.searchMode,c),"note-list"),"data-testid":"note-list"},i.a.createElement("div",{className:f()(kt({},st.hidden,!_))},function(t){if(w.NEED_PINNED_TYPE.includes(s))return t.map(I)}(a)),w.NEED_PINNED_TYPE.includes(s)&&_&&a.length>0&&r.length>0&&i.a.createElement("span",{className:f()(st.tab,st.tabNote)},__("小记")),r.sort((function(t,e){return new Date(e[l]).getTime()-new Date(t[l]).getTime()})).map(I),function(){if(n)return i.a.createElement("div",{className:st.loadMoreBtn,onClick:x,ref:function(t){return S(t)}},__("点击加载更多"));var t=N();return t?i.a.createElement("div",{className:st.theEndTips},t):r&&r.length>9?i.a.createElement("div",{className:st.theEndTips},__("我是有底线的")):void 0}())};Lt.propTypes={isAlipayWebApp:u.a.bool,setLoadRef:u.a.func,state:u.a.object,getNotes:u.a.func,onLoadNote:u.a.func,onSelectNote:u.a.func,onInsertToLakeEditor:u.a.func,renderToolBar:u.a.func,renderResourceIcon:u.a.func,enableDynamicTaskList:u.a.bool,setToDocList:u.a.func,setBatchProcess:u.a.func};var Pt=Lt,At=(n(52),n(12)),Nt=n(1496),It={wrapper:"search-module_wrapper_S445p",searchBar:"search-module_searchBar_x3Krl",active:"search-module_active_eYHT+",isLiteMode:"search-module_isLiteMode_C4hZN",searchMini:"search-module_searchMini_V+K7h",searchMiniShow:"search-module_searchMiniShow_xFcgm"};function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Dt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ft=function(t){var e,n=t.activeMode,r=t.isDesktopApp,a=t.searchValue,u=t.searchActive,c=t.setSearchActive,l=t.isLiteMode,s=t.onSearchNote,p=t.onSearchReset,d=Mt(Object(o.useState)(null),2),h=d[0],y=d[1],v=Object(o.useRef)(null);Object(o.useEffect)((function(){a||(y(null),c(!1))}),[a]);var m={ref:v,value:h,prefix:i.a.createElement(Nt.default,null),placeholder:__("搜索"),autoComplete:"nope",allowClear:!0,onSearch:s,onBlur:function(t){t.target.value||(c(!1),p())},onChange:function(t){var e=t.target.value;y(e)},onClear:function(){y(null)}};return"dark"!==(null===(e=window.yuqueThemeManager)||void 0===e?void 0:e.current)&&(m.style={borderColor:"#e8e8e8"}),i.a.createElement("div",{"data-testid":"note-search",className:f()(It.wrapper,"note-search")},i.a.createElement("div",{className:f()(It.searchBar,Dt(Dt({},It.active,n||u),It.isLiteMode,l))},i.a.createElement(At.a.Search,m)),!n&&i.a.createElement("div",{className:f()(It.searchMini,Dt(Dt({},It.searchMiniShow,!u),It.desktop,r)),onClick:function(){c(!0),v&&v.current&&v.current.focus()}},i.a.createElement(Nt.default,{width:16,height:16,style:{color:"#262626"}})))};Ft.defaultProps={activeMode:!1,isDesktopApp:!1},Ft.propTypes={searchValue:u.a.string,searchActive:u.a.bool,isDesktopApp:u.a.bool,onSearchNote:u.a.func,onSearchReset:u.a.func,setSearchActive:u.a.func,activeMode:u.a.bool};var Ut=Ft,Gt=n(1511),zt="sidebar-toolbar-module_wrapper_oE4lW",Yt="sidebar-toolbar-module_insertBtn_RY-1c",Ht=f()(zt,"note-list-toolbar"),Vt=function(t){var e=t.item,n=t.onInsertToLakeEditor;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ht,"data-testid":"note-list-toolbar"},i.a.createElement("span",{className:Yt,onClick:function(){return n(e)}},i.a.createElement(Gt.default,{width:14,height:14}),__("插入文档"))))};Vt.defaultProps={onInsertToLakeEditor:function(){}},Vt.propTypes={item:u.a.object,onInsertToLakeEditor:u.a.func};var Zt=Vt,Wt=n(3389);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function qt(){qt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Kt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Kt(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Xt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function $t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Jt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Qt=function(t){var e,n=t.getNotes,r=t.listData,i=t.isDesktopApp,a=$t(Object(o.useState)(null),2),u=a[0],l=a[1];function s(){var t;return t=qt().mark((function t(e){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e[0].isIntersecting&&n({noLoading:!0});case 1:case"end":return t.stop()}}),t)})),s=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Xt(i,r,o,a,u,"next",t)}function u(t){Xt(i,r,o,a,u,"throw",t)}a(void 0)}))},s.apply(this,arguments)}return i&&c.a.config({top:80,duration:1.5}),Object(o.useEffect)((function(){var t=document.querySelector("#siteTipGuide");return t&&(t.style.display="none"),i&&c.a.config({top:80,duration:1.5}),function(){var t=document.querySelector("#siteTipGuide");t&&(t.style.display="block")}}),[]),window.IntersectionObserver&&(e=new IntersectionObserver((function(t){return s.apply(this,arguments)}),{threshold:.1})),Object(o.useEffect)((function(){if(u&&e)return e.observe(u),function(){e.unobserve(u)}}),[u,r]),{setLoadRef:l}},te=n(141),ee=n(3466);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(){re=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==ne(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ne(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function oe(t){return function(t){if(Array.isArray(t))return pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function ae(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ie(i,r,o,a,u,"next",t)}function u(t){ie(i,r,o,a,u,"throw",t)}a(void 0)}))}}function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(n),!0).forEach((function(e){le(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ne(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ne(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||fe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(t,e){if(t){if("string"==typeof t)return pe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(t,e):void 0}}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var de=E.myNotesConsts.NOTE_ORDER_KEY,he={status:w.STATUS.unarchived,filterTab:ee.a.all,orderBy:ee.b.content_updated_at,currentTagId:null,search:""},ye=function(t){var e=t.currentUuid,n=t.refreshBatchProcess,r=se(Object(o.useState)([]),2),i=r[0],a=r[1],u=se(Object(o.useState)([]),2),l=u[0],s=u[1],f=se(Object(o.useState)(!1),2),p=f[0],d=f[1],h=se(Object(o.useState)(!0),2),y=h[0],v=h[1],m=se(Object(o.useState)([]),2),g=m[0],b=m[1],_=se(Object(o.useState)(ce(ce({},he),{},{orderBy:te.a.get(de)||ee.b.content_updated_at})),2),x=_[0],O=_[1],E=Object(o.useCallback)((function(t){s([]),a([]),O(ce(ce({},x),t))}),[x]),k=Object(o.useCallback)((function(t){return l.find((function(e){return e.id===t}))?[l,s]:[i,a]}),[i,l]),S=Object(o.useCallback)(ae(re().mark((function t(){var e,n,r,o,u,c,l=arguments;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=l.length>0&&void 0!==l[0]?l[0]:{}).noLoading||d(!0),n={offset:i.length,q:x.search,filter_type:x.filterTab,status:x.status,merge_dynamic_data:0,order:x.orderBy,with_pinned_notes:!0},x.currentTagId&&(n.tag=x.currentTagId),w.NEED_PINNED_TYPE.includes(x.filterTab)||delete n.with_pinned_notes,e.fromQuery&&(n.offset=0),n.q&&(n.order=ee.b.first_published_at),w.DEFAULT_TYPE.includes(n.filter_type)||(n.include_body=!0,n.order=ee.b.first_published_at),t.prev=8,t.next=11,Wt.a.NoteCtlImpl.index(n,{useOriginResp:!0});case 11:r=t.sent,o=r.has_more,u=r.notes,c=r.pin_notes,v(o),0===n.offset?w.NEED_PINNED_TYPE.includes(x.filterTab)?(s(c),a(u)):a(u):a([].concat(oe(i),oe(u)));case 17:return t.prev=17,d(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[8,,17,20]])}))),[x,i]),j=Object(o.useCallback)(ae(re().mark((function t(){var e,n;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.NoteTagCtlImpl.count({status:x.status,filter_type:x.filterTab});case 2:e=t.sent,(n=e.data)&&(b(n),x.currentTagId&&!n.some((function(t){return t.id===x.currentTagId}))&&x.currentTagId!==w.FILTER_TAGS.noTag&&E({currentTagId:null}));case 5:case"end":return t.stop()}}),t)}))),[x]);var T=Object(o.useCallback)((function(t){return Wt.a.NoteOperateCtlImpl.batchDelete({ids:t,latest_update_user_uuid:e}).then((function(){null==n||n();var e=i.slice().filter((function(e){return!t.includes(e.id)}));a(e);var r=l.slice().filter((function(e){return!t.includes(e.id)}));s(r),!e.length&&y&&S(),j(),c.a.success(__("小记已移至回收站"))})).catch((function(){c.a.error(__("删除失败"))}))}),[k,e]),C=function(){var t=ae(re().mark((function t(e){var n;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.NoteOperateCtlImpl.batchPin({ids:[e.id]});case 2:e.pinned_at=new Date,n=i.filter((function(t){return t.id!==e.id})),l.unshift(e),a(n),s(l),c.a.success(__("小记置顶成功"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=ae(re().mark((function t(e){var n;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.NoteOperateCtlImpl.batchUnPin({ids:[e.id]});case 2:e.pinned_at=null,n=l.filter((function(t){return t.id!==e.id})),i.unshift(e),a(i),s(n),c.a.success(__("取消置顶成功"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){S(),j()}),[x]),{state:{listData:i,listLoading:p,hasMore:y,noteTags:g,noteFilterParams:x,pinnedListData:l},setListData:a,getNotes:S,getNoteTags:j,onChangeFilterParams:E,onReset:function(){s([]),O(he)},onRemoveNote:function(t){var e=t.id;T([e])},setPinnedListData:s,getListData:k,pinnedNote:C,deletePinnedNote:L,onRemoveNotes:T}};function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function be(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ve(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ve(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function we(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _e(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var xe=function(){var t=we(Object(o.useState)(!1),2),e=t[0],n=t[1],r=we(Object(o.useState)(!0),2),i=r[0],a=r[1],u=ye({}),l=u.state,s=l.listData,f=l.listLoading,p=l.hasMore,d=l.noteTags,h=l.noteFilterParams,y=l.pinnedListData,v=u.getListData,m=u.getNotes,g=u.getNoteTags,b=u.onChangeFilterParams,w=u.onReset,_=u.onRemoveNote,x=u.onRemoveNotes,O=Qt({listData:s,getNotes:m,isDesktopApp:E.isDesktopApp}).setLoadRef,k=Object(o.useCallback)((function(){h.search&&w()}),[h]),S=Object(o.useCallback)((function(t){t!==h.currentTagId?b({currentTagId:t}):b({currentTagId:null})}),[h]);return{state:{listData:s,pinnedListData:y,listLoading:f,orderBy:h.orderBy,hasMore:p,searchValue:h.search,searchActive:e,filterTab:h.filterTab,noteTags:d,currentTagId:h.currentTagId,noteStatus:h.status,toDocList:[],showPinned:i},getNotes:m,onLoadNote:function(t){var e=t.id,n=we(v(e),2),r=n[0],o=n[1],i=r.slice(),a=i.findIndex((function(t){return t.id===e}));return i[a].loading=!0,o(i),Wt.a.NoteCtlImpl.show({id:e,merge_dynamic_data:0}).then((function(t){var e=r.slice();e[a]=ge(ge({},t),{},{expanded_at:new Date}),o(e)})).catch((function(){var t=r.slice();i[a].loading=!1,o(t),c.a.error(__("获取内容失败，请再试一次"))}))},onCollapseNote:function(t){var e=t.id,n=we(v(e),2),r=n[0],o=n[1],i=r.slice(),a=i.findIndex((function(t){return t.id===e}));delete i[a].expanded_at,delete i[a].changed_at,delete i[a].loading,o(i)},onRemoveNote:_,onRemoveNotes:x,onSearchNote:function(t){b({search:t})},onSearchReset:k,setSearchActive:n,getNoteTags:g,onSelectTag:S,onChangeFilterParams:b,onReset:w,setLoadRef:O,setShowPinned:a}},Oe="index-module_wrapper_kkqhF",Ee="index-module_tagContainer_TFFU4",ke="index-module_show_oAR0z",Se="index-module_tagContainerExpand_7mxch",je="index-module_tagTipBar_g7usD",Te="index-module_icon_nCjEV",Ce="index-module_notesList_xu6a8",Le="index-module_liteWrapper_fYo2B";function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ae.apply(null,arguments)}function Ne(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Pe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pe(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Re(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var De=function(t){var e=xe(t),n=t.storage,r=Ie(Object(o.useState)(!1),2),a=r[0],u=r[1],c=e.state,s=c.listLoading,p=c.noteTags,y=c.currentTagId,v=e.onSelectTag,m=e.setSearchActive,g=e.onSearchReset,b=e.onSearchNote;Object(o.useEffect)((function(){Object(C.fixListContainerHeight)()}),[a]);var w=!d()(p);return i.a.createElement("div",{"data-testid":"mynote-list-container",id:"mynote-container",className:Oe},i.a.createElement(Ut,{searchValue:e.state.searchValue,searchActive:e.state.searchActive,setSearchActive:m,onSearchReset:g,onSearchNote:b,activeMode:!0,isDesktopApp:E.isDesktopApp,isLiteMode:!0}),i.a.createElement("div",{className:f()(Ee,Ne(Ne({},Se,a),ke,w),"note-tag-container")},i.a.createElement("div",{onClick:function(){return u(!a)},className:je},i.a.createElement("span",null,a?__("收起所有标签"):__("展开所有标签")),i.a.createElement(h.default,{className:Te,width:16})),i.a.createElement("div",{className:Le},i.a.createElement(lt,{hideMore:!1,showCount:!0,currentTagId:y,onSelect:v,localStorage:n,storageKey:"NOTE_LIST_TAG_MANAGER",data:p}))),i.a.createElement(l.a,{spinning:s},i.a.createElement("div",{className:f()(Ce,"note-list-container")},i.a.createElement(Pt,Ae({},e,{isMobile:!0,isLiteMode:!0,renderToolBar:function(n){return i.a.createElement(Zt,{item:n,showFeather:!e.state.searchValue,onInsertToLakeEditor:t.onInsertToLakeEditor})}})))))};De.fetchData=function(t){return Wt.a.NoteCtlImpl.show({id:t.id})},De.defaultProps={onInsertToLakeEditor:function(){}},De.propTypes={webProxy:a.PropTypes.object,storage:a.PropTypes.object,onInsertToLakeEditor:a.PropTypes.func};var Me=De;function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,He(r.key),r)}}function Ue(t,e,n){return e=ze(e),function(t,e){if(e&&("object"==Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ge()?Reflect.construct(e,n||[],ze(t).constructor):e.apply(t,n))}function Ge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ge=function(){return!!t})()}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}function He(t){var e=function(t,e){if("object"!=Be(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Be(e)?e:e+""}var Ve=function(t){function e(){var t,n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=Ue(this,e,[].concat(a)),n=t,o=function(e){Me.fetchData(e).then((function(e){t.props.onInsertDocument("text/lake",e.content.source)})).catch((function(){c.a.error(__("小记插入失败"))}))},(r=He(r="onInsertToLakeEditor"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.storage;return i.a.createElement("div",{className:"material-library-note"},i.a.createElement(Me,{storage:t,onInsertToLakeEditor:this.onInsertToLakeEditor}))}}])&&Fe(n.prototype,r),o&&Fe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o.Component);function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ze.apply(null,arguments)}Ve.propTypes={storage:u.a.object,onInsertDocument:u.a.func};var We=r.a.TabPane,Ke="storage/sidebar-tab-key",qe={note:"note"},Xe=function(t){var e=t.storage;return{tabKey:e.get(Ke)||qe.note,onTabChange:function(t){e.set(Ke,t)}}};function $e(t){var e=Xe(t),n=t.storage;return i.a.createElement("div",{className:"material-library-view"},i.a.createElement(r.a,{defaultActiveKey:e.tabKey,onChange:e.onTabChange},i.a.createElement(We,{tab:__("插入小记"),key:qe.note},i.a.createElement(Ve,Ze({},t.note,{storage:n})))))}$e.propTypes={storage:u.a.object,webProxy:u.a.object,note:u.a.object}},3634:function(t,e,n){"use strict";var r=n(3459);e.a=r.a},3643:function(t,e,n){"use strict";var r=n(237),o=n.n(r),i=n(3477),a={}.toString,u=function(t,e){return a.call(t)==="[object "+e+"]"};function c(t){return null==t}function l(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return c(n)?null:n}}function s(t,e){var n=[];if(t){if(e&&!e(t))return n;for(var r=t.childNodes,o=0;o<r.length;o++){var i=r[o],a=i.nodeType;3===a?n.push(i):1!==a&&9!==a&&11!==a||(n=n.concat(s(i,e)))}}return n}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}function m(t,e,n){return e=b(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}var _=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=m(this,e,[t]),!t.target)throw new Error("please set a dom element as target!");return n.options=d({target:null,style:{highlight:{fill:"rgba(255, 230, 0, 0.5)"},select:{fill:"rgba(255, 140, 0, 0.5)"}},filter:null},t),n.ranges=[],n._initTarget(),n._createCanvas(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(r=[{key:"_initTarget",value:function(){var t=this.options.target;"static"===l(t,"position")&&(t.style.position="relative")}},{key:"_createCanvas",value:function(){var t=this.options.target,e=document.createElement("div");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style["pointer-events"]="none",e.style["z-index"]=99,t.appendChild(e);var n=new i.TinyCanvas({container:e});this.container=e,this.canvas=n}},{key:"_resizeCanvas",value:function(){var t=this.options.target,e=this.canvas,n=function(t,e){var n=l(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t),r=function(t,e){var n=l(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t);e.resize(n,r)}},{key:"_getRelativeRect",value:function(t){var e=this.container,n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.left-r.left,y:n.top-r.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_cacheRange",value:function(t){return{startOffset:t.startOffset,endOffset:t.endOffset,startContainer:t.startContainer,endContainer:t.endContainer,commonAncestorContainer:t.commonAncestorContainer}}},{key:"_isRangeWrap",value:function(t){var e=this._cacheRange(t);t.setEnd(e.startContainer,e.startOffset+1);var n=t.getBoundingClientRect();t.setEnd(e.startContainer,e.endOffset-1),t.setStart(e.endContainer,e.endOffset);var r=t.getBoundingClientRect();return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),n.bottom!==r.bottom}},{key:"_drawOneByOne",value:function(t,e){for(var n=this._cacheRange(t),r=this.canvas,o=n.startOffset;o<n.endOffset;){t.setStart(n.commonAncestorContainer,o),t.setEnd(n.commonAncestorContainer,o+1);var i=this._getRelativeRect(t);r.clearRect(i),r.draw("Rect",d(d({},i),e)),o++}t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}},{key:"_drawRangeBackground",value:function(t,e){var n=this.canvas;if(this._isRangeWrap(t))return this._drawOneByOne(t,e);var r=this._getRelativeRect(t);n.clearRect(r),n.draw("Rect",d(d({},r),e))}},{key:"_highlightRanges",value:function(t){var e=this;t.forEach((function(t){e._highlightRange(t)}))}},{key:"_clearRange",value:function(t){var e=this.canvas,n=this._getRelativeRect(t);e.clearRect(n)}},{key:"_highlightRange",value:function(t){var e=this.options.style.highlight;this._drawRangeBackground(t,e)}},{key:"_selectRange",value:function(t){var e=this.options.style.select;this._drawRangeBackground(t,e)}},{key:"_clearCanvas",value:function(){this.canvas.clear()}},{key:"_move",value:function(t){var e=this.selectedRange,n=this.ranges;if(e){var r=n.indexOf(e),o=n[r+t];o||(o=t>0?n[t-1]:n[n.length+t]),this._highlightRange(e),this.select(o),this.scrollIntoView()}}},{key:"_replace",value:function(t,e){var n=t.commonAncestorContainer.parentNode,r=document.createTextNode(e);"A"===n.tagName&&n.getAttribute("href")===n.innerText&&n.setAttribute("href",e),t.deleteContents(),t.insertNode(r)}},{key:"replace",value:function(t){if(!c(t)){var e=this.selectedRange;if(this.ranges.length>0){var n={range:e};this.emit("before:replace",n),this._replace(e,t),this._clearRange(e),this.emit("after:replace",n)}}}},{key:"replaceAll",value:function(t){var e=this;if(!c(t)){var n=this.ranges,r={ranges:n};this.emit("before:replaceAll",r),n.forEach((function(n){e._replace(n,t)})),this.emit("after:replaceAll",r),n.forEach((function(t){e._saveCardValue(t)})),this.clear()}}},{key:"show",value:function(){this.container.style.display=""}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"find",value:function(t,e){var n=[];if(this.clear(),t&&u(t,"String")&&t.length>0){e=function(t){return u(t,"Function")}(e)?e:function(){return!0},this._resizeCanvas();var r=s(this.options.target,(function(t){return"none"!==t.style.display&&e(t)}));r.length>0&&(n=function(t,e){var n=[];return t.forEach((function(t){var r=t.nodeValue,o=e.length,i=function(t,e){for(var n=[],r=e.length,o=t.indexOf(e);o>-1;)n.push(o),o=t.indexOf(e,o+r);return n}((r||"").toLowerCase(),(e||"").toLowerCase());i.forEach((function(e){var r=document.createRange();r.setStart(t,e),r.setEnd(t,e+o),n.push(r)}))})),n}(r,t),this._highlightRanges(n),this.ranges=n,this.keyword=t)}return this.ranges=n,n}},{key:"reFind",value:function(){var t=this.selectedRangeIndex,e=this.find(this.keyword);if(e.length>0&&!c(t)){var n=e[t]?e[t]:e[0];this.select(n)}return e}},{key:"scrollIntoView",value:function(){if(this.selectedRange){var t=this.selectedRange.commonAncestorContainer.parentElement;(e=t.getBoundingClientRect()).top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)||(t.scrollIntoView({block:"center"}),document.documentElement.scrollTop=0,document.body.scrollTop=0)}var e}},{key:"select",value:function(t){if(!c(t)){var e=this.ranges,n=t;u(t,"Number")&&(n=e[t]);var r={range:n};this.emit("before:select",r),this._selectRange(n),this.selectedRange=n,this.selectedRangeIndex=e.indexOf(n),this.emit("after:select",r)}}},{key:"next",value:function(){this._move(1)}},{key:"prev",value:function(){this._move(-1)}},{key:"findIndex",value:function(t){this._move(t)}},{key:"clear",value:function(){this._clearCanvas(),this.selectedRange=void 0,this.ranges=[],this.keyword=void 0}},{key:"count",value:function(){var t=this.ranges;if(0===t.length)return 0;var e=this.selectedRange;return[t.indexOf(e)+1,t.length]}},{key:"destroy",value:function(){var t=this.container;this.options=null,t.parentElement.removeChild(t)}}])&&y(n.prototype,r),o&&y(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o.a);e.a=_},3649:function(t,e,n){"use strict";n(3212);var r=n(2735);n(3210);e.a=r.a},3651:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(63),o=n.n(r);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function c(t,e,n){return e=f(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(null,arguments)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"getType",value:function(){var t=this.options.targetType;return t?"DocGen_".concat(t).toLowerCase():"DocGen"}},{key:"isMiniSize",value:function(){return!1}},{key:"getDefaultFormat",value:function(){return o.a.FORMAT.LAKE}},{key:"getEnableFullEditor",value:function(){return!1}},{key:"setProcessOptions",value:function(t){this._processOptions=t}},{key:"buildOptions",value:function(t){var n,r,o,i,a,u=(n=e,r="buildOptions",o=this,a=s(f(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return this._processOptions?this._processOptions(u):u}}],i=[{key:"getEmptyDocument",value:function(){return{format:o.a.FORMAT.LAKE,value:null}}}],r&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(3357).a)},3661:function(t,e,n){"use strict";var r=n(63),o=n.n(r),i={_bookGrayscaleConfig:null,getDefaultDocumentFormat:function(t,e,n){return e=e||"",n=n||{},o.a.DOC_DEFAULT_FORMAT[t]||o.a.FORMAT.LAKE}};e.a=i},3709:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,u="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=u-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),l<0?l=0:l>i&&(l=i);var s=c/o,f=1-l/i;return{h:e.h,s:s,v:f,a:e.a,source:"hsv"}}},3710:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,u="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),l=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===e){var s=void 0;if(l<0)s=359;else if(l>i)s=0;else{s=360*(-100*l/i+100)/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>o)f=359;else{f=360*(100*c/o)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},3711:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n,r,o){var i=o.clientWidth,a=o.clientHeight,u="number"==typeof t.pageX?t.pageX:t.touches[0].pageX,c="number"==typeof t.pageY?t.pageY:t.touches[0].pageY,l=u-(o.getBoundingClientRect().left+window.pageXOffset),s=c-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=s<0?0:s>a?1:Math.round(100*s/a)/100,e.a!==f)return{h:e.h,s:e.s,l:e.l,a:f,source:"rgb"}}else{var p=void 0;if(r!==(p=l<0?0:l>i?1:Math.round(100*l/i)/100))return{h:e.h,s:e.s,l:e.l,a:p,source:"rgb"}}return null}},3735:function(t,e,n){var r,o;r=function(){"use strict";var t=function(t,e,n,r){var o={features:null,bind:function(t,e,n,r){var o=(r?"remove":"add")+"EventListener";e=e.split(" ");for(var i=0;i<e.length;i++)e[i]&&t[o](e[i],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||"div");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){o.bind(t,e,n,!0)},removeClass:function(t,e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var n=t.firstChild;n;){if(o.hasClass(n,e))return n;n=n.nextSibling}},arraySearch:function(t,e,n){for(var r=t.length;r--;)if(t[r][n]===e)return r;return-1},extend:function(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){if(n&&t.hasOwnProperty(r))continue;t[r]=e[r]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl().style,e="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);i&&i.length>0&&(i=parseInt(i[1],10))>=1&&i<8&&(n.isOldIOSPhone=!0)}var a=r.match(/Android\s([0-9\.]*)/),u=a?a[1]:0;(u=parseFloat(u))>=1&&(u<4.4&&(n.isOldAndroid=!0),n.androidVersion=u),n.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var c,l,s=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],p=0;p<4;p++){e=f[p];for(var d=0;d<3;d++)c=s[d],l=e+(e?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&l in t&&(n[c]=l);e&&!n.raf&&(e=e.toLowerCase(),n.raf=window[e+"RequestAnimationFrame"],n.raf&&(n.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-h)),r=window.setTimeout((function(){t(e+n)}),n);return h=e+n,r},n.caf=function(t){clearTimeout(t)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,n,r){e=e.split(" ");for(var o,i=(r?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},u=0;u<e.length;u++)if(o=e[u])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;t[i]("on"+o,n["oldIE"+o])}else t[i]("on"+o,n)});var i=this,a=25,u=3,c={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(c,r);var l,s,f,p,d,h,y,v,m,g,b,w,_,x,O,E,k,S,j,T,C,L,P,A,N,I,R,D,M,B,F,U,G,z,Y,H,V,Z,W,K,q,X,$,J,Q,tt,et,nt,rt,ot,it,at,ut,ct,lt,st,ft=function(){return{x:0,y:0}},pt=ft(),dt=ft(),ht=ft(),yt={},vt=0,mt={},gt=ft(),bt=0,wt=!0,_t=[],xt={},Ot=!1,Et=function(t,e){o.extend(i,e.publicMethods),_t.push(t)},kt=function(t){var e=Qe();return t>e-1?t-e:t<0?e+t:t},St={},jt=function(t,e){return St[t]||(St[t]=[]),St[t].push(e)},Tt=function(t){var e=St[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<e.length;r++)e[r].apply(i,n)}},Ct=function(){return(new Date).getTime()},Lt=function(t){ct=t,i.bg.style.opacity=t*c.bgOpacity},Pt=function(t,e,n,r,o){(!Ot||o&&o!==i.currItem)&&(r/=o?o.fitRatio:i.currItem.fitRatio),t[L]=w+e+"px, "+n+"px"+_+" scale("+r+")"},At=function(t){rt&&(t&&(g>i.currItem.fitRatio?Ot||(fn(i.currItem,!1,!0),Ot=!0):Ot&&(fn(i.currItem),Ot=!1)),Pt(rt,ht.x,ht.y,g))},Nt=function(t){t.container&&Pt(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},It=function(t,e){e[L]=w+t+"px, 0px"+_},Rt=function(t,e){if(!c.loop&&e){var n=p+(gt.x*vt-t)/gt.x,r=Math.round(t-ge.x);(n<0&&r>0||n>=Qe()-1&&r<0)&&(t=ge.x+r*c.mainScrollEndFriction)}ge.x=t,It(t,d)},Dt=function(t,e){var n=be[t]-mt[t];return dt[t]+pt[t]+n-n*(e/b)},Mt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Bt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Ft=null,Ut=function(){Ft&&(o.unbind(document,"mousemove",Ut),o.addClass(t,"pswp--has_mouse"),c.mouseUsed=!0,Tt("mouseUsed")),Ft=setTimeout((function(){Ft=null}),100)},Gt=function(){o.bind(document,"keydown",i),F.transform&&o.bind(i.scrollWrap,"click",i),c.mouseUsed||o.bind(document,"mousemove",Ut),o.bind(window,"resize scroll orientationchange",i),Tt("bindEvents")},zt=function(){o.unbind(window,"resize scroll orientationchange",i),o.unbind(window,"scroll",m.scroll),o.unbind(document,"keydown",i),o.unbind(document,"mousemove",Ut),F.transform&&o.unbind(i.scrollWrap,"click",i),W&&o.unbind(window,y,i),clearTimeout(U),Tt("unbindEvents")},Yt=function(t,e){var n=un(i.currItem,yt,t);return e&&(nt=n),n},Ht=function(t){return t||(t=i.currItem),t.initialZoomLevel},Vt=function(t){return t||(t=i.currItem),t.w>0?c.maxSpreadZoom:1},Zt=function(t,e,n,r){return r===i.currItem.initialZoomLevel?(n[t]=i.currItem.initialPosition[t],!0):(n[t]=Dt(t,r),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]&&(n[t]=e.max[t],!0))},Wt=function(){if(L){var e=F.perspective&&!A;return w="translate"+(e?"3d(":"("),void(_=F.perspective?", 0px)":")")}L="left",o.addClass(t,"pswp--ie"),It=function(t,e){e.left=t+"px"},Nt=function(t){var e=t.fitRatio>1?1:t.fitRatio,n=t.container.style,r=e*t.w,o=e*t.h;n.width=r+"px",n.height=o+"px",n.left=t.initialPosition.x+"px",n.top=t.initialPosition.y+"px"},At=function(){if(rt){var t=rt,e=i.currItem,n=e.fitRatio>1?1:e.fitRatio,r=n*e.w,o=n*e.h;t.width=r+"px",t.height=o+"px",t.left=ht.x+"px",t.top=ht.y+"px"}}},Kt=function(t){var e="";c.escKey&&27===t.keyCode?e="close":c.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,i[e]()))},qt=function(t){t&&(X||q||ot||V)&&(t.preventDefault(),t.stopPropagation())},Xt=function(){i.setScrollOffset(0,o.getScrollY())},$t={},Jt=0,Qt=function(t){$t[t]&&($t[t].raf&&I($t[t].raf),Jt--,delete $t[t])},te=function(t){$t[t]&&Qt(t),$t[t]||(Jt++,$t[t]={})},ee=function(){for(var t in $t)$t.hasOwnProperty(t)&&Qt(t)},ne=function(t,e,n,r,o,i,a){var u,c=Ct();te(t);var l=function(){if($t[t]){if((u=Ct()-c)>=r)return Qt(t),i(n),void(a&&a());i((n-e)*o(u/r)+e),$t[t].raf=N(l)}};l()},re={shout:Tt,listen:jt,viewportSize:yt,options:c,isMainScrollAnimating:function(){return ot},getZoomLevel:function(){return g},getCurrentIndex:function(){return p},isDragging:function(){return W},isZooming:function(){return tt},setScrollOffset:function(t,e){mt.x=t,B=mt.y=e,Tt("updateScrollOffset",mt)},applyZoomPan:function(t,e,n,r){ht.x=e,ht.y=n,g=t,At(r)},init:function(){if(!l&&!s){var n;i.framework=o,i.template=t,i.bg=o.getChildByClass(t,"pswp__bg"),R=t.className,l=!0,F=o.detectFeatures(),N=F.raf,I=F.caf,L=F.transform,M=F.oldIE,i.scrollWrap=o.getChildByClass(t,"pswp__scroll-wrap"),i.container=o.getChildByClass(i.scrollWrap,"pswp__container"),d=i.container.style,i.itemHolders=E=[{el:i.container.children[0],wrap:0,index:-1},{el:i.container.children[1],wrap:0,index:-1},{el:i.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",Wt(),m={resize:i.updateSize,orientationchange:function(){clearTimeout(U),U=setTimeout((function(){yt.x!==i.scrollWrap.clientWidth&&i.updateSize()}),500)},scroll:Xt,keydown:Kt,click:qt};var r=F.isOldIOSPhone||F.isOldAndroid||F.isMobileOpera;for(F.animationName&&F.transform&&!r||(c.showAnimationDuration=c.hideAnimationDuration=0),n=0;n<_t.length;n++)i["init"+_t[n]]();e&&(i.ui=new e(i,o)).init(),Tt("firstUpdate"),p=p||c.index||0,(isNaN(p)||p<0||p>=Qe())&&(p=0),i.currItem=Je(p),(F.isOldIOSPhone||F.isOldAndroid)&&(wt=!1),t.setAttribute("aria-hidden","false"),c.modal&&(wt?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===B&&(Tt("initialLayout"),B=D=o.getScrollY());var a="pswp--open ";for(c.mainClass&&(a+=c.mainClass+" "),c.showHideOpacity&&(a+="pswp--animate_opacity "),a+=A?"pswp--touch":"pswp--notouch",a+=F.animationName?" pswp--css_animation":"",a+=F.svg?" pswp--svg":"",o.addClass(t,a),i.updateSize(),h=-1,bt=null,n=0;n<u;n++)It((n+h)*gt.x,E[n].el.style);M||o.bind(i.scrollWrap,v,i),jt("initialZoomInEnd",(function(){i.setContent(E[0],p-1),i.setContent(E[2],p+1),E[0].el.style.display=E[2].el.style.display="block",c.focus&&t.focus(),Gt()})),i.setContent(E[1],p),i.updateCurrItem(),Tt("afterInit"),wt||(x=setInterval((function(){Jt||W||tt||g!==i.currItem.initialZoomLevel||i.updateSize()}),1e3)),o.addClass(t,"pswp--visible")}},close:function(){l&&(l=!1,s=!0,Tt("close"),zt(),tn(i.currItem,null,!0,i.destroy))},destroy:function(){Tt("destroy"),Ke&&clearTimeout(Ke),t.setAttribute("aria-hidden","true"),t.className=R,x&&clearInterval(x),o.unbind(i.scrollWrap,v,i),o.unbind(window,"scroll",i),Ee(),ee(),St=null},panTo:function(t,e,n){n||(t>nt.min.x?t=nt.min.x:t<nt.max.x&&(t=nt.max.x),e>nt.min.y?e=nt.min.y:e<nt.max.y&&(e=nt.max.y)),ht.x=t,ht.y=e,At()},handleEvent:function(t){t=t||window.event,m[t.type]&&m[t.type](t)},goTo:function(t){var e=(t=kt(t))-p;bt=e,p=t,i.currItem=Je(p),vt-=e,Rt(gt.x*vt),ee(),ot=!1,i.updateCurrItem()},next:function(){i.goTo(p+1)},prev:function(){i.goTo(p-1)},updateCurrZoomItem:function(t){if(t&&Tt("beforeChange",0),E[1].el.children.length){var e=E[1].el.children[0];rt=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else rt=null;nt=i.currItem.bounds,b=g=i.currItem.initialZoomLevel,ht.x=nt.center.x,ht.y=nt.center.y,t&&Tt("afterChange")},invalidateCurrItems:function(){O=!0;for(var t=0;t<u;t++)E[t].item&&(E[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==bt){var e,n=Math.abs(bt);if(!(t&&n<2)){i.currItem=Je(p),Ot=!1,Tt("beforeChange",bt),n>=u&&(h+=bt+(bt>0?-u:u),n=u);for(var r=0;r<n;r++)bt>0?(e=E.shift(),E[u-1]=e,h++,It((h+2)*gt.x,e.el.style),i.setContent(e,p-n+r+1+1)):(e=E.pop(),E.unshift(e),h--,It(h*gt.x,e.el.style),i.setContent(e,p+n-r-1-1));if(rt&&1===Math.abs(bt)){var o=Je(k);o.initialZoomLevel!==g&&(un(o,yt),fn(o),Nt(o))}bt=0,i.updateCurrZoomItem(),k=p,Tt("afterChange")}}},updateSize:function(e){if(!wt&&c.modal){var n=o.getScrollY();if(B!==n&&(t.style.top=n+"px",B=n),!e&&xt.x===window.innerWidth&&xt.y===window.innerHeight)return;xt.x=window.innerWidth,xt.y=window.innerHeight,t.style.height=xt.y+"px"}if(yt.x=i.scrollWrap.clientWidth,yt.y=i.scrollWrap.clientHeight,Xt(),gt.x=yt.x+Math.round(yt.x*c.spacing),gt.y=yt.y,Rt(gt.x*vt),Tt("beforeResize"),void 0!==h){for(var r,a,l,s=0;s<u;s++)r=E[s],It((s+h)*gt.x,r.el.style),l=p+s-1,c.loop&&Qe()>2&&(l=kt(l)),(a=Je(l))&&(O||a.needsUpdate||!a.bounds)?(i.cleanSlide(a),i.setContent(r,l),1===s&&(i.currItem=a,i.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===r.index&&l>=0&&i.setContent(r,l),a&&a.container&&(un(a,yt),fn(a),Nt(a));O=!1}b=g=i.currItem.initialZoomLevel,(nt=i.currItem.bounds)&&(ht.x=nt.center.x,ht.y=nt.center.y,At(!0)),Tt("resize")},zoomTo:function(t,e,n,r,i){e&&(b=g,be.x=Math.abs(e.x)-ht.x,be.y=Math.abs(e.y)-ht.y,Mt(dt,ht));var a=Yt(t,!1),u={};Zt("x",a,u,t),Zt("y",a,u,t);var c=g,l={x:ht.x,y:ht.y};Bt(u);var s=function(e){1===e?(g=t,ht.x=u.x,ht.y=u.y):(g=(t-c)*e+c,ht.x=(u.x-l.x)*e+l.x,ht.y=(u.y-l.y)*e+l.y),i&&i(e),At(1===e)};n?ne("customZoomTo",0,1,n,r||o.easing.sine.inOut,s):s(1)}},oe=30,ie=10,ae={},ue={},ce={},le={},se={},fe=[],pe={},de=[],he={},ye=0,ve=ft(),me=0,ge=ft(),be=ft(),we=ft(),_e=function(t,e){return t.x===e.x&&t.y===e.y},xe=function(t,e){return Math.abs(t.x-e.x)<a&&Math.abs(t.y-e.y)<a},Oe=function(t,e){return he.x=Math.abs(t.x-e.x),he.y=Math.abs(t.y-e.y),Math.sqrt(he.x*he.x+he.y*he.y)},Ee=function(){$&&(I($),$=null)},ke=function(){W&&($=N(ke),Ge())},Se=function(){return!("fit"===c.scaleMode&&g===i.currItem.initialZoomLevel)},je=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:je(t.parentNode,e))},Te={},Ce=function(t,e){return Te.prevent=!je(t.target,c.isClickableElement),Tt("preventDragEvent",t,e,Te),Te.prevent},Le=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Pe=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},Ae=function(t,e,n){if(t-z>50){var r=de.length>2?de.shift():{};r.x=e,r.y=n,de.push(r),z=t}},Ne=function(){var t=ht.y-i.currItem.initialPosition.y;return 1-Math.abs(t/(yt.y/2))},Ie={},Re={},De=[],Me=function(t){for(;De.length>0;)De.pop();return P?(st=0,fe.forEach((function(t){0===st?De[0]=t:1===st&&(De[1]=t),st++}))):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(De[0]=Le(t.touches[0],Ie),t.touches.length>1&&(De[1]=Le(t.touches[1],Re))):(Ie.x=t.pageX,Ie.y=t.pageY,Ie.id="",De[0]=Ie),De},Be=function(t,e){var n,r,o,a,u=ht[t]+e[t],l=e[t]>0,s=ge.x+e.x,f=ge.x-pe.x;if(n=u>nt.min[t]||u<nt.max[t]?c.panEndFriction:1,u=ht[t]+e[t]*n,(c.allowPanToNext||g===i.currItem.initialZoomLevel)&&(rt?"h"!==it||"x"!==t||q||(l?(u>nt.min[t]&&(n=c.panEndFriction,nt.min[t],r=nt.min[t]-dt[t]),(r<=0||f<0)&&Qe()>1?(a=s,f<0&&s>pe.x&&(a=pe.x)):nt.min.x!==nt.max.x&&(o=u)):(u<nt.max[t]&&(n=c.panEndFriction,nt.max[t],r=dt[t]-nt.max[t]),(r<=0||f>0)&&Qe()>1?(a=s,f>0&&s<pe.x&&(a=pe.x)):nt.min.x!==nt.max.x&&(o=u))):a=s,"x"===t))return void 0!==a&&(Rt(a,!0),J=a!==pe.x),nt.min.x!==nt.max.x&&(void 0!==o?ht.x=o:J||(ht.x+=e.x*n)),void 0!==a;ot||J||g>i.currItem.fitRatio&&(ht[t]+=e[t]*n)},Fe=function(t){if(!("mousedown"===t.type&&t.button>0))if($e)t.preventDefault();else if(!Z||"mousedown"!==t.type){if(Ce(t,!0)&&t.preventDefault(),Tt("pointerDown"),P){var e=o.arraySearch(fe,t.pointerId,"id");e<0&&(e=fe.length),fe[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=Me(t),r=n.length;Q=null,ee(),W&&1!==r||(W=at=!0,o.bind(window,y,i),H=lt=ut=V=J=X=K=q=!1,it=null,Tt("firstTouchStart",n),Mt(dt,ht),pt.x=pt.y=0,Mt(le,n[0]),Mt(se,le),pe.x=gt.x*vt,de=[{x:le.x,y:le.y}],z=G=Ct(),Yt(g,!0),Ee(),ke()),!tt&&r>1&&!ot&&!J&&(b=g,q=!1,tt=K=!0,pt.y=pt.x=0,Mt(dt,ht),Mt(ae,n[0]),Mt(ue,n[1]),Pe(ae,ue,we),be.x=Math.abs(we.x)-ht.x,be.y=Math.abs(we.y)-ht.y,et=Oe(ae,ue))}},Ue=function(t){if(t.preventDefault(),P){var e=o.arraySearch(fe,t.pointerId,"id");if(e>-1){var n=fe[e];n.x=t.pageX,n.y=t.pageY}}if(W){var r=Me(t);if(it||X||tt)Q=r;else if(ge.x!==gt.x*vt)it="h";else{var i=Math.abs(r[0].x-le.x)-Math.abs(r[0].y-le.y);Math.abs(i)>=ie&&(it=i>0?"h":"v",Q=r)}}},Ge=function(){if(Q){var t=Q.length;if(0!==t)if(Mt(ae,Q[0]),ce.x=ae.x-le.x,ce.y=ae.y-le.y,tt&&t>1){if(le.x=ae.x,le.y=ae.y,!ce.x&&!ce.y&&_e(Q[1],ue))return;Mt(ue,Q[1]),q||(q=!0,Tt("zoomGestureStarted"));var e=Oe(ae,ue),n=Ze(e);n>i.currItem.initialZoomLevel+i.currItem.initialZoomLevel/15&&(lt=!0);var r=1,o=Ht(),a=Vt();if(n<o)if(c.pinchToClose&&!lt&&b<=i.currItem.initialZoomLevel){var u=1-(o-n)/(o/1.2);Lt(u),Tt("onPinchClose",u),ut=!0}else(r=(o-n)/o)>1&&(r=1),n=o-r*(o/3);else n>a&&((r=(n-a)/(6*o))>1&&(r=1),n=a+r*o);r<0&&(r=0),Pe(ae,ue,ve),pt.x+=ve.x-we.x,pt.y+=ve.y-we.y,Mt(we,ve),ht.x=Dt("x",n),ht.y=Dt("y",n),H=n>g,g=n,At()}else{if(!it)return;if(at&&(at=!1,Math.abs(ce.x)>=ie&&(ce.x-=Q[0].x-se.x),Math.abs(ce.y)>=ie&&(ce.y-=Q[0].y-se.y)),le.x=ae.x,le.y=ae.y,0===ce.x&&0===ce.y)return;if("v"===it&&c.closeOnVerticalDrag&&!Se()){pt.y+=ce.y,ht.y+=ce.y;var l=Ne();return V=!0,Tt("onVerticalDrag",l),Lt(l),void At()}Ae(Ct(),ae.x,ae.y),X=!0,nt=i.currItem.bounds,Be("x",ce)||(Be("y",ce),Bt(ht),At())}}},ze=function(t){if(F.isOldAndroid){if(Z&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(Z),Z=setTimeout((function(){Z=0}),600))}var e;if(Tt("pointerUp"),Ce(t,!1)&&t.preventDefault(),P){var n=o.arraySearch(fe,t.pointerId,"id");if(n>-1)if(e=fe.splice(n,1)[0],navigator.msPointerEnabled){var r={4:"mouse",2:"touch",3:"pen"};e.type=r[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}else e.type=t.pointerType||"mouse"}var a,u=Me(t),l=u.length;if("mouseup"===t.type&&(l=0),2===l)return Q=null,!0;1===l&&Mt(se,u[0]),0!==l||it||ot||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),Tt("touchRelease",t,e));var s=-1;if(0===l&&(W=!1,o.unbind(window,y,i),Ee(),tt?s=0:-1!==me&&(s=Ct()-me)),me=1===l?Ct():-1,a=-1!==s&&s<150?"zoom":"swipe",tt&&l<2&&(tt=!1,1===l&&(a="zoomPointerUp"),Tt("zoomGestureEnded")),Q=null,X||q||ot||V)if(ee(),Y||(Y=Ye()),Y.calculateSwipeSpeed("x"),V)if(Ne()<c.verticalDragRange)i.close();else{var f=ht.y,p=ct;ne("verticalDrag",0,1,300,o.easing.cubic.out,(function(t){ht.y=(i.currItem.initialPosition.y-f)*t+f,Lt((1-p)*t+p),At()})),Tt("onVerticalDrag",1)}else{if((J||ot)&&0===l){if(Ve(a,Y))return;a="zoomPointerUp"}ot||("swipe"===a?!J&&g>i.currItem.fitRatio&&He(Y):We())}},Ye=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){de.length>1?(t=Ct()-z+50,e=de[de.length-2][r]):(t=Ct()-G,e=se[r]),n.lastFlickOffset[r]=le[r]-e,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/t:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(ht[t]>nt.min[t]?n.backAnimDestination[t]=nt.min[t]:ht[t]<nt.max[t]&&(n.backAnimDestination[t]=nt.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,ne("bounceZoomPan"+t,ht[t],n.backAnimDestination[t],e||300,o.easing.sine.out,(function(e){ht[t]=e,At()})))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,ht[t]+=n.distanceOffset[t])},panAnimLoop:function(){if($t.zoomPan&&($t.zoomPan.raf=N(n.panAnimLoop),n.now=Ct(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),At(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ht.x=Math.round(ht.x),ht.y=Math.round(ht.y),At(),void Qt("zoomPan")}};return n},He=function(t){if(t.calculateSwipeSpeed("y"),nt=i.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;te("zoomPan"),t.lastNow=Ct(),t.panAnimLoop()},Ve=function(t,e){var n,r,a;if(ot||(ye=p),"swipe"===t){var u=le.x-se.x,l=e.lastFlickDist.x<10;u>oe&&(l||e.lastFlickOffset.x>20)?r=-1:u<-oe&&(l||e.lastFlickOffset.x<-20)&&(r=1)}r&&((p+=r)<0?(p=c.loop?Qe()-1:0,a=!0):p>=Qe()&&(p=c.loop?0:Qe()-1,a=!0),a&&!c.loop||(bt+=r,vt-=r,n=!0));var s,f=gt.x*vt,d=Math.abs(f-ge.x);return n||f>ge.x==e.lastFlickSpeed.x>0?(s=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,s=Math.min(s,400),s=Math.max(s,250)):s=333,ye===p&&(n=!1),ot=!0,Tt("mainScrollAnimStart"),ne("mainScroll",ge.x,f,s,o.easing.cubic.out,Rt,(function(){ee(),ot=!1,ye=-1,(n||ye!==p)&&i.updateCurrItem(),Tt("mainScrollAnimComplete")})),n&&i.updateCurrItem(!0),n},Ze=function(t){return 1/et*t*b},We=function(){var t=g,e=Ht(),n=Vt();g<e?t=e:g>n&&(t=n);var r,a=1,u=ct;return ut&&!H&&!lt&&g<e?(i.close(),!0):(ut&&(r=function(t){Lt((a-u)*t+u)}),i.zoomTo(t,0,200,o.easing.cubic.out,r),!0)};Et("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,n,r,o){S=t+e,j=t+n,T=t+r,C=o?t+o:""};(P=F.pointerEvent)&&F.touch&&(F.touch=!1),P?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):F.touch?(t("touch","start","move","end","cancel"),A=!0):t("mouse","down","move","up"),y=j+" "+T+" "+C,v=S,P&&!A&&(A=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),i.likelyTouchDevice=A,m[S]=Fe,m[j]=Ue,m[T]=ze,C&&(m[C]=m[T]),F.touch&&(v+=" mousedown",y+=" mousemove mouseup",m.mousedown=m[S],m.mousemove=m[j],m.mouseup=m[T]),A||(c.allowPanToNext=!1)}}});var Ke,qe,Xe,$e,Je,Qe,tn=function(e,n,r,a){var u;Ke&&clearTimeout(Ke),$e=!0,Xe=!0,e.initialLayout?(u=e.initialLayout,e.initialLayout=null):u=c.getThumbBoundsFn&&c.getThumbBoundsFn(p);var l,s,d=r?c.hideAnimationDuration:c.showAnimationDuration,h=function(){Qt("initialZoom"),r?(i.template.removeAttribute("style"),i.bg.removeAttribute("style")):(Lt(1),n&&(n.style.display="block"),o.addClass(t,"pswp--animated-in"),Tt("initialZoom"+(r?"OutEnd":"InEnd"))),a&&a(),$e=!1};if(!d||!u||void 0===u.x)return Tt("initialZoom"+(r?"Out":"In")),g=e.initialZoomLevel,Mt(ht,e.initialPosition),At(),t.style.opacity=r?0:1,Lt(1),void(d?setTimeout((function(){h()}),d):h());l=f,s=!i.currItem.src||i.currItem.loadError||c.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),r||(g=u.w/e.w,ht.x=u.x,ht.y=u.y-D,i[s?"template":"bg"].style.opacity=.001,At()),te("initialZoom"),r&&!l&&o.removeClass(t,"pswp--animated-in"),s&&(r?o[(l?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout((function(){o.addClass(t,"pswp--animate_opacity")}),30)),Ke=setTimeout((function(){if(Tt("initialZoom"+(r?"Out":"In")),r){var n=u.w/e.w,i={x:ht.x,y:ht.y},a=g,c=ct,f=function(e){1===e?(g=n,ht.x=u.x,ht.y=u.y-B):(g=(n-a)*e+a,ht.x=(u.x-i.x)*e+i.x,ht.y=(u.y-B-i.y)*e+i.y),At(),s?t.style.opacity=1-e:Lt(c-e*c)};l?ne("initialZoom",0,1,d,o.easing.cubic.out,f,h):(f(1),Ke=setTimeout(h,d+20))}else g=e.initialZoomLevel,Mt(ht,e.initialPosition),At(),Lt(1),s?t.style.opacity=1:Lt(1),Ke=setTimeout(h,d+20)}),r?25:90)},en={},nn=[],rn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return qe.length}},on=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(t,e,n){var r=t.bounds;r.center.x=Math.round((en.x-e)/2),r.center.y=Math.round((en.y-n)/2)+t.vGap.top,r.max.x=e>en.x?Math.round(en.x-e):r.center.x,r.max.y=n>en.y?Math.round(en.y-n)+t.vGap.top:r.center.y,r.min.x=e>en.x?0:r.center.x,r.min.y=n>en.y?t.vGap.top:r.center.y},un=function(t,e,n){if(t.src&&!t.loadError){var r=!n;if(r&&(t.vGap||(t.vGap={top:0,bottom:0}),Tt("parseVerticalMargin",t)),en.x=e.x,en.y=e.y-t.vGap.top-t.vGap.bottom,r){var o=en.x/t.w,i=en.y/t.h;t.fitRatio=o<i?o:i;var a=c.scaleMode;"orig"===a?n=1:"fit"===a&&(n=t.fitRatio),n>1&&(n=1),t.initialZoomLevel=n,t.bounds||(t.bounds=on())}if(!n)return;return an(t,t.w*n,t.h*n),r&&n===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=on(),t.initialPosition=t.bounds.center,t.bounds},cn=function(t,e,n,r,o,a){e.loadError||r&&(e.imageAppended=!0,fn(e,r,e===i.currItem&&Ot),n.appendChild(r),a&&setTimeout((function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)}),500))},ln=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},sn=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=c.errorMsg.replace("%url%",t.src),!0},fn=function(t,e,n){if(t.src){e||(e=t.container.lastChild);var r=n?t.w:Math.round(t.w*t.fitRatio),o=n?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=r+"px",t.placeholder.style.height=o+"px"),e.style.width=r+"px",e.style.height=o+"px"}},pn=function(){if(nn.length){for(var t,e=0;e<nn.length;e++)(t=nn[e]).holder.index===t.index&&cn(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);nn=[]}};Et("Controller",{publicMethods:{lazyLoadItem:function(t){t=kt(t);var e=Je(t);e&&(!e.loaded&&!e.loading||O)&&(Tt("gettingData",t,e),e.src&&ln(e))},initController:function(){o.extend(c,rn,!0),i.items=qe=n,Je=i.getItemAt,Qe=c.getNumItemsFn,c.loop,Qe()<3&&(c.loop=!1),jt("beforeChange",(function(t){var e,n=c.preload,r=null===t||t>=0,o=Math.min(n[0],Qe()),a=Math.min(n[1],Qe());for(e=1;e<=(r?a:o);e++)i.lazyLoadItem(p+e);for(e=1;e<=(r?o:a);e++)i.lazyLoadItem(p-e)})),jt("initialLayout",(function(){i.currItem.initialLayout=c.getThumbBoundsFn&&c.getThumbBoundsFn(p)})),jt("mainScrollAnimComplete",pn),jt("initialZoomInEnd",pn),jt("destroy",(function(){for(var t,e=0;e<qe.length;e++)(t=qe[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);nn=null}))},getItemAt:function(t){return t>=0&&void 0!==qe[t]&&qe[t]},allowProgressiveImg:function(){return c.forceProgressiveLoading||!A||c.mouseUsed||screen.width>1200},setContent:function(t,e){c.loop&&(e=kt(e));var n=i.getItemAt(t.index);n&&(n.container=null);var r,a=i.getItemAt(e);if(a){Tt("gettingData",e,a),t.index=e,t.item=a;var u=a.container=o.createEl("pswp__zoom-wrap");if(!a.src&&a.html&&(a.html.tagName?u.appendChild(a.html):u.innerHTML=a.html),sn(a),un(a,yt),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&((r=o.createEl("pswp__img","img")).style.opacity=1,r.src=a.src,fn(a,r),cn(e,a,u,r,!0));else{if(a.loadComplete=function(n){if(l){if(t&&t.index===e){if(sn(n,!0))return n.loadComplete=n.img=null,un(n,yt),Nt(n),void(t.index===p&&i.updateCurrZoomItem());n.imageAppended?!$e&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):F.transform&&(ot||$e)?nn.push({item:n,baseDiv:u,img:n.img,index:e,holder:t,clearPlaceholder:!0}):cn(e,n,u,n.img,ot||$e,!0)}n.loadComplete=null,n.img=null,Tt("imageLoadComplete",e,n)}},o.features.transform){var s="pswp__img pswp__img--placeholder";s+=a.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(s,a.msrc?"img":"");a.msrc&&(f.src=a.msrc),fn(a,f),u.appendChild(f),a.placeholder=f}a.loading||ln(a),i.allowProgressiveImg()&&(!Xe&&F.transform?nn.push({item:a,baseDiv:u,img:a.img,index:e,holder:t}):cn(e,a,u,a.img,!0,!0))}Xe||e!==p?Nt(a):(rt=u.style,tn(a,r||a.img)),t.el.innerHTML="",t.el.appendChild(u)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var dn,hn,yn={},vn=function(t,e,n){var r=document.createEvent("CustomEvent"),o={origEvent:t,target:t.target,releasePoint:e,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,o),t.target.dispatchEvent(r)};Et("Tap",{publicMethods:{initTap:function(){jt("firstTouchStart",i.onTapStart),jt("touchRelease",i.onTapRelease),jt("destroy",(function(){yn={},dn=null}))},onTapStart:function(t){t.length>1&&(clearTimeout(dn),dn=null)},onTapRelease:function(t,e){if(e&&!X&&!K&&!Jt){var n=e;if(dn&&(clearTimeout(dn),dn=null,xe(n,yn)))return void Tt("doubleTap",n);if("mouse"===e.type)return void vn(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||o.hasClass(t.target,"pswp__single-tap"))return void vn(t,e);Mt(yn,n),dn=setTimeout((function(){vn(t,e),dn=null}),300)}}}}),Et("DesktopZoom",{publicMethods:{initDesktopZoom:function(){M||(A?jt("mouseUsed",(function(){i.setupDesktopZoom()})):i.setupDesktopZoom(!0))},setupDesktopZoom:function(e){hn={};var n="wheel mousewheel DOMMouseScroll";jt("bindEvents",(function(){o.bind(t,n,i.handleMouseWheel)})),jt("unbindEvents",(function(){hn&&o.unbind(t,n,i.handleMouseWheel)})),i.mouseZoomedIn=!1;var r,a=function(){i.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),i.mouseZoomedIn=!1),g<1?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),u()},u=function(){r&&(o.removeClass(t,"pswp--dragging"),r=!1)};jt("resize",a),jt("afterChange",a),jt("pointerDown",(function(){i.mouseZoomedIn&&(r=!0,o.addClass(t,"pswp--dragging"))})),jt("pointerUp",u),e||a()},handleMouseWheel:function(t){if(g<=i.currItem.fitRatio)return c.modal&&(!c.closeOnScroll||Jt||W?t.preventDefault():L&&Math.abs(t.deltaY)>2&&(f=!0,i.close())),!0;if(t.stopPropagation(),hn.x=0,"deltaX"in t)1===t.deltaMode?(hn.x=18*t.deltaX,hn.y=18*t.deltaY):(hn.x=t.deltaX,hn.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(hn.x=-.16*t.wheelDeltaX),t.wheelDeltaY?hn.y=-.16*t.wheelDeltaY:hn.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;hn.y=t.detail}Yt(g,!0);var e=ht.x-hn.x,n=ht.y-hn.y;(c.modal||e<=nt.min.x&&e>=nt.max.x&&n<=nt.min.y&&n>=nt.max.y)&&t.preventDefault(),i.panTo(e,n)},toggleDesktopZoom:function(e){e=e||{x:yt.x/2+mt.x,y:yt.y/2+mt.y};var n=c.getDoubleTapZoom(!0,i.currItem),r=g===n;i.mouseZoomedIn=!r,i.zoomTo(r?i.currItem.initialZoomLevel:n,e,333),o[(r?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var mn,gn,bn,wn,_n,xn,On,En,kn,Sn,jn,Tn,Cn={history:!0,galleryUID:1},Ln=function(){return jn.hash.substring(1)},Pn=function(){mn&&clearTimeout(mn),bn&&clearTimeout(bn)},An=function(){var t=Ln(),e={};if(t.length<5)return e;var n,r=t.split("&");for(n=0;n<r.length;n++)if(r[n]){var o=r[n].split("=");o.length<2||(e[o[0]]=o[1])}if(c.galleryPIDs){var i=e.pid;for(e.pid=0,n=0;n<qe.length;n++)if(qe[n].pid===i){e.pid=n;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Nn=function(){if(bn&&clearTimeout(bn),Jt||W)bn=setTimeout(Nn,500);else{wn?clearTimeout(gn):wn=!0;var t=p+1,e=Je(p);e.hasOwnProperty("pid")&&(t=e.pid);var n=On+"&gid="+c.galleryUID+"&pid="+t;En||-1===jn.hash.indexOf(n)&&(Sn=!0);var r=jn.href.split("#")[0]+"#"+n;Tn?"#"+n!==window.location.hash&&history[En?"replaceState":"pushState"]("",document.title,r):En?jn.replace(r):jn.hash=n,En=!0,gn=setTimeout((function(){wn=!1}),60)}};Et("History",{publicMethods:{initHistory:function(){if(o.extend(c,Cn,!0),c.history){jn=window.location,Sn=!1,kn=!1,En=!1,On=Ln(),Tn="pushState"in history,On.indexOf("gid=")>-1&&(On=(On=On.split("&gid=")[0]).split("?gid=")[0]),jt("afterChange",i.updateURL),jt("unbindEvents",(function(){o.unbind(window,"hashchange",i.onHashChange)}));var t=function(){xn=!0,kn||(Sn?history.back():On?jn.hash=On:Tn?history.pushState("",document.title,jn.pathname+jn.search):jn.hash=""),Pn()};jt("unbindEvents",(function(){f&&t()})),jt("destroy",(function(){xn||t()})),jt("firstUpdate",(function(){p=An().pid}));var e=On.indexOf("pid=");e>-1&&"&"===(On=On.substring(0,e)).slice(-1)&&(On=On.slice(0,-1)),setTimeout((function(){l&&o.bind(window,"hashchange",i.onHashChange)}),40)}},onHashChange:function(){if(Ln()===On)return kn=!0,void i.close();wn||(_n=!0,i.goTo(An().pid),_n=!1)},updateURL:function(){Pn(),_n||(En?mn=setTimeout(Nn,800):Nn())}}}),o.extend(i,re)};return t},void 0===(o="function"==typeof r?r.call(e,n,e,t):r)||(t.exports=o)},3736:function(t,e,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";return function(t,e){var n,r,o,i,a,u,c,l,s,f,p,d,h,y,v,m,g,b,w=this,_=!1,x=!0,O=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(t){if(m)return!0;t=t||window.event,v.timeToIdle&&v.mouseUsed&&!s&&R();for(var n,r,o=(t.target||t.srcElement).getAttribute("class")||"",i=0;i<Y.length;i++)(n=Y[i]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){t.stopPropagation&&t.stopPropagation(),m=!0;var a=e.features.isOldAndroid?600:30;setTimeout((function(){m=!1}),a)}},S=function(){return!t.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},j=function(t,n,r){e[(r?"add":"remove")+"Class"](t,"pswp__"+n)},T=function(){var t=1===v.getNumItemsFn();t!==y&&(j(r,"ui--one-slide",t),y=t)},C=function(){j(c,"share-modal--hidden",O)},L=function(){return(O=!O)?(e.removeClass(c,"pswp__share-modal--fade-in"),setTimeout((function(){O&&C()}),300)):(C(),setTimeout((function(){O||e.addClass(c,"pswp__share-modal--fade-in")}),30)),O||A(),!1},P=function(e){var n=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||L(),1))},A=function(){for(var t,e,n,r,o="",i=0;i<v.shareButtons.length;i++)t=v.shareButtons[i],e=v.getImageURLForShare(t),n=v.getPageURLForShare(t),r=v.getTextForShare(t),o+='<a href="'+t.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(e)).replace("{{raw_image_url}}",e).replace("{{text}}",encodeURIComponent(r))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",v.parseShareButtonOut&&(o=v.parseShareButtonOut(t,o));c.children[0].innerHTML=o,c.children[0].onclick=P},N=function(t){for(var n=0;n<v.closeElClasses.length;n++)if(e.hasClass(t,"pswp__"+v.closeElClasses[n]))return!0},I=0,R=function(){clearTimeout(b),I=0,s&&w.setIdle(!1)},D=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(b),b=setTimeout((function(){w.setIdle(!0)}),v.timeToIdleOutside))},M=function(){v.fullscreenEl&&!e.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(e.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},B=function(){v.preloaderEl&&(F(!0),f("beforeChange",(function(){clearTimeout(h),h=setTimeout((function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&F(!1):F(!0)}),v.loadingIndicatorDelay)})),f("imageLoadComplete",(function(e,n){t.currItem===n&&F(!0)})))},F=function(t){d!==t&&(j(p,"preloader--active",!t),d=t)},U=function(t){var n=t.vGap;if(S()){var a=v.barsSize;if(v.captionEl&&"auto"===a.bottom)if(i||((i=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),r.insertBefore(i,o),e.addClass(r,"pswp__ui--fit")),v.addCaptionHTMLFn(t,i,!0)){var u=i.clientHeight;n.bottom=parseInt(u,10)||44}else n.bottom=a.top;else n.bottom="auto"===a.bottom?0:a.bottom;n.top=a.top}else n.top=n.bottom=0},G=function(){v.timeToIdle&&f("mouseUsed",(function(){e.bind(document,"mousemove",R),e.bind(document,"mouseout",D),g=setInterval((function(){2==++I&&w.setIdle(!0)}),v.timeToIdle/2)}))},z=function(){var t;f("onVerticalDrag",(function(t){x&&t<.95?w.hideControls():!x&&t>=.95&&w.showControls()})),f("onPinchClose",(function(e){x&&e<.9?(w.hideControls(),t=!0):t&&!x&&e>.9&&w.showControls()})),f("zoomGestureEnded",(function(){(t=!1)&&!x&&w.showControls()}))},Y=[{name:"caption",option:"captionEl",onInit:function(t){o=t}},{name:"share-modal",option:"shareEl",onInit:function(t){c=t},onTap:function(){L()}},{name:"button--share",option:"shareEl",onInit:function(t){u=t},onTap:function(){L()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){a=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){p=t}}],H=function(){var t,n,o,i=function(r){if(r)for(var i=r.length,a=0;a<i;a++){t=r[a],n=t.className;for(var u=0;u<Y.length;u++)o=Y[u],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(e.removeClass(t,"pswp__element--disabled"),o.onInit&&o.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};i(r.children);var a=e.getChildByClass(r,"pswp__top-bar");a&&i(a.children)};w.init=function(){e.extend(t.options,E,!0),v=t.options,r=e.getChildByClass(t.scrollWrap,"pswp__ui"),f=t.listen,z(),f("beforeChange",w.update),f("doubleTap",(function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(v.getDoubleTapZoom(!1,t.currItem),e,333)})),f("preventDragEvent",(function(t,e,n){var r=t.target||t.srcElement;r&&r.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)})),f("bindEvents",(function(){e.bind(r,"pswpTap click",k),e.bind(t.scrollWrap,"pswpTap",w.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",w.onMouseOver)})),f("unbindEvents",(function(){O||L(),g&&clearInterval(g),e.unbind(document,"mouseout",D),e.unbind(document,"mousemove",R),e.unbind(r,"pswpTap click",k),e.unbind(t.scrollWrap,"pswpTap",w.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",w.onMouseOver),n&&(e.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)})),f("destroy",(function(){v.captionEl&&(i&&r.removeChild(i),e.removeClass(o,"pswp__caption--empty")),c&&(c.children[0].onclick=null),e.removeClass(r,"pswp__ui--over-close"),e.addClass(r,"pswp__ui--hidden"),w.setIdle(!1)})),v.showAnimationDuration||e.removeClass(r,"pswp__ui--hidden"),f("initialZoomIn",(function(){v.showAnimationDuration&&e.removeClass(r,"pswp__ui--hidden")})),f("initialZoomOut",(function(){e.addClass(r,"pswp__ui--hidden")})),f("parseVerticalMargin",U),H(),v.shareEl&&u&&c&&(O=!0),T(),G(),M(),B()},w.setIdle=function(t){s=t,j(r,"ui--idle",t)},w.update=function(){x&&t.currItem?(w.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(t.currItem,o),j(o,"caption--empty",!t.currItem.title)),_=!0):_=!1,O||L(),T()},w.updateFullscreen=function(r){r&&setTimeout((function(){t.setScrollOffset(0,e.getScrollY())}),50),e[(n.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},w.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=t.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},w.onGlobalTap=function(n){var r=(n=n||window.event).target||n.srcElement;if(!m)if(n.detail&&"mouse"===n.detail.pointerType){if(N(r))return void t.close();e.hasClass(r,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?v.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(x?w.hideControls():w.showControls()),v.tapToClose&&(e.hasClass(r,"pswp__img")||N(r)))return void t.close()},w.onMouseOver=function(t){var e=(t=t||window.event).target||t.srcElement;j(r,"ui--over-close",N(e))},w.hideControls=function(){e.addClass(r,"pswp__ui--hidden"),x=!1},w.showControls=function(){x=!0,_||w.update(),e.removeClass(r,"pswp__ui--hidden")},w.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},w.getFullscreenAPI=function(){var e,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(l=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return v.closeOnScroll=l,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}})?r.call(e,n,e,t):r)||(t.exports=o)},3737:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3441);Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var o=n(3360);Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return f(o).default}});var i=n(3444);Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return f(i).default}});var a=n(3445);Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return f(a).default}});var u=n(3447);Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return f(u).default}});var c=n(3448);Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return f(c).default}});var l=n(3450);Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return f(l).default}});var s=n(3452);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return f(s).default}})},3738:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(o=t[n],i=e[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}function i(t,e){void 0===e&&(e=o);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var i=t.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},3753:function(t,e,n){"use strict";n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return T})),n.d(e,"m",(function(){return B})),n.d(e,"k",(function(){return Q})),n.d(e,"i",(function(){return ct})),n.d(e,"j",(function(){return mt})),n.d(e,"l",(function(){return St})),n.d(e,"h",(function(){return Ht})),n.d(e,"f",(function(){return Jt})),n.d(e,"d",(function(){return fe})),n.d(e,"e",(function(){return be})),n.d(e,"g",(function(){return Ce})),n.d(e,"b",(function(){return Be}));var r=n(63),o=n.n(r),i=n(3661),a=n(3357);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(null,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),n=e,r=[{key:"getType",value:function(){var t=this.options.targetType;return t?"".concat(t,"_comment").toLowerCase():"comment"}},{key:"buildOptions",value:function(){var t,n,r,o,i,a=(t=e,n="buildOptions",r=this,i=y(v(1&(o=3)?t.prototype:t),n,r),2&o&&"function"==typeof i?function(t){return i.apply(r,t)}:i)([]),u=this.options,c=u.target;return u.showDingMention?l(l({},a),{},{dingMention:{api:"/api/notifications/send_by_dingtalk_chat",isAntDingTalkApi:"/api/ant_dingtalk/is_ant_dingtalk_user",docId:null==c?void 0:c.id,subjectType:"Comment"}}):a}},{key:"getCacheKey",value:function(){var t=this.options.replyId;return this.isEditMode&&this.target&&this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(this.target.id,"/edit"):this.belong?"autosave/".concat(this.type,"/").concat(this.belong.id,"/").concat(t,"/new"):"autosave/".concat(this.type)}},{key:"isMiniSize",value:function(){return this.options.useMiniGuide||this.options.isMiniSize||window.h5}},{key:"getDefaultFormat",value:function(){return i.a.getDefaultDocumentFormat()}},{key:"getEnableFullEditor",value:function(){return"Artboard"!==this.targetType}}],a=[{key:"getEmptyDocument",value:function(){return{format:o.a.FORMAT.LAKE,value:null}}}],r&&f(n.prototype,r),a&&f(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(a.a),b=g;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,n){return e=k(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var j=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="Resource",t.useBelongAttach=!0,t.from="reply",O(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"getType",value:function(){return"area_comment"}},{key:"getAutoFocus",value:function(){return!0}},{key:"isMiniSize",value:function(){return!0}}])&&_(n.prototype,r),o&&_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(b),T=j;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}function A(t,e,n){return e=R(e),function(t,e){if(e&&("object"==C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,n||[],R(t).constructor):e.apply(t,n))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(N=function(){return!!t})()}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},I.apply(null,arguments)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}var M=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="Doc",t.useBelongAttach=!0,t.from="reply",A(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(e,t),n=e,r=[{key:"buildOptions",value:function(t){var n,r,o,i,a,u,c=(r=e,o="buildOptions",i=this,u=I(R(1&(a=3)?r.prototype:r),o,i),2&a&&"function"==typeof u?function(t){return u.apply(i,t)}:u)([t]);return c.image.showMiniToolbarWhen="never",null===(n=c.disabledPlugins)||void 0===n||n.push("slash"),c}},{key:"getType",value:function(){return"word_comment"}},{key:"getAutoFocus",value:function(){return!1}},{key:"isMiniSize",value:function(){return!0}},{key:"getEnableFullEditor",value:function(){return!1}}],r&&L(n.prototype,r),o&&L(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(b),B=M,F=n(15),U=n.n(F),G=n(3472);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t,e,n){return(e=Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z(r.key),r)}}function Z(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}function W(t,e,n){return e=q(e),function(t,e){if(e&&("object"==z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,K()?Reflect.construct(e,n||[],q(t).constructor):e.apply(t,n))}function K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(K=function(){return!!t})()}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}var $={daily:{title:"#prefix# #day# 日报汇总",content:'<!doctype lake><meta name="doc-version" content="1" /><p>建议 TL 每天组织日会，将一天的重点事项安排于此</p><p>每位同学下班前，在此提交日报</p><p><br /></p><p>日报不要记流水账，尽量在 200 字以内</p><p>重点项目或工作要及时总结和提报，尤其风险点要及时提报</p><p>可以写写思考和感想</p><p><br /></p><p>写完自己的日报，也看看大家的</p><p>每一位同学的努力，都值得认真阅读与交流</p><p><br /></p><p><span style="color: #FA541C;"><span>注意不要提及保密项目和敏感数据</span></span></p>'},weekly:{title:"#prefix# #day# 周报汇总",content:'<!doctype lake><meta name="doc-version" content="1" /><p>将一周的工作总结回复于此</p><p><br /></p><p>不要记流水账，尽量在 800 字以内</p><p>重点项目或工作要及时总结和提报，尤其风险点要及时提报</p><p>可以写写思考和感想</p><p><br /></p><p>写完自己的周报，也看看大家的</p><p>每一位同学的努力，都值得认真阅读与交流</p><p><br /></p><p><span style="color: #FA541C;"><span>注意不要提及保密项目和敏感数据</span></span></p>'},vote:{title:"一起来投票吧",content:'<!doctype lake><meta name="doc-version" content="1" /><card type="block" name="vote" value="data:%7B%22margin%22%3Atrue%2C%22id%22%3A%22jTHWG%22%2C%22type%22%3A%22single%22%7D"></card><p><br /><cursor /></p>'},default:{title:"",content:"<!doctype lake><p></p>"}},J=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),n=e,o=[{key:"getTemplate",value:function(t,e){var n=$[t];if(!n)return{title:null,content:null};var r=U()(new Date).format("YYYY-MM-DD"),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);return o.title=o.title.replace("#prefix#",e),o.title=o.title.replace("#day#",r),o}}],(r=[{key:"getType",value:function(){return"thread"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"getFileUploadUrl",value:function(){var t="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.isEditMode?"".concat(t,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(t,"&attachable_type=").concat(this.belongType||"Book","&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):this.group?"".concat(t,"&attachable_type=User&attachable_id=").concat(this.group.id,"&from=").concat(this.from):null}},{key:"getFileCopyUrl",value:function(){return this.isEditMode?"".concat("/api/upload/copy?type=attachment","&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):null}}])&&V(n.prototype,r),o&&V(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(G.a),Q=J;function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nt(r.key),r)}}function nt(t){var e=function(t,e){if("object"!=tt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tt(e)?e:e+""}function rt(t,e,n){return e=it(e),function(t,e){if(e&&("object"==tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ot()?Reflect.construct(e,n||[],it(t).constructor):e.apply(t,n))}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ot=function(){return!!t})()}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}var ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(e,t),n=e,(r=[{key:"getType",value:function(){return"thread_board"}},{key:"getAutoFocus",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"getFileUploadUrl",value:function(){var t="/api/upload/attach?ctoken=".concat(this.ctoken,"&type=attachment");return this.isEditMode&&!this.options.useBelongAttach?"".concat(t,"&attachable_type=").concat(this.attachType,"&attachable_id=").concat(this.target.id,"&from=").concat(this.from):this.belong?"".concat(t,"&attachable_type=").concat(this.belongType,"&attachable_id=").concat(this.belong.id,"&from=").concat(this.from):null}}])&&et(n.prototype,r),o&&et(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a),ct=ut;function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ft(r.key),r)}}function ft(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}function pt(t,e,n){return e=ht(e),function(t,e){if(e&&("object"==lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dt()?Reflect.construct(e,n||[],ht(t).constructor):e.apply(t,n))}function dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dt=function(){return!!t})()}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}var vt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),pt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"getType",value:function(){return"thread_comment"}}])&&st(n.prototype,r),o&&st(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(b),mt=vt;function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wt(r.key),r)}}function wt(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gt(e)?e:e+""}function _t(t,e,n){return e=Et(e),function(t,e){if(e&&("object"==gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xt()?Reflect.construct(e,n||[],Et(t).constructor):e.apply(t,n))}function xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xt=function(){return!!t})()}function Ot(){return Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Et(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ot.apply(null,arguments)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}var St=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="User",t.useBelongAttach=!0,_t(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(e,t),n=e,r=[{key:"buildOptions",value:function(t){var n,r,o,i,a,u=(n=e,r="buildOptions",o=this,a=Ot(Et(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return u.typography={mustTypography:"classic",typography:"classic",paragraphSpacing:"default"},u}},{key:"getType",value:function(){return"user_readme"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}],r&&bt(n.prototype,r),o&&bt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a),jt=n(3477),Tt=n(48);function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Lt(){Lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Ct(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ct(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return At(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Nt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function It(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Nt(i,r,o,a,u,"next",t)}function u(t){Nt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zt(r.key),r)}}function Dt(t,e,n){return e=Ft(e),function(t,e){if(e&&("object"==Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mt()?Reflect.construct(e,n||[],Ft(t).constructor):e.apply(t,n))}function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mt=function(){return!!t})()}function Bt(){return Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Bt.apply(null,arguments)}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ft(t)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}function Gt(t,e,n){return(e=zt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t){var e=function(t,e){if("object"!=Ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ct(e)?e:e+""}var Yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="Doc",t.useBelongAttach=!0,t.disableCache=!0,t.from="table",Gt(n=Dt(this,e,[t]),"_fetchMentionDocsHandler",(function(t,e){return t.map((function(t){return t.group=e?n.group.name:t.group_name,t.book=e?n.book.name:t.belong,t}))})),Gt(n,"getDefaultSuggestions",It(Lt().mark((function t(){var e;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.book){t.next=2;break}return t.abrupt("return",{docs:[],users:[]});case 2:return t.abrupt("return",Promise.all([null!==(e=n.book.abilities)&&void 0!==e&&e.read?Tt.a.books.docs({id:n.book.id,order_by:"published_at"}):[],Tt.a.users.listDocContextUsers({id:n.target.id})]).then((function(t){var e=Pt(t,2),r=e[0],o=e[1];return{docs:n._fetchMentionDocsHandler(r,!0),users:o}})));case 3:case"end":return t.stop()}}),t)})))),Gt(n,"onMentionSearch",function(){var t=It(Lt().mark((function t(e,r){var o,i;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n.getDefaultSuggestions());case 2:return o=function(){var t=It(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.book){t.next=2;break}return t.abrupt("return",[]);case 2:if(e){t.next=8;break}return t.next=5,Tt.a.books.docs({id:n.book.id,order_by:"published_at"}).then((function(t){return n._fetchMentionDocsHandler(t,!0)}));case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,Tt.a.editor.search({q:e,type:"content",related:!0,range:"title"}).then((function(t){return n._fetchMentionDocsHandler(t||[])}));case 10:t.t0=t.sent;case 11:return t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=It(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tt.a.users.complete({q:e,target_type:n.target.type,target_id:n.target.id}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",Promise.all([o(),i()]).then((function(t){return{docs:t[0],users:t[1]}})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(e,t),n=e,r=[{key:"buildOptions",value:function(t){var n,r,o,i,a,u=(n=e,r="buildOptions",o=this,a=Bt(Ft(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return u.typography={mustTypography:"classic",typography:"classic",paragraphSpacing:"default"},this.options.scrollNode&&(u.scrollNode=this.options.scrollNode),u.mention={defaultList:this.getDefaultSuggestions,onMentionSearch:this.onMentionSearch,multiTypes:!0},u.envAdapter={openLink:function(t){window.open(t)},openBookmarkLink:function(t){window.open(t)},openYuqueDocLink:function(t){window.open(t)},openLocalLink:function(t){window.open(t)},openLocalYuqueDocLink:function(t){window.open(t)},openThirdpartyLink:function(t){window.open(t)},previewImgs:function(t,e){Object(jt.getImageBrowser)().open(t,e)}},u.toolbar=this.getToolbar(),u}},{key:"getToolbar",value:function(){return{agentConfig:{simple:{fixed:!0,items:["cardSelect","style","bold","color","bgColor","orderedList","unorderedList","link","emoji","randomTips"]}}}}},{key:"getType",value:function(){return"table_record_desc"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!1}},{key:"getInitialDocument",value:function(){return{format:this.getDefaultFormat(),title:null,value:null}}}],r&&Rt(n.prototype,r),o&&Rt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a),Ht=Yt;function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function Wt(t){var e=function(t,e){if("object"!=Vt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vt(e)?e:e+""}function Kt(t,e,n){return e=Xt(e),function(t,e){if(e&&("object"==Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qt()?Reflect.construct(e,n||[],Xt(t).constructor):e.apply(t,n))}function qt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qt=function(){return!!t})()}function Xt(t){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xt(t)}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}var Jt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.from="group_custom",t.attachType="User",t.useBelongAttach=!0,Kt(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(e,t),n=e,(r=[{key:"getType",value:function(){return"group_custom"}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete?target_type=Group&target_id=".concat(this.group.id)}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}])&&Zt(n.prototype,r),o&&Zt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a),Qt=n(380);function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t){return function(t){if(Array.isArray(t))return ne(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ne(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oe(r.key),r)}}function oe(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:e+""}function ie(t,e,n){return e=le(e),function(t,e){if(e&&("object"==te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,n||[],le(t).constructor):e.apply(t,n))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ae=function(){return!!t})()}function ue(t,e,n,r){var o=ce(le(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ce.apply(null,arguments)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}function se(t,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},se(t,e)}var fe=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.feedback;return t.attachType="User",t.useBelongAttach=!0,t.from="feedback",t.placeholder={tip:n&&n.abilities.manage?"你将要代表语雀回复用户，请使用官方口吻，慎重填写":"",emptyParagraphTip:""},ie(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&se(t,e)}(e,t),n=e,(r=[{key:"buildOptions",value:function(t){var n,r=ue(e,"buildOptions",this,3)([t]);return r.hideVipIcon=!0,r.image.accept=Qt.a.RELIABLE_IMAGE_EXT,r.file.accept=Qt.a.RELIABLE_FILE_EXT,r.file.localdocAccept=Qt.a.RELIABLE_LOCALDOC_EXT,null===(n=r.disabledPlugins)||void 0===n||n.push("slash"),r}},{key:"getBlockedCards",value:function(){return[].concat(ee(ue(e,"getBlockedCards",this,3)([])),["vote","thirdparty","lockedText","calendar"])}},{key:"getType",value:function(){return"feedback_comment"}},{key:"getCacheKey",value:function(){var t=this.getType();if(this.target)return"autosave/".concat(t,"/").concat(this.target.id,"/edit");var e=this.options.feedback;return e?"autosave/".concat(t,"/").concat(e.id,"/new"):"autosave/".concat(t)}},{key:"getContentObject",value:function(){var t=this.target.content||{source:"",format:"lake"};return{format:t.format,value:t.source||""}}},{key:"isMiniSize",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"getAutoFocus",value:function(){return!0}}])&&re(n.prototype,r),o&&re(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(G.a);function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,he(r.key),r)}}function he(t){var e=function(t,e){if("object"!=pe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pe(e)?e:e+""}function ye(t,e,n){return e=me(e),function(t,e){if(e&&("object"==pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ve()?Reflect.construct(e,n||[],me(t).constructor):e.apply(t,n))}function ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ve=function(){return!!t})()}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}var be=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="User",t.useBelongAttach=!0,t.placeholder={tip:"",emptyParagraphTip:""},t.from="feedback",ye(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(e,t),n=e,(r=[{key:"getType",value:function(){return"feedback_remark"}},{key:"getContentObject",value:function(){return{format:"lake",value:this.target.remark||""}}},{key:"getCacheKey",value:function(){return this.target?"autosave/".concat(this.type,"/").concat(this.target.id):"autosave/".concat(this.type)}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"getAutoFocus",value:function(){return!0}},{key:"isMiniSize",value:function(){return!0}}])&&de(n.prototype,r),o&&de(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(G.a);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function xe(t){var e=function(t,e){if("object"!=we(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==we(e)?e:e+""}function Oe(t,e,n){return e=je(e),function(t,e){if(e&&("object"==we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ee()?Reflect.construct(e,n||[],je(t).constructor):e.apply(t,n))}function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ee=function(){return!!t})()}function ke(t,e,n,r){var o=Se(je(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Se(){return Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=je(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Se.apply(null,arguments)}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}var Ce=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.target&&(t.attachType="Doclet"),Oe(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(e,t),n=e,(r=[{key:"getCards",value:function(){return this.options.target?ke(e,"getCards",this,3)([]):["label"]}},{key:"getFullCards",value:function(){return this.options.target?ke(e,"getFullCards",this,3)([]):["label"]}},{key:"getType",value:function(){return"org_board"}},{key:"getAutoFocus",value:function(){return!0}},{key:"getMentionActionUrl",value:function(){return"/api/users/complete"}},{key:"isMiniSize",value:function(){return!1}}])&&_e(n.prototype,r),o&&_e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a);function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ae(r.key),r)}}function Ae(t){var e=function(t,e){if("object"!=Le(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Le(e)?e:e+""}function Ne(t,e,n){return e=De(e),function(t,e){if(e&&("object"==Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ie()?Reflect.construct(e,n||[],De(t).constructor):e.apply(t,n))}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ie=function(){return!!t})()}function Re(){return Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Re.apply(null,arguments)}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}var Be=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.attachType="Doclet",Ne(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(e,t),n=e,r=[{key:"buildOptions",value:function(t){var n,r,o,i,a,u=(n=e,r="buildOptions",o=this,a=Re(De(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return u.disabledPlugins=["collaboration","vote","checkIn","toc","dataTable","materialLibrary","okr"],u.typography={typography:"classic",paragraphSpacing:"relax"},u}},{key:"getType",value:function(){return"book_overview"}},{key:"isMiniSize",value:function(){return this.options.small}},{key:"getAutoFocus",value:function(){return!0}}],r&&Pe(n.prototype,r),o&&Pe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(a.a);n(3651)},379:function(t,e,n){"use strict";n(2717);var r=n(996);n(693);e.a=r.a},4075:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*Aj06T7NnHngAAAAAAAAAAAAADvuFAQ/original",o="https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*wPMVTriBo40AAAAAAAAAAAAAARQnAQ"},530:function(t,e,n){"use strict";n(2784);var r=n(1010);n(1007);e.a=r.a},6918:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(0),o=n.n(r),i=n(341),a=n(4075),u="index-module_containerWrapper_MkYuq",c="index-module_offlineWrapper_zIVyk",l="index-module_offlineImg_QrfxY",s="index-module_offlineTitle_giEF4",f="index-module_offlineTip_F38bz",p=function(){return o.a.createElement("div",{className:u},o.a.createElement("div",{className:c},o.a.createElement(i.a,{src:a.a,darkAlpha:.7,className:l}),o.a.createElement("h3",{className:s},__("当前处于离线状态，无法查看当前内容")),o.a.createElement("span",{className:f},__("请恢复网络后重试"))))}},696:function(t,e,n){"use strict";var r=n(1363),o={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(t,e){var n,i,a,u,c,l,s=!1;e||(e={}),n=e.debug||!1;try{if(a=r(),u=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=t,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[e.format]||o.default;window.clipboardData.setData(i,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))})),document.body.appendChild(l),u.selectNodeContents(l),c.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,t)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(u):c.removeAllRanges()),l&&document.body.removeChild(l),a()}return s}},7046:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r=function(t){return t.Toc="toc",t.CreatedAt="created_at",t.UpdatedAt="updated_at",t}({}),o=function(t){return t.Book="Book",t.Card="Card",t.Column="Column",t.Custom="Custom",t}({})},7047:function(t,e,n){"use strict";e.a={containerWrapper:"BookOverview-module_containerWrapper_DgnNE",container:"BookOverview-module_container_1XOeO",bookHead:"BookOverview-module_bookHead_+4tu8",bookTitle:"BookOverview-module_bookTitle_dJHa-",bookIcon:"BookOverview-module_bookIcon_wlbhc",editable:"BookOverview-module_editable_qciTg",bookName:"BookOverview-module_bookName_+UPrt",bookNameInput:"BookOverview-module_bookNameInput_mnrNe",action:"BookOverview-module_action_Syxj1",bookAction:"BookOverview-module_bookAction_ROIf-",bookActionItem:"BookOverview-module_bookActionItem_sbPH8",needSave:"BookOverview-module_needSave_pVuxm",update:"BookOverview-module_update_HbybS",star:"BookOverview-module_star_uvjUk",share:"BookOverview-module_share_gT2zn",statistics:"BookOverview-module_statistics_uHBns",docCount:"BookOverview-module_docCount_rTm77",wordCount:"BookOverview-module_wordCount_-Mcic",count:"BookOverview-module_count_4RxbQ",info:"BookOverview-module_info_1vDp0",bookContributor:"BookOverview-module_bookContributor_yQxOn",editor:"BookOverview-module_editor_T56aC",viewer:"BookOverview-module_viewer_wHZhn",none:"BookOverview-module_none_Ec8cF",togglePanel:"BookOverview-module_togglePanel_mPWOh",title:"BookOverview-module_title_ok4h8",desc:"BookOverview-module_desc_mHhnV",toggleItem:"BookOverview-module_toggleItem_c4bNf",catalogHeaderTitle:"BookOverview-module_catalogHeaderTitle_6yl+P",tocContainer:"BookOverview-module_tocContainer_GR86Z",headerSwitch:"BookOverview-module_headerSwitch_xlCUf",switchBtnBg:"BookOverview-module_switchBtnBg_Gj+Gg",treeSelected:"BookOverview-module_treeSelected_tqaat",cardSelected:"BookOverview-module_cardSelected_S9EbS",columnSelected:"BookOverview-module_columnSelected_5Qn-T",switchButtons:"BookOverview-module_switchButtons_tH51-",switchBtn:"BookOverview-module_switchBtn_IVGhh",switchIcon:"BookOverview-module_switchIcon_5iInw",switchBtnSelected:"BookOverview-module_switchBtnSelected_IfORb",catalogModule:"BookOverview-module_catalogModule_xPRJ4",catalogMoreIcon:"BookOverview-module_catalogMoreIcon_tV7z9",empty:"BookOverview-module_empty_CmmT6",mt_26:"BookOverview-module_mt_26_iuvqB",selectPanel:"BookOverview-module_selectPanel_iQlU8",selectTitle:"BookOverview-module_selectTitle_nHGBR",selectItem:"BookOverview-module_selectItem_kWvPj",divider:"BookOverview-module_divider_FyGF3",offlineButton:"BookOverview-module_offlineButton_uIywo"}},7963:function(t,e,n){"use strict";n.r(e),n.d(e,"BookOverview",(function(){return yt})),n.d(e,"default",(function(){return vt}));n(1435);var r=n(1301),o=(n(1007),n(530)),i=(n(1261),n(1033)),a=(n(170),n(70)),u=(n(52),n(12)),c=(n(543),n(104)),l=(n(36),n(8)),s=(n(905),n(542)),f=(n(693),n(379)),p=(n(43),n(10)),d=(n(311),n(101)),h=n(0),y=n.n(h),v=n(30),m=n(524),g=n(1259),b=n(1689),w=n(1693),_=n(1521),x=n(1678),O=n(1728),E=n(1789),k=n(1788),S=n(1676),j=n(6),T=n.n(j),C=n(7964),L=n.n(C),P=n(142),A=n(493),N=n(11),I=n(737),R=n(281),D=n(141),M=n(152),B=n(3980),F=n(3789),U=n(3753),G=n(1251),z=n(33),Y=n(498),H=n(1494),V=n(6918),Z=n(7046),W=n(7047),K=n(2745);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(){J=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:S(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==q(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(q(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Q(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function tt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Q(i,r,o,a,u,"next",t)}function u(t){Q(i,r,o,a,u,"throw",t)}a(void 0)}))}}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot=Object(R.b)((function(){return Promise.resolve().then(n.bind(null,5085))}),{suspense:!0}),it=Object(R.b)((function(){return n.e(1274).then(n.bind(null,4157))}),{suspense:!0}),at=Object(R.b)((function(){return n.e(1275).then(n.bind(null,3966))}),{suspense:!0}),ut=Object(R.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(10),n.e(1401)]).then(n.bind(null,3938)).then((function(t){return t.ShareButton}))}),{suspense:!0}),ct=Object(R.b)((function(){return Promise.all([n.e(5),n.e(6),n.e(0),n.e(1),n.e(1351)]).then(n.bind(null,4098))}),{suspense:!0}),lt=Object(R.b)((function(){return Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1),n.e(1357)]).then(n.bind(null,2953))}),{suspense:!0}),st=Object(R.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(10),n.e(13),n.e(1284)]).then(n.bind(null,7970))}),{suspense:!0}),ft=function(t){var e=t.sections;return y.a.createElement("div",{className:W.a.selectPanel},e.map((function(t,n){return y.a.createElement("div",{key:n},e.length>1&&n>0&&n<e.length&&y.a.createElement(d.a,{className:W.a.divider}),y.a.createElement("div",{className:W.a.selectSection},t.title&&y.a.createElement("div",{className:W.a.selectTitle},t.title),t.content))})))},pt=function(t){var e=t.order,n=t.onChangeOrder;return y.a.createElement(ft,{sections:[{title:__("排序"),content:y.a.createElement("div",{className:W.a.selectList},[{name:__("按目录顺序"),value:Z.b.Toc},{name:__("按创建时间"),value:Z.b.CreatedAt},{name:__("按更新时间"),value:Z.b.UpdatedAt}].map((function(t){return y.a.createElement("div",{className:W.a.selectItem,onClick:function(){return n(t.value)},key:t.value},y.a.createElement("span",null,t.name),e===t.value&&y.a.createElement(g.default,null))})))}]})},dt=function(t){var e=t.layout,n=t.maxLevel,r=t.displayValue,o=t.onChangeLevel,i=t.tailType,a=t.onChangeTailType,u=t.onChangeOrder,c=t.order;return rt(rt(rt({},Z.a.Book,y.a.createElement(ft,{sections:[{title:__("默认展示"),content:y.a.createElement("div",{className:W.a.selectList},[{name:__("全部层级"),value:"all"}].concat(Array.from({length:n},(function(t,e){return{name:__("第 {level} 级",{level:e+1}),value:e.toString()}}))).map((function(t){return y.a.createElement("div",{className:W.a.selectItem,onClick:function(){return o(t.value)},key:t.value},y.a.createElement("span",null,t.name),r===t.value&&y.a.createElement(g.default,null))})))},{title:__("显示"),content:y.a.createElement("div",{className:W.a.selectList},[{name:__("创建时间"),value:P.TOC_TAIL_TYPES.CREATED_AT},{name:__("更新时间"),value:P.TOC_TAIL_TYPES.UPDATED_AT},{name:__("作者"),value:P.TOC_TAIL_TYPES.AUTHOR},{name:__("文档路径"),value:P.TOC_TAIL_TYPES.SLUG}].map((function(t){return y.a.createElement("div",{className:W.a.selectItem,onClick:function(){return a(t.value)},key:t.value},y.a.createElement("span",null,t.name),i===t.value&&y.a.createElement(g.default,null))})))}]})),Z.a.Card,y.a.createElement(pt,{order:c,onChangeOrder:u})),Z.a.Column,y.a.createElement(pt,{order:c,onChangeOrder:u}))[e]},ht=function(t){var e=t.enable,n=t.editable,r=t.editComponent,o=t.viewComponent,i=t.className;if(!e)return null;var a=n?r:o;return y.a.createElement("div",{className:i},a)};function yt(){var t,e=Object(m.e)(),n=Object(m.f)((function(t){return{book:t.book,me:t.me,group:t.group}})),d=n.book,v=n.me,g=n.group,j=window.appData,C=j.isYuque,R=j.zone,z=!C&&(null==R?void 0:R.id)===I.ZONE.antgroup,K="Group"===g.type,q=P.MIXING_BOOK_TYPES.includes(d.type),X=Object(h.useRef)(null),Q=Object(h.useRef)(null),nt="bookOverview/doclet/".concat(d.id),ft=et(Object(h.useState)(!0),2),pt=ft[0],yt=ft[1],vt=et(Object(h.useState)(!0),2),mt=vt[0],gt=vt[1],bt=et(Object(h.useState)(!1),2),wt=bt[0],_t=bt[1],xt=et(Object(h.useState)(null),2),Ot=xt[0],Et=xt[1],kt=et(Object(h.useState)(""),2),St=kt[0],jt=kt[1],Tt=et(Object(h.useState)(!1),2),Ct=Tt[0],Lt=Tt[1],Pt=et(Object(h.useState)(Z.a.Book),2),At=Pt[0],Nt=Pt[1],It=et(Object(h.useState)(!1),2),Rt=It[0],Dt=It[1],Mt=et(Object(h.useState)(!1),2),Bt=Mt[0],Ft=Mt[1],Ut=et(Object(h.useState)(d.name),2),Gt=Ut[0],zt=Ut[1],Yt=et(Object(h.useState)(!1),2),Ht=Yt[0],Vt=Yt[1],Zt=et(Object(h.useState)({wordCount:0,enableCustomBody:!0,enableCatalog:!0,order:Z.b.Toc}),2),Wt=Zt[0],Kt=Zt[1],qt=Wt.wordCount,Xt=Wt.enableCustomBody,$t=Wt.enableCatalog,Jt=Wt.order,Qt=et(Object(h.useState)([]),2),te=Qt[0],ee=Qt[1],ne={order:Jt,book:d,inTocDocs:te,catalogLoading:mt,layout:At,group:g,isEdit:Ct};Object(h.useLayoutEffect)((function(){yt(!0),gt(!0),tt(J().mark((function t(){var n,r,o,i,a,u,c,l,s,f;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.webProxy.books.getOverviewInfo({id:d.id});case 2:return n=t.sent,r=n.wordCount,o=n.contributors,i=n.enableCustomBody,a=n.enableCatalog,u=n.layout,c=n.customIndex,l=n.order,s=n.enableUserFeed,window.appData.enableUserFeed=s,Kt({wordCount:r,enableCustomBody:i,enableCatalog:a,order:l}),u===Z.a.Custom?Nt(Z.a.Book):Nt(u),Et(c),jt(c.body_asl),X.current=new U.b({defaultValue:c.body_asl,target:c}),e({type:"book/update",payload:{contributors:o}}),u===Z.a.Book&&(yt(!1),gt(!1)),t.next=21,M.webProxy.docs.find({book_id:d.id});case 21:f=t.sent,e({type:"book/update",payload:{docs:f}}),ee(fe(f.filter((function(t){return!Object(A.isDocNotInToc)(t,d.toc)})).filter(Boolean),l)),yt(!1),gt(!1);case 26:case"end":return t.stop()}}),t)})))()}),[d.id]),Object(G.a)((function(){tt(J().mark((function t(){var n,r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,!v.id){t.next=6;break}return t.next=4,M.webProxy.mine.marks.findOne({target_type:"Book",id:d.id});case 4:r=t.sent,n=r.markAction;case 6:e({type:"book/update",payload:{mark:n}});case 7:case"end":return t.stop()}}),t)})))()}),[]);var re=Object(h.useMemo)((function(){var t,e=d.catalog_display_level||10,n=1;return null===(t=d.toc)||void 0===t||t.forEach((function(t){n=Math.max(n,t.level)})),n<2&&(n=Math.max(n,2)),"all"!==e&&(n=Math.max(e,n)),n}),[d.toc,d.catalog_display_level]),oe=function(){var t=tt(J().mark((function t(){var e;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=X&&X.current){t.next=2;break}return t.abrupt("return");case 2:D.a.set(nt,null==X||null===(e=X.current)||void 0===e?void 0:e.getValue()),Ft(!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=tt(J().mark((function t(){var e,n;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ot){t.next=2;break}return t.abrupt("return");case 2:if(D.a.remove(nt),X.current){t.next=5;break}return t.abrupt("return");case 5:if((e=X.current.getValue())!==St){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,M.webProxy.doclets.updateContent({id:null==Ot?void 0:Ot.id,body_asl:e,format:"lake",draft_version:null==Ot?void 0:Ot.draft_version});case 10:return t.next=12,M.webProxy.doclets.publish({id:Ot.id});case 12:return t.next=14,M.webProxy.doclets.findOne({id:Ot.id});case 14:n=t.sent,jt(n.body_asl),Et(n),X.current=new U.b({defaultValue:n.body_asl,target:n});case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=tt(J().mark((function t(){var e,n;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=X&&X.current){t.next=2;break}return t.abrupt("return");case 2:e=D.a.get(nt),n=e||St,X.current.setValue(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ue=function(){var t=tt(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie().finally((function(){Lt(!1),Ft(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=tt(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"book/updateSettingProps",payload:{book_icon:n}}),t.next=3,M.webProxy.books.update({id:d.id,book_icon:n});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(){var t=tt(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Dt(!1),e({type:"book/update",payload:$($({},d),{},{catalog_display_level:n})}),t.next=4,M.webProxy.catalogNodes.updateSettings({book_id:d.id,catalog_display_level:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=tt(J().mark((function t(n){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Dt(!1),e({type:"book/update",payload:$($({},d),{},{catalog_tail_type:n})}),t.next=4,M.webProxy.catalogNodes.updateSettings({book_id:d.id,catalog_tail_type:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fe=function(t,e){if(Z.b.Toc===e){var n,r=L()(t.map((function(t){return[t.id,t]})));return null===(n=d.toc)||void 0===n?void 0:n.filter((function(t){return"DOC"===t.type})).map((function(t){return r[t.doc_id]})).filter(Boolean)}return Z.b.CreatedAt===e?t.sort((function(t,e){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()})):Z.b.UpdatedAt===e?t.sort((function(t,e){return new Date(e.content_updated_at).getTime()-new Date(t.content_updated_at).getTime()})):[]},pe=function(){var t=tt(J().mark((function t(e){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Dt(!1),Kt($($({},Wt),{},{order:e})),ee(fe(te,e)),t.next=5,M.webProxy.books.updateSettings({id:d.id,order:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),de=function(){var t=tt(J().mark((function t(e){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Kt($($({},Wt),{},{enableCustomBody:e})),t.next=3,M.webProxy.books.updateSettings({id:d.id,enable_custom_body:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),he=function(){var t=tt(J().mark((function t(e){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Kt($($({},Wt),{},{enableCatalog:e})),t.next=3,M.webProxy.books.updateSettings({id:d.id,enable_catalog:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ye=function(){var t=tt(J().mark((function t(e){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Nt(e),t.next=3,M.webProxy.books.updateSettings({id:d.id,layout:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ve=function(){var t=tt(J().mark((function t(n){var r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.webProxy.books.update(n,{ignoreGlobalMessage:!0});case 2:return r=t.sent,e({type:"book/update",payload:{public:r.public,password:r.password,indexed_level:r.indexed_level}}),Object.keys(n).includes("public")&&n.public===r.public&&(r.public===N.PRIVACY.private?p.a.success(__("已关闭分享知识库里的所有内容")):p.a.success(__("已对知识库里所有内容生效"))),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),me=function(){zt(d.name),Vt(!0)},ge=function(){var t=tt(J().mark((function t(n,r){var o,i;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.webProxy.books.update({id:n.id,name:r});case 2:if(o=t.sent,e({type:"book/update",payload:{name:r}}),i=v.commonUsedBooks,!i.find((function(t){return t.target_id===n.id}))){t.next=9;break}return t.next=9,Object(B.a)(e);case 9:return p.a.success(__("操作成功"),3),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),be=function(){var t=tt(J().mark((function t(){var e;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Gt&&Gt.trim()||__("无标题"),t.next=3,ge(d,e);case 3:Vt(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(!Object(G.b)())return y.a.createElement(V.a,null);var we,_e,xe,Oe,Ee,ke,Se;return y.a.createElement("div",{className:W.a.containerWrapper},y.a.createElement("div",{className:W.a.container},y.a.createElement(i.a,{avatar:{shape:"square",size:36},title:{width:200},paragraph:{rows:2},active:!0,loading:pt},y.a.createElement("div",{className:W.a.bookHead},y.a.createElement("div",{className:W.a.bookTitle},Ct?y.a.createElement(F.b,{key:d.id,className:T()(W.a.bookIcon,W.a.editable),value:d.book_icon,updateIcon:ce,width:38,height:38,disabled:!Ct}):y.a.createElement(F.a,{key:d.id,className:W.a.bookIcon,value:d.book_icon,width:38,height:38}),Ht?y.a.createElement(u.a,{className:W.a.bookNameInput,autoFocus:!0,type:"text",size:"large",value:Gt,onChange:function(t){return zt(t.target.value)},onFocus:function(t){return Ht&&t.target.select()},onBlur:be,onPressEnter:be}):y.a.createElement("span",{className:W.a.bookName},d.name)),y.a.createElement("div",{className:W.a.action},y.a.createElement("div",{className:W.a.bookAction},Ct?y.a.createElement(y.a.Fragment,null,y.a.createElement(s.a,{trigger:"click",placement:"bottomRight",content:y.a.createElement("div",{className:W.a.togglePanel},y.a.createElement("div",{className:W.a.title},__("页面设置")),y.a.createElement("p",{className:W.a.desc},__("选择是否显示以下模块，打开即为显示")),y.a.createElement("div",{className:W.a.toggleItem},y.a.createElement("span",null,__("自定义模块")),y.a.createElement(f.a,{checked:Xt,onChange:de})),y.a.createElement("div",{className:W.a.toggleItem},y.a.createElement("span",null,__("目录模块")),y.a.createElement(f.a,{checked:$t,onChange:he})))},y.a.createElement("div",{className:T()(W.a.bookActionItem,W.a.setting)},y.a.createElement(b.default,{width:18,height:18}))),y.a.createElement("div",{className:T()(W.a.bookActionItem,W.a.update,Bt?W.a.needSave:""),onClick:ue},__("更新"))):y.a.createElement(y.a.Fragment,null,y.a.createElement(at,{className:T()(W.a.bookActionItem,W.a.star),iconSize:16,book:d}),((null===(we=d.abilities)||void 0===we?void 0:we.share)||(null===(_e=d.abilities)||void 0===_e?void 0:_e.create_collaborator))&&y.a.createElement(ut,{shareViewType:"BOOK",key:"share-book-".concat(d.id),targetResource:d,onChangeShare:ve,organization:window.appData.organization,book:d,group:g,me:v,canShare:null===(xe=d.abilities)||void 0===xe?void 0:xe.share,canCollaborator:null===(Oe=d.abilities)||void 0===Oe?void 0:Oe.create_collaborator},y.a.createElement(l.a,{className:T()(W.a.bookActionItem,W.a.share)},y.a.createElement("span",null,__("分享")))),z&&q&&K&&d.enable_automation&&(null===(Ee=d.abilities)||void 0===Ee?void 0:Ee.create_doc)&&y.a.createElement(l.a,{className:T()(W.a.bookActionItem,W.a.share),onClick:function(){Object(Y.c)({targetUrl:"/r/".concat(g.login,"/").concat(d.slug,"/publication"),isNewWindow:!0,parent:"main"},(function(){Object(H.c)("/r/".concat(g.login,"/").concat(d.slug,"/publication"),{page:"bookManage"})}))}},y.a.createElement("span",null,__("发版"))),(null===(ke=d.abilities)||void 0===ke?void 0:ke.create_doc)&&y.a.createElement(ot,{book:d,group:g,placement:"bottomRight",className:W.a.bookActionItem,prepend:(null===(Se=d.abilities)||void 0===Se?void 0:Se.modify_setting)&&y.a.createElement(y.a.Fragment,null,y.a.createElement(c.a.Item,{key:"rename",onClick:me,icon:y.a.createElement(w.default,{width:16,height:16})},__("重命名")),y.a.createElement(c.a.Item,{key:"edit",onClick:function(){return Lt(!0)},icon:y.a.createElement(_.default,{width:16,height:16})},__("编辑首页"))),showBasicSettings:!1,showDelete:!0}))))),y.a.createElement("div",{className:W.a.statistics},y.a.createElement("span",{className:W.a.docCount},y.a.createElement("b",{className:W.a.count},te.length||0)," ",__("文档")),y.a.createElement("span",{className:W.a.wordCount},y.a.createElement("b",{className:W.a.count},qt),y.a.createElement("span",{className:W.a.info},__("字")),y.a.createElement(a.a,{title:__("每日上午更新昨日数据，“--”表示暂无数据"),placement:"bottom"},y.a.createElement(x.default,{width:14,height:14})))),y.a.createElement(it,{className:W.a.bookContributor,users:d.contributors,canEdit:(null===(t=d.abilities)||void 0===t?void 0:t.modify_setting)&&Ct,bookId:d.id})),y.a.createElement(ht,{editable:(null==X?void 0:X.current)&&Ct,enable:Xt,editComponent:y.a.createElement("div",{className:W.a.editor},y.a.createElement(ct,{editor:X.current,tplDoc:{type:"repoHomePage"},placeholder:{tip:__("直接输入正文，也可选择一个模板："),emptyParagraphTip:__("输入 / 唤起更多")},needCreateGuide:!0,onChange:oe,onSubmit:ie,onLoad:ae})),viewComponent:y.a.createElement(i.a,{className:W.a.viewer,title:!1,paragraph:{rows:3},active:!0,loading:pt},y.a.createElement("div",{className:T()(W.a.viewer,rt({},W.a.none,wt))},y.a.createElement(lt,{forwardedRef:Q,content:St,genOutline:!1,genAnchor:!1,simpleUI:!0,onReady:function(){var t,e;Ct&&_t(null==X||null===(e=X.current)||void 0===e?void 0:e.isEmpty());_t((null==Q||null===(t=Q.current)||void 0===t||null===(t=t.viewer)||void 0===t?void 0:t.queryCommandValue("isEmpty"))||!1)},docType:"Doclet",doc:Ot})))}),y.a.createElement(ht,{className:W.a.catalogModule,editable:Ct,enable:$t,editComponent:y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:W.a.headerSwitch},y.a.createElement("div",{className:T()(W.a.switchBtnBg,rt(rt(rt({},W.a.treeSelected,At===Z.a.Book),W.a.cardSelected,At===Z.a.Card),W.a.columnSelected,At===Z.a.Column))}),y.a.createElement("div",{className:W.a.switchButtons},y.a.createElement(a.a,{placement:"bottom",title:__("目录视图")},y.a.createElement("div",{className:T()(W.a.switchBtn,rt({},W.a.switchBtnSelected,At===Z.a.Book)),onClick:function(){return ye(Z.a.Book)}},y.a.createElement(O.default,{className:W.a.switchIcon}))),y.a.createElement(a.a,{placement:"bottom",title:__("卡片视图")},y.a.createElement("div",{className:T()(W.a.switchBtn,rt({},W.a.switchBtnSelected,At===Z.a.Card)),onClick:function(){return ye(Z.a.Card)}},y.a.createElement(E.default,{className:W.a.switchIcon}))),y.a.createElement(a.a,{placement:"bottom",title:__("专栏视图")},y.a.createElement("div",{className:T()(W.a.switchBtn,rt({},W.a.switchBtnSelected,At===Z.a.Column)),onClick:function(){return ye(Z.a.Column)}},y.a.createElement(k.default,{className:W.a.switchIcon}))))),y.a.createElement(s.a,{trigger:"click",placement:"bottomRight",visible:Rt,onVisibleChange:function(t){return Dt(t)},content:y.a.createElement(dt,{layout:At,maxLevel:re,displayValue:d.catalog_display_level,onChangeLevel:le,tailType:d.catalog_tail_type,onChangeTailType:se,order:Jt,onChangeOrder:pe})},y.a.createElement("div",{className:W.a.catalogMoreIcon,onClick:function(){return Dt(!0)}},y.a.createElement(S.default,{width:16,height:16})," "))),viewComponent:y.a.createElement("div",{className:W.a.catalogHeaderTitle})}),y.a.createElement(ht,{enable:$t,viewComponent:y.a.createElement(st,ne)}),Ct||Xt||$t?null:y.a.createElement(r.a,{className:W.a.empty,image:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*wPMVTriBo40AAAAAAAAAAAAAARQnAQ",description:y.a.createElement(o.a,null,__("暂无内容"))})))}function vt(){var t=Object(v.useParams)(),e=t.group,n=t.book,r=et(Object(h.useState)(""),2),o=r[0],i=r[1];return Object(h.useEffect)((function(){z.c&&i(Object(K.a)("get","".concat(e,"/").concat(n)))}),[e,n]),o?y.a.createElement(v.Redirect,{to:"/".concat(e,"/").concat(n,"/").concat(o)}):y.a.createElement(yt,null)}},7964:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}}}]);