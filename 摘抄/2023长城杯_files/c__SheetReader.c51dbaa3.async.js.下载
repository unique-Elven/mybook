(window.webpackJsonp=window.webpackJsonp||[]).push([[1408,1387,1406],{3802:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var i="x-yuque-pt-signature",l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.query=new URLSearchParams(window.location.search),this.isServify=!!this.get(i),this.viewport=this.get("viewport"),this.sidebar="0"===this.get("toc_sidebar")?"none":"toc",this.cards=this.get("cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})),this.thirdpartyCards=this.get("thirdparty_cards")?this.get("thirdparty_cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})):[],this.showTitle="0"!==this.get("title"),this.showHeader="0"!==this.get("header"),this.isEmbedMode=this.get("mode").startsWith("embed"),this.autoHeight=this.getAutoHeight(),this.editorType=this.get("editor_type"),this.editorMode=this.get("editor_mode"),this.language=this.get("language")||"zh-cn",this.pageMinWidth=this.get("page_min_width"),this.onchange="1"===this.get("onchange"),this.allowMention="0"!==this.get("mention"),this.allowResource="1"===this.get("resource"),this.watermark=this.get("watermark"),this.backgroundColor=this.get("background_color"),this.bodyBackgroundColor=this.get("body_background_color"),this.toolbarBackgroundColor=this.get("toolbar_background_color"),this.autoSaveInterval=this.getAutoSaveInterval(),this.saveToServer="0"!==this.get("save_to_server"),this.customUploadUrl=this.get("upload_url"),this.customUploadTypes=this.get("upload_types"),this.customMentionUrl=this.getMentionUrl(),this.customMentionOrigin=this.get("search_user_origin"),this.imageUploadUrl=this.getImageUploadUrl(),this.fileUploadUrl=this.getFileUploadUrl(),this.videoUploadUrl=this.getVideoUploadUrl(),this.videoUploadStatusUrl=this.getVideoUploadStatusUrl(),this.fullHTML="1"===this.query.get("full_html"),this.allowResizeVideo=!0,this.extraConfig=JSON.parse(this.query.get("extra_config")||"{}")},(t=[{key:"get",value:function(e){return this.query.get(e)||""}},{key:"getAutoHeight",value:function(){return!window.h5&&"0"!==this.get("auto_height")}},{key:"getAutoSaveInterval",value:function(){var e=this.get("auto_save_interval");return e&&!Number.isNaN(Number(e))?((e=Number(e))<60&&(e=60),1e3*e):null}},{key:"getMentionUrl",value:function(){var e=this.get("search_user_url");return this._joinCsrf(e)}},{key:"getImageUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("image")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=image"):null}},{key:"getFileUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("attachment")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=attachment"):null}},{key:"getVideoUploadUrl",value:function(){var e=this.get("upload_video_url");return e?this._joinCsrf(e):null}},{key:"getVideoUploadStatusUrl",value:function(){var e=this.get("upload_video_status_url");return e?this._joinCsrf(e):null}},{key:"_joinCsrf",value:function(e){var t=e.includes("?")?"&":"?";return"".concat(e).concat(t).concat(this._getCustomCsrf())}},{key:"_getCustomCsrf",value:function(){var e=this.get("upload_csrf_token_field"),t=this.get("upload_csrf_token_value");return e?"".concat(e,"=").concat(encodeURIComponent(t)):""}},{key:"isExtremeMode",value:function(){return"extreme"===this.editorMode}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();l.isServify=function(){var e=new URLSearchParams(window.location.search).get("from");if(!e)return!1;try{if(new URL(e).searchParams.get(i))return!0}catch(e){}return!1},l.SERVIFY_TAG_SRT=i,t.a=l},3875:function(e,t,n){"use strict";n.r(t);n(179);var r=n(60),o=(n(62),n(31)),a=(n(170),n(70)),i=n(0),l=n.n(i),u=n(4),c=n.n(u),s=n(444),d=n.n(s),m=n(6),f=n.n(m),p=n(79),h=n(142),b=n(53),g=n(59),y={wrap:"index-module_wrap_4GDfH",close:"index-module_close_27uFj",icon:"index-module_icon_RfM4L",closeIcon:"index-module_closeIcon_6sSTs"};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.icon,n=e.content,r=e.style,o=e.showClose,a=_(Object(i.useState)(!0),2),u=a[0],c=a[1];return u?l.a.createElement("div",{className:y.wrap,style:r},t&&l.a.createElement("div",{className:y.icon},t),l.a.createElement("div",{className:y.content},n),o&&l.a.createElement("div",{className:y.close,onClick:function(){c(!1)}},l.a.createElement("span",{className:f()("lake-icon","lake-icon-close",y.closeIcon)}))):null};S.propTypes={icon:c.a.node,content:c.a.node.isRequired,style:c.a.object,showClose:c.a.bool};var w=S,A=n(280),T="ReaderAudit-module_closeBtn_hHU+3",E="ReaderAudit-module_detail_mWCgN",U="ReaderAudit-module_toggleDetail_pq7CA",j="ReaderAudit-module_moreLink_oxcCo",k="ReaderAudit-module_tagModeWrapper_xupeI",O="ReaderAudit-module_tagText_Womh9",R="ReaderAudit-module_pending_m3C28",D="ReaderAudit-module_illegal_B8aJ7",P="ReaderAudit-module_banned_sHuxy",N="ReaderAudit-module_isIntranet_WPBjb",C="ReaderAudit-module_tagClose_YIxR7";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t,n=q(Object(i.useState)(!1),2),u=n[0],c=n[1],s=q(Object(i.useState)(!0),2),m=s[0],y=s[1],_=null===(t=window.appData.settings)||void 0===t?void 0:t.forbid_insecure_content,v=e.doc,S=e.type,A=e.tagMode,I=v.audits,H=v.read_status,L=v.id,V=v.content_updated_at,Y=v.abilities,B=void 0===Y?{}:Y,F=window.appData,W=F.book,z=F.group,J=F.me,K=e.isYuque||window.appData.isYuque;var $="audit_ignored_".concat(S,"_").concat(L);function G(e){null==e||e.preventDefault(),localStorage.setItem($,Date.now()),y(!1)}function X(e){var t=e.filter((function(e){return null!==e}));return d()(t)}if(Object(i.useEffect)((function(){if(H===p.READ_STATUS.insecure&&(!J.isAdmin&&!J.isSecurityOperator))if(B.update){if(!_){var e=localStorage.getItem($);if(e&&V){var t=new Date(V).getTime();y(t>e)}}}else y(!1)}),[]),H<=p.READ_STATUS.ok&&(null==W?void 0:W.status)!==h.STATUS.banned&&(null==z?void 0:z.status)!==b.STATUS.blocked)return null;if(H<=p.READ_STATUS.ok&&((null==W?void 0:W.status)===h.STATUS.banned||(null==z?void 0:z.status)===b.STATUS.blocked))return null!=J&&J.isAdmin&&console.error("ATTENTION: 该文档所在的知识库或者作者被屏蔽, groupBlocked: ".concat((null==z?void 0:z.status)===b.STATUS.blocked,", bookBlocked: ").concat((null==W?void 0:W.status)===h.STATUS.banned)),null;if(null!=z&&z.isPermanentPunished)return null!=J&&J.isAdmin&&H>p.READ_STATUS.ok&&console.error("ATTENTION: 该用户已经被永久屏蔽，此文档也是屏蔽状态"),null;if("Comment"===S&&H<=p.READ_STATUS.ok)return null;if(!m)return null;var Q=[];I&&(I.forbidden||I.reason)&&(Q=I.forbidden||[I.reason]);var Z,ee={};if(ee[p.READ_STATUS.pending]=__("当前内容正在审核中，其他人暂时无法查看，请稍候。"),ee[p.READ_STATUS.suspect]=__("因内容疑似有违规内容，其他人无法查看，正在审核中，请稍后。"),ee[p.READ_STATUS.illegal]=__("当前内容有违规内容，其他人无法查看，请修正后再发布。"),ee[p.READ_STATUS.illegal_polity]=__("当前内容有违规内容，其他人无法查看，请修正后再发布。"),ee[p.READ_STATUS.illegal_ak]=__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),ee[p.READ_STATUS.illegal_privacy]=__("当前文档中包含疑似明文敏感信息（包括不限于身份证号、住址、手机号等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),ee[p.READ_STATUS.banned]=__("内容因含敏感信息已被系统屏蔽处理，其他人无法查看。"),K)Z=ee[H]||ee[p.READ_STATUS.suspect];else{var te=!A&&Q.length>0?l.a.createElement("a",{onClick:function(e){e.preventDefault(),c(!u)},className:U},u?"收起详情":"展开详情"):null,ne=l.a.createElement("a",{href:"https://yuque.antfin.com/lark/bqllwz/cg2xev",target:"_blank",className:j},__("了解更多"));Z=_||H!==p.READ_STATUS.insecure?l.a.createElement(l.a.Fragment,null,__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），已被系统自动设置为私密，请脱敏或删除明文敏感信息后重新发布。"),ne,te," "):l.a.createElement(l.a.Fragment,null,__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),ne,te)}var re=K?{}:{padding:24,paddingRight:32,marginTop:8,position:"relative"},oe=B.update;if(A){if(K){var ae,ie,le=M(M(M({},p.READ_STATUS.pending,__("审核中")),p.READ_STATUS.illegal,__("该内容涉嫌违规#tag")),p.READ_STATUS.banned,__("该内容已屏蔽#tag"));switch(H){case p.READ_STATUS.pending:case p.READ_STATUS.suspect:ie=p.READ_STATUS.pending;break;case p.READ_STATUS.illegal:case p.READ_STATUS.illegal_polity:case p.READ_STATUS.illegal_ak:case p.READ_STATUS.illegal_privacy:ie=p.READ_STATUS.illegal;break;case p.READ_STATUS.banned:ie=p.READ_STATUS.banned;break;default:ie=null}return(ae=le[ie])?l.a.createElement(a.a,{title:l.a.createElement("span",{className:O},Z),placement:"bottom"},l.a.createElement("div",{className:f()(k,M(M(M({},R,ie===p.READ_STATUS.pending),D,ie===p.READ_STATUS.illegal),P,ie===p.READ_STATUS.banned))},l.a.createElement("span",{className:O},ae))):null}return l.a.createElement("div",{className:f()(k,N),onClick:function(){o.a.confirm({title:__("疑似含敏感信息，请脱敏或删除敏感信息后重新发布#tag"),content:l.a.createElement(l.a.Fragment,null,Z,Q.length>0&&l.a.createElement("ul",{className:E},X(Q).map((function(e){return l.a.createElement("li",{key:e},e)})))),okText:__("知道了"),cancelText:__("忽略"),onCancel:function(){G()}})}},l.a.createElement("span",{className:O},__("疑似含敏感信息，请脱敏或删除敏感信息后重新发布#tag")),oe&&l.a.createElement("div",{className:C,onClick:function(e){e.stopPropagation(),G()}},l.a.createElement(g.b,{name:"close",width:10,height:10})))}return l.a.createElement(w,{style:x({marginBottom:"Doc"===S?24:0,marginTop:4},re),icon:l.a.createElement(g.b,{name:"doc-has-content-risk",height:17,width:15}),content:l.a.createElement(l.a.Fragment,null,!K&&oe&&l.a.createElement(r.a,{title:__("确认忽略该提醒？"),onConfirm:G,okText:__("忽略"),cancelText:__("取消"),placement:"bottom"},l.a.createElement("span",{className:T},l.a.createElement(g.b,{name:"close",width:14}))),l.a.createElement("span",{"data-testid":"audit-tip"},Z),u&&l.a.createElement("ul",{className:E},X(Q).map((function(e){return l.a.createElement("li",{key:e},e)}))))})}V.defaultProps={isYuque:window.appData.isYuque},V.propTypes={doc:c.a.object.isRequired,type:c.a.string,isYuque:c.a.bool,tagMode:c.a.bool};t.default=Object(A.b)(V)},4030:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(4),i=n.n(a),l=n(290),u=n(984),c=n(33),s="EmbedHeader-module_docEmbedHeader_lYs+e",d="EmbedHeader-module_embedHeaderReference_SWdkM",m="EmbedHeader-module_embedHeaderTitle_SPNfw",f="EmbedHeader-module_embedHeaderLink_Q9Vhk";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.title,n=e.link,r=e.height,a=e.style,i=void 0===a?{}:a,p=e.doc,h=e.book,g=e.group,y=window.appData.isYuqueMobileApp;return o.a.createElement("div",{className:s,style:b({height:"".concat(r,"px")},i)},o.a.createElement("span",{className:d},__("引用自"),"："),o.a.createElement("span",{className:m},t,o.a.createElement(u.b,{group:g,book:h,doc:p})),o.a.createElement("a",{className:f,href:n,target:"_blank",onClick:function(e){!function(e,t){if(y){var n,r=(null===(n=window.nebulaMobileApp)||void 0===n||null===(n=n.envInfo)||void 0===n?void 0:n.origin)||window.location.origin;return l.a.pushWebWindow({url:"".concat(r).concat(e)}),!1}if(c.c)t.preventDefault(),t.stopPropagation(),window.parent.postMessage({name:"openExternalLink",args:["".concat(window.location.origin).concat(e)]},"*")}(n,e)}},__("查看原文")))};y.propTypes={title:i.a.string,link:i.a.string,height:i.a.number,style:i.a.object,doc:i.a.object,book:i.a.object,group:i.a.object};t.default=y},7074:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(4),i=n.n(a),l=n(984),u=n(4030),c=n(3875),s=n(281),d={draft:"SheetEmbed-module_draft_hySRt",sheetViewer:"SheetEmbed-module_sheetViewer_LnVL7",content:"SheetEmbed-module_content_XRryY"},m=Object(s.b)((function(){return Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1),n.e(1409)]).then(n.bind(null,4688))}),{suspense:!0});function f(e){var t=e.doc,n=e.book,r=e.group,a=e.match,i=e.sheetHeight,s=e.hasReadAuditTip,f=e.showHeader?i-32:i;return t.loaded?o.a.createElement("div",{className:d.wrapper},e.showHeader&&o.a.createElement(u.default,{title:t.title,doc:t,book:n,group:r,height:32,link:a&&a.url}),o.a.createElement("div",{className:d.content},e.showHeader&&o.a.createElement(l.g,{doc:t,className:d.draft}),s&&o.a.createElement(c.default,{key:"audits",doc:t,type:"Doc"}),o.a.createElement("div",{className:d.sheetViewer,style:{width:"100%",height:f,overflow:"hidden"}},o.a.createElement(m,{content:t.content,format:t.format,geSheetStyle:{width:"100%",height:i-40}})))):null}f.defaultProps={showHeader:!0},f.propTypes={doc:i.a.object.isRequired,book:i.a.object.isRequired,group:i.a.object.isRequired,sheetHeight:i.a.number.isRequired,match:i.a.object.isRequired,showHeader:i.a.bool,hasReadAuditTip:i.a.bool.isRequired};t.default=f},7076:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(524),i=n(3658),l=n(281),u=n(274),c=n(3983),s=n(3802),d=n(7074),m="SheetReader-module_wrapper_P6Ioz",f="SheetReader-module_content_BhpjY",p="SheetReader-module_sheetViewer_zdxVX";function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=Object(l.b)((function(){return Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1),n.e(1409)]).then(n.bind(null,4514))}),{suspense:!0}),y=Object(l.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(17),n.e(1404)]).then(n.bind(null,8053))}),{suspense:!0}),_=Object(l.c)((function(){return Promise.all([n.e(0),n.e(1),n.e(12),n.e(14),n.e(1367)]).then(n.bind(null,4162))}),{suspense:!0}),v=Object(l.c)((function(){return n.e(1267).then(n.bind(null,5088))}),{suspense:!0});t.default=Object(a.d)((function(e){return{doc:e.doc}}))((function(e){var t,n,a=h(Object(r.useState)(document.body.clientHeight),2),l=a[0],b=a[1],S=e.group,w=e.book,A=e.doc,T=e.history,E=e.match,U=e.shouldRenderComments,j=e.editMode,k=function(){b(document.body.clientHeight)};Object(r.useEffect)((function(){return window.addEventListener("resize",k,!1),function(){window.removeEventListener("resize",k,!1)}}),[]),Object(r.useEffect)((function(){y.preload()}),[]);var O=Object(r.useMemo)((function(){return new s.a}),[]);if(!A.loaded)return null;if(A.loaded&&"lakesheet_html"===A.format){var R=Object(c.a)(A.content);A.content=R.value,A.format="lakesheet"}var D="doc_embed"===T.location.query.view,P=D?32:60,N=98===A.read_status||99===A.read_status||100===A.read_status;N&&(P+=42);var C=l-P;return D?o.a.createElement(d.default,{doc:A,book:w,group:S,sheetHeight:C,match:E,hasReadAuditTip:N,showHeader:O.showHeader}):o.a.createElement("div",{className:m},o.a.createElement("div",{className:f},o.a.createElement("div",{className:p,style:{width:"100%",height:C,overflow:"hidden"}},j?o.a.createElement(y,{history:T,editMode:j}):o.a.createElement(g,{docId:A.id,type:A.type,abilities:A.abilities,groupId:null==S?void 0:S.id,content:A.content,format:A.format,sheetSwitch:A.sheetSwitch,geSheetStyle:{width:"100%",height:C-40},onLoad:function(e){var t=i.c.getSheetStoredPosition(A.id);t&&e.setPosition(t),Object(u.a)("docRendered"),_.start(),v.start()}}))),!j&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_,{type:"Doc",targetId:A.id,likeStatus:null==A||null===(t=A.like)||void 0===t?void 0:t.actioned,likeCount:null==A||null===(n=A.like)||void 0===n?void 0:n.count,size:"bubble",bubblePopover:!0}),o.a.createElement(v,{style:U?{bottom:"32px"}:{bottom:"86px"}})))}))}}]);