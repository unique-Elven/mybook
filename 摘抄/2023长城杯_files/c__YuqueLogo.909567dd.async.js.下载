/*! For license information please see c__YuqueLogo.909567dd.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1432,9,10,12,14,16,70,120,304,323,325,343,370,447,623,644,734,1116,1364,1366],{1030:function(e,t,n){var r=n(400),a=n(89);e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:o,maxWait:t,trailing:i})}},1033:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(1403),n(521)),i=n(50),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=(n(1261),["className","title"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=f.a.forwardRef((function(e,t){var n=e.className,r=e.title,a=u()(e,b),i={},l=h()("larkui-skeleton",n);return r?(r.size&&(l=h()(l,{"larkui-skeleton-title-sm":"sm"===r.size})),r.width&&(i.title={width:r.width})):i.title=r,f.a.createElement(o.a,c()({className:l,ref:t},i,a))}));w.propTypes=_(_({},o.a.SkeletonProps),{},{className:m.a.string}),v()(w,o.a),t.a=w},1035:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(1358))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1036:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(1359))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1037:function(e,t,n){"use strict";var r=n(1265),a=n(694);n.d(t,"b",(function(){return a.a}));n(1257),n(1256);var o=n(691);n.d(t,"a",(function(){return o.a})),t.c=r.b},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(6),i=n.n(o),c=n(308),l=["#3988E4","#B97940","#2F9547","#235B9D","#59AF9A"];function u(e){if(!e)return l[0];var t=e.charCodeAt(0)%l.length;return l[t]||l[0]}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.text,n=void 0===t?"U":t,r=e.size,o=void 0===r?32:r,l=e.style,s=e.className,f=i()("placeholder-avatar",s);if(!n)return null;var m=Object(c.getAvatarText)(n);return a.a.createElement("span",{"data-testid":"letter-avatar",className:f,title:m,style:d(d({},l),{},{width:"".concat(o,"px"),heigth:"".concat(o,"px"),lineHeight:"".concat(o,"px"),fontSize:"".concat(1*o/2,"px"),backgroundColor:"".concat(u(n))})},m.toUpperCase())}},104:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(1276),n(206)),i=n(1275),c=n.n(i),l=n(50),u=n.n(l),s=n(65),f=n.n(s),d=n(0),m=n.n(d),p=n(66),h=n.n(p),y=(n(543),["onKeyDown"]);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=[37,38,39,40],g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_=function(e){var t,n=e.onKeyDown,r=f()(e,y),a=Object(d.useCallback)((t=n,function(e){return!(!g.includes(e.key)&&!b.includes(e.keyCode))||t(e)}),[n]);return m.a.createElement("ul",u()({},r,{onKeyDown:a}))},w=m.a.forwardRef((function(e){var t=Object.assign({},(c()(e),e));return m.a.createElement(o.a,u()({component:_},t))}));w.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.a.MenuProps),h()(w,o.a),t.a=w},1058:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1059:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1251:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(144),i=n(33);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e=c(a.a.useState(o.b.onLine),2),t=e[0],n=e[1];return a.a.useEffect((function(){function e(e){n(e)}return o.b.on(o.a,e),function(){o.b.off(o.a,e)}}),[]),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=u(),o=Array.from(t);o.push(r),a.a.useEffect((function(){r||!i.c?e():null==n||n()}),o)}},1252:function(e,t,n){"use strict";n(36);var r=n(8),a=(n(52),n(12)),o=n(0),i=n.n(o),c=n(4),l=n.n(c),u=n(59),s=n(6),f=n.n(s),d=n(48),m="index-module_mainInput_x4D9t",p="index-module_verifyResult_pdxsH",h="index-module_success_NhSta",y="index-module_inputVerify_kl-bC",v="index-module_editIcon_eXpln",b="index-module_promoCodeDefault_6iUh6";function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){w=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(E=x);var S=_.prototype=v.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==g(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(g(t)+" is not iterable")}return b.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function E(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t=e.value,n=e.orderType,c=e.packageType,l=e.promoUsage,s=e.onChange,g=e.onVerifySuccess,E=e.verifyStyle,S=x(Object(o.useState)(!1),2),j=S[0],N=S[1],A=x(Object(o.useState)({}),2),P=A[0],k=A[1],T=x(Object(o.useState)(!1),2),C=T[0],L=T[1],I=function(){var e=O(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.promo.verify({code:t,promoUsage:l,order_type:n,package_type:c},{ignoreGlobalMessage:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=O(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.isSpace?d.a.pay.close:d.a.memberPay.close,e.abrupt("return",t({order_id:P.order_id},{ignoreGlobalMessage:!0}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){I().then((function(e){L(!1),k(e),e.success&&g(e.promo)})).catch((function(){L(!1),k({success:!1,message:__("优惠码无效")})}))},D=function(e){P.success&&k({success:!1,message:__("优惠码已修改，请重新验证")}),s&&s(e)},z=function(){var e=O(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,M();case 4:return e.next=6,R();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),L(!1),k({success:!1,message:__("解绑失败")});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),B=f()(p,_({},h,P.success));return j?i.a.createElement("span",null,i.a.createElement(a.a,{"data-testid":"verifier-input",type:"text",value:t,onChange:function(e){return D(e.target.value&&e.target.value.trim())},suffix:i.a.createElement("a",{className:f()(E,y),onClick:R,disabled:C,"data-testid":"verifier-a"},__("验证")),className:m,placeholder:__("在此输入")}),i.a.createElement("div",{className:B,"data-testid":"verifier-message"},i.a.createElement("span",null,P.message),P.isLocked?i.a.createElement(r.a,{type:"link",disabled:C,onClick:z},C?__("解绑中"):__("解绑")):null)):i.a.createElement("span",{className:b,onClick:function(){return N(!0)}},__("填写优惠码"),i.a.createElement(u.b,{name:"edit-border",className:v,width:14,height:14}))};j.propTypes={value:l.a.string,promoUsage:l.a.string,orderType:l.a.number,packageType:l.a.number,onChange:l.a.func,onVerifySuccess:l.a.func};t.a=j},1253:function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=Object(r.useRef)(e);return t.current=e,t}},1255:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(559),a=n.n(r),o=a()(window.appData&&window.appData.defaultSpaceHost).host;o=o.split(".").slice(-2).join(".");var i={relocate:function(e,t){t?setTimeout((function(){window.location.href=i.normalize(e)}),t):window.location.href=i.normalize(e)},normalize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=a()(e).host||"";if(t){if(t===window.location.host)return e;if(t===o)return e;if(!t.endsWith(o))return"/";var n=t.slice(0,-o.length);return/^[.a-zA-Z0-9_-]+\.$/.test(n)?e:"/"}return"/"!==e[0]&&(e="/".concat(e)),e}},c=(i.normalize,i.relocate);function l(){var e=window.location.hash,t=decodeURIComponent(e.split("#")[1]),n=document.getElementById(t);n&&n.scrollIntoView()}},1256:function(e,t,n){"use strict";t.a=function(e){return null}},1257:function(e,t,n){"use strict";t.a=function(e){return null}},1258:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter((function(e){return e})))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},1259:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-check-outlined",e.className].filter(Boolean).join(" ")}),r.createElement("defs",null,r.createElement("path",{id:"2733936519a",d:"M0 0h256v256H0z"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"2733936519b",fill:"#fff"},r.createElement("use",{xlinkHref:"#2733936519a"})),r.createElement("path",{d:"M221.256 54.188c4.315-4.277 11.28-4.247 15.556.068 4.202 4.239 4.246 11.036.155 15.329l-.223.227-133.162 132c-4.212 4.176-10.957 4.25-15.258.221l-.229-.22-68.838-68.217c-4.315-4.276-4.347-11.24-.07-15.556 4.2-4.24 10.997-4.344 15.326-.292l.23.221 61.094 60.543L221.256 54.188Z",fill:"currentColor",fillRule:"nonzero",mask:"url(#2733936519b)"})))},1264:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(22),o=n(2),i=n(29),c=n(0),l=(n(41),n(118)),u=n(691),s=["children"],f=["fixed"];function d(e){return Object(l.a)(e).filter((function(e){return c.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,a=Object(i.a)(n,s),c=Object(o.a)({key:t},a);return r&&(c.children=d(r)),c}))}function m(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat(Object(a.a)(e),Object(a.a)(m(i).map((function(e){return Object(o.a)({fixed:r},e)})))):[].concat(Object(a.a)(e),[Object(o.a)(Object(o.a)({},t),{},{fixed:r})])}),[])}t.b=function(e,t){var n=e.prefixCls,a=e.columns,l=e.children,s=e.expandable,p=e.expandedKeys,h=e.getRowKey,y=e.onTriggerExpand,v=e.expandIcon,b=e.rowExpandable,g=e.expandIconColumnIndex,_=e.direction,w=e.expandRowByClick,E=e.columnWidth,O=e.fixed,x=c.useMemo((function(){return a||d(l)}),[a,l]),S=c.useMemo((function(){if(s){var e,t,a=g||0,o=x[a];t="left"!==O&&!O||g?"right"!==O&&!O||g!==x.length?o?o.fixed:null:"right":"left";var i=(e={},Object(r.a)(e,u.a,{className:"".concat(n,"-expand-icon-col")}),Object(r.a)(e,"title",""),Object(r.a)(e,"fixed",t),Object(r.a)(e,"className","".concat(n,"-row-expand-icon-cell")),Object(r.a)(e,"width",E),Object(r.a)(e,"render",(function(e,t,r){var a=h(t,r),o=p.has(a),i=!b||b(t),l=v({prefixCls:n,expanded:o,expandable:i,record:t,onExpand:y});return w?c.createElement("span",{onClick:function(e){return e.stopPropagation()}},l):l})),e),l=x.slice();return a>=0&&l.splice(a,0,i),l}return x}),[s,x,h,p,v,_]),j=c.useMemo((function(){var e=S;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,S,_]),N=c.useMemo((function(){return"rtl"===_?function(e){return e.map((function(e){var t=e.fixed,n=Object(i.a)(e,f),r=t;return"left"===t?r="right":"right"===t&&(r="left"),Object(o.a)({fixed:r},n)}))}(m(j)):m(j)}),[j,_]);return[j,N]}},1265:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var r=n(3),a=n(5),o=n(2),i=n(22),c=n(7),l=n(26),u=n(0),s=n(516),f=n(6),d=n.n(f),m=n(282),p=n.n(m),h=n(41),y=n(188),v=n(401),b=n(1256),g=n(1257),_=n(814),w=n(288),E=n(982),O=n(436);function x(e){var t,n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,i=e.rowComponent,c=e.cellComponent,l=e.onHeaderRow,s=e.index,f=u.useContext(w.a),d=f.prefixCls,m=f.direction;l&&(t=l(n.map((function(e){return e.column})),s));var p=Object(O.a)(n.map((function(e){return e.column})));return u.createElement(i,t,n.map((function(e,t){var n,i=e.column,l=Object(E.a)(e.colStart,e.colEnd,o,r,m);return i&&i.onHeaderCell&&(n=e.column.onHeaderCell(i)),u.createElement(_.a,Object(a.a)({},e,{ellipsis:i.ellipsis,align:i.align,component:c,prefixCls:d,key:p[t]},l,{additionalProps:n,rowType:"header"}))})))}x.displayName="HeaderRow";var S=x;var j=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,a=e.onHeaderRow,o=u.useContext(w.a),i=o.prefixCls,c=o.getComponent,l=u.useMemo((function(){return function(e){var t=[];!function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[a]=t[a]||[];var o=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},i=1,c=n.children;return c&&c.length>0&&(i=e(c,o,a+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(i=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=i,r.colEnd=r.colStart+i-1,t[a].push(r),o+=i,i}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},a=0;a<n;a+=1)r(a);return t}(n)}),[n]),s=c(["header","wrapper"],"thead"),f=c(["header","row"],"tr"),d=c(["header","cell"],"th");return u.createElement(s,{className:"".concat(i,"-thead")},l.map((function(e,n){return u.createElement(S,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:f,cellComponent:d,onHeaderRow:a,index:n})})))},N=u.createContext(null);var A=function(e){var t=e.prefixCls,n=e.children,r=e.component,a=e.cellComponent,o=e.fixHeader,i=e.fixColumn,c=e.horizonScroll,l=e.className,s=e.expanded,f=e.componentWidth,d=e.colSpan,m=u.useContext(w.a).scrollbarSize;return u.useMemo((function(){var e=n;return i&&(e=u.createElement("div",{style:{width:f-(o?m:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),u.createElement(r,{className:l,style:{display:s?null:"none"}},u.createElement(_.a,{component:a,prefixCls:t,colSpan:d},e))}),[n,r,o,c,l,s,f,d,m])};function P(e){var t=e.className,n=e.style,r=e.record,i=e.index,l=e.rowKey,s=e.getRowKey,f=e.rowExpandable,m=e.expandedKeys,p=e.onRow,h=e.indent,y=void 0===h?0:h,v=e.rowComponent,b=e.cellComponent,g=e.childrenColumnName,E=u.useContext(w.a),x=E.prefixCls,S=E.fixedInfoList,j=u.useContext(N),k=j.fixHeader,T=j.fixColumn,C=j.horizonScroll,L=j.componentWidth,I=j.flattenColumns,M=j.expandableType,R=j.expandRowByClick,D=j.onTriggerExpand,z=j.rowClassName,B=j.expandedRowClassName,Y=j.indentSize,U=j.expandIcon,F=j.expandedRowRender,q=j.expandIconColumnIndex,G=u.useState(!1),W=Object(c.a)(G,2),V=W[0],H=W[1],K=m&&m.has(e.recordKey);u.useEffect((function(){K&&H(!0)}),[K]);var Q,Z="row"===M&&(!f||f(r)),X="nest"===M,$=g&&r&&r[g],J=Z||X;p&&(Q=p(r,i));var ee;"string"==typeof z?ee=z:"function"==typeof z&&(ee=z(r,i,y));var te,ne,re=Object(O.a)(I),ae=u.createElement(v,Object(a.a)({},Q,{"data-row-key":l,className:d()(t,"".concat(x,"-row"),"".concat(x,"-row-level-").concat(y),ee,Q&&Q.className),style:Object(o.a)(Object(o.a)({},n),Q?Q.style:null),onClick:function(e){if(R&&J&&D(r,e),Q&&Q.onClick){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=Q).onClick.apply(t,[e].concat(a))}}}),I.map((function(e,t){var n,o,c=e.render,l=e.dataIndex,s=e.className,f=re[t],d=S[t];return t===(q||0)&&X&&(n=u.createElement(u.Fragment,null,u.createElement("span",{style:{paddingLeft:"".concat(Y*y,"px")},className:"".concat(x,"-row-indent indent-level-").concat(y)}),U({prefixCls:x,expanded:K,expandable:$,record:r,onExpand:D}))),e.onCell&&(o=e.onCell(r,i)),u.createElement(_.a,Object(a.a)({className:s,ellipsis:e.ellipsis,align:e.align,component:b,prefixCls:x,key:f,record:r,index:i,dataIndex:l,render:c,shouldCellUpdate:e.shouldCellUpdate},d,{appendNode:n,additionalProps:o}))})));if(Z&&(V||K)){var oe=F(r,i,y+1,K),ie=B&&B(r,i,y);te=u.createElement(A,{expanded:K,className:d()("".concat(x,"-expanded-row"),"".concat(x,"-expanded-row-level-").concat(y+1),ie),prefixCls:x,fixHeader:k,fixColumn:T,horizonScroll:C,component:v,componentWidth:L,cellComponent:b,colSpan:I.length},oe)}return $&&K&&(ne=(r[g]||[]).map((function(t,n){var r=s(t,n);return u.createElement(P,Object(a.a)({},e,{key:r,rowKey:r,record:t,recordKey:r,index:n,indent:y+1}))}))),u.createElement(u.Fragment,null,ae,te,ne)}P.displayName="BodyRow";var k=P,T=u.createContext(null);function C(e){var t=e.columnKey,n=e.onColumnResize,r=u.useRef();return u.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),u.createElement(y.a,{onResize:function(e){var r=e.offsetWidth;n(t,r)}},u.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},u.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function L(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,a=e.expandedKeys,o=e.onRow,i=e.rowExpandable,c=e.emptyNode,l=e.childrenColumnName,s=u.useContext(T).onColumnResize,f=u.useContext(w.a),d=f.prefixCls,m=f.getComponent,p=u.useContext(N),h=p.fixHeader,y=p.horizonScroll,v=p.flattenColumns,b=p.componentWidth;return u.useMemo((function(){var e,f=m(["body","wrapper"],"tbody"),p=m(["body","row"],"tr"),g=m(["body","cell"],"td");e=t.length?t.map((function(e,t){var r=n(e,t);return u.createElement(k,{key:r,rowKey:r,record:e,recordKey:r,index:t,rowComponent:p,cellComponent:g,expandedKeys:a,onRow:o,getRowKey:n,rowExpandable:i,childrenColumnName:l})})):u.createElement(A,{expanded:!0,className:"".concat(d,"-placeholder"),prefixCls:d,fixHeader:h,fixColumn:y,horizonScroll:y,component:p,componentWidth:b,cellComponent:g,colSpan:v.length},c);var _=Object(O.a)(v);return u.createElement(f,{className:"".concat(d,"-tbody")},r&&u.createElement("tr",{"aria-hidden":"true",className:"".concat(d,"-measure-row"),style:{height:0,fontSize:0}},_.map((function(e){return u.createElement(C,{key:e,columnKey:e,onColumnResize:s})}))),e)}),[t,d,o,r,a,n,m,b,c,v])}var I=u.memo(L);I.displayName="Body";var M=I,R=n(1264);function D(e){var t=Object(u.useRef)(e),n=Object(u.useState)({}),r=Object(c.a)(n,2)[1],a=Object(u.useRef)(null),o=Object(u.useRef)([]);return Object(u.useEffect)((function(){return function(){a.current=null}}),[]),[t.current,function(e){o.current.push(e);var n=Promise.resolve();a.current=n,n.then((function(){if(a.current===n){var e=o.current,i=t.current;o.current=[],e.forEach((function(e){t.current=e(t.current)})),a.current=null,i!==t.current&&r({})}}))}]}var z=function(e,t,n){return Object(u.useMemo)((function(){for(var r=[],a=[],o=0,i=0,c=0;c<t;c+=1)if("rtl"===n){a[c]=i,i+=e[c]||0;var l=t-c-1;r[l]=o,o+=e[l]||0}else{r[c]=o,o+=e[c]||0;var u=t-c-1;a[u]=i,i+=e[u]||0}return{left:r,right:a}}),[e,t,n])},B=n(691);var Y=function(e){for(var t=e.colWidths,n=e.columns,r=[],o=!1,i=(e.columCount||n.length)-1;i>=0;i-=1){var c=t[i],l=n&&n[i],s=l&&l[B.a];(c||s||o)&&(r.unshift(u.createElement("col",Object(a.a)({key:i,style:{width:c}},s))),o=!0)}return u.createElement("colgroup",null,r)};var U=function(e){var t=e.className,n=e.children;return u.createElement("div",{className:t},n)},F=n(694);function q(e){var t,n=e.prefixCls,a=e.record,o=e.onExpand,i=e.expanded,c=e.expandable,l="".concat(n,"-row-expand-icon");if(!c)return u.createElement("span",{className:d()(l,"".concat(n,"-row-spaced"))});return u.createElement("span",{className:d()(l,(t={},Object(r.a)(t,"".concat(n,"-row-expanded"),i),Object(r.a)(t,"".concat(n,"-row-collapsed"),!i),t)),onClick:function(e){o(a,e),e.stopPropagation()}})}var G=n(181),W=n(923),V=function(e,t){var n,a,i=e.scrollBodyRef,l=e.onScroll,s=e.offsetScroll,f=e.container,m=u.useContext(w.a).prefixCls,p=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,h=(null===(a=i.current)||void 0===a?void 0:a.clientWidth)||0,y=p&&h*(h/p),b=u.useRef(),g=D({scrollLeft:0,isHiddenScrollBar:!1}),_=Object(c.a)(g,2),E=_[0],O=_[1],x=u.useRef({delta:0,x:0}),S=u.useState(!1),j=Object(c.a)(S,2),N=j[0],A=j[1],P=function(){A(!1)},k=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(N&&0!==n){var r=x.current.x+e.pageX-x.current.x-x.current.delta;r<=0&&(r=0),r+y>=h&&(r=h-y),l({scrollLeft:r/h*(p+2)}),x.current.x=e.pageX}else N&&A(!1)},T=function(){var e=Object(W.b)(i.current).top,t=e+i.current.offsetHeight,n=f===window?document.documentElement.scrollTop+window.innerHeight:Object(W.b)(f).top+f.clientHeight;t-Object(v.a)()<=n||e>=n-s?O((function(e){return Object(o.a)(Object(o.a)({},e),{},{isHiddenScrollBar:!0})})):O((function(e){return Object(o.a)(Object(o.a)({},e),{},{isHiddenScrollBar:!1})}))},C=function(e){O((function(t){return Object(o.a)(Object(o.a)({},t),{},{scrollLeft:e/p*h||0})}))};return u.useImperativeHandle(t,(function(){return{setScrollLeft:C}})),u.useEffect((function(){var e=Object(G.a)(document.body,"mouseup",P,!1),t=Object(G.a)(document.body,"mousemove",k,!1);return T(),function(){e.remove(),t.remove()}}),[y,N]),u.useEffect((function(){var e=Object(G.a)(f,"scroll",T,!1),t=Object(G.a)(window,"resize",T,!1);return function(){e.remove(),t.remove()}}),[f]),u.useEffect((function(){E.isHiddenScrollBar||O((function(e){var t=i.current;return t?Object(o.a)(Object(o.a)({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[E.isHiddenScrollBar]),p<=h||!y||E.isHiddenScrollBar?null:u.createElement("div",{style:{height:Object(v.a)(),width:h,bottom:s},className:"".concat(m,"-sticky-scroll")},u.createElement("div",{onMouseDown:function(e){e.persist(),x.current.delta=e.pageX-E.scrollLeft,x.current.x=0,A(!0),e.preventDefault()},ref:b,className:d()("".concat(m,"-sticky-scroll-bar"),Object(r.a)({},"".concat(m,"-sticky-scroll-bar-active"),N)),style:{width:"".concat(y,"px"),transform:"translate3d(".concat(E.scrollLeft,"px, 0, 0)")}}))},H=u.forwardRef(V),K=n(226),Q=Object(K.a)()?window:null;var Z=n(29),X=n(86),$=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var J=u.forwardRef((function(e,t){var n=e.className,a=e.noData,c=e.columns,l=e.flattenColumns,s=e.colWidths,f=e.columCount,m=e.stickyOffsets,p=e.direction,h=e.fixHeader,y=e.stickyTopOffset,v=e.stickyBottomOffset,b=e.stickyClassName,g=e.onScroll,_=e.maxContentScroll,E=e.children,O=Object(Z.a)(e,$),x=u.useContext(w.a),S=x.prefixCls,j=x.scrollbarSize,N=x.isSticky,A=N&&!h?0:j,P=u.useRef(null),k=u.useCallback((function(e){Object(X.b)(t,e),Object(X.b)(P,e)}),[]);u.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(g({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=P.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=P.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var T=u.useMemo((function(){return l.every((function(e){return e.width>=0}))}),[l]),C=l[l.length-1],L={fixed:C?C.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(S,"-cell-scrollbar")}}},I=Object(u.useMemo)((function(){return A?[].concat(Object(i.a)(c),[L]):c}),[A,c]),M=Object(u.useMemo)((function(){return A?[].concat(Object(i.a)(l),[L]):l}),[A,l]),R=Object(u.useMemo)((function(){var e=m.right,t=m.left;return Object(o.a)(Object(o.a)({},m),{},{left:"rtl"===p?[].concat(Object(i.a)(t.map((function(e){return e+A}))),[0]):t,right:"rtl"===p?e:[].concat(Object(i.a)(e.map((function(e){return e+A}))),[0]),isSticky:N})}),[A,m,N]),D=function(e,t){return Object(u.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var a=e[r];if(void 0===a)return null;n[r]=a}return n}),[e.join("_"),t])}(s,f);return u.createElement("div",{style:Object(o.a)({overflow:"hidden"},N?{top:y,bottom:v}:{}),ref:k,className:d()(n,Object(r.a)({},b,!!b))},u.createElement("table",{style:{tableLayout:"fixed",visibility:a||D?null:"hidden"}},(!a||!_||T)&&u.createElement(Y,{colWidths:D?[].concat(Object(i.a)(D),[A]):[],columCount:f+1,columns:M}),E(Object(o.a)(Object(o.a)({},O),{},{stickyOffsets:R,columns:I,flattenColumns:M}))))}));J.displayName="FixedHolder";var ee=J,te=n(1266),ne=[],re={},ae="rc-table-internal-hook",oe=u.memo((function(e){return e.children}),(function(e,t){return!!p()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function ie(e){var t,n=e.prefixCls,f=e.className,m=e.rowClassName,p=e.style,b=e.data,g=e.rowKey,_=e.scroll,x=e.tableLayout,S=e.direction,A=e.title,P=e.footer,k=e.summary,C=e.id,L=e.showHeader,I=e.components,G=e.emptyText,W=e.onRow,V=e.onHeaderRow,K=e.internalHooks,Z=e.transformColumns,X=e.internalRefs,$=e.sticky,J=b||ne,ie=!!J.length;var ce,le,ue,se=u.useMemo((function(){return Object(O.c)(I,{})}),[I]),fe=u.useCallback((function(e,t){return Object(O.b)(se,e)||t}),[se]),de=u.useMemo((function(){return"function"==typeof g?g:function(e){return e&&e[g]}}),[g]),me=Object(B.c)(e),pe=me.expandIcon,he=me.expandedRowKeys,ye=me.defaultExpandedRowKeys,ve=me.defaultExpandAllRows,be=me.expandedRowRender,ge=me.onExpand,_e=me.onExpandedRowsChange,we=me.expandRowByClick,Ee=me.rowExpandable,Oe=me.expandIconColumnIndex,xe=me.expandedRowClassName,Se=me.childrenColumnName,je=me.indentSize,Ne=pe||q,Ae=Se||"children",Pe=u.useMemo((function(){return be?"row":!!(e.expandable&&K===ae&&e.expandable.__PARENT_RENDER_ICON__||J.some((function(e){return e&&"object"===Object(l.a)(e)&&e[Ae]})))&&"nest"}),[!!be,J]),ke=u.useState((function(){return ye||(ve?function(e,t,n){var r=[];return function e(a){(a||[]).forEach((function(a,o){r.push(t(a,o)),e(a[n])}))}(e),r}(J,de,Ae):[])})),Te=Object(c.a)(ke,2),Ce=Te[0],Le=Te[1],Ie=u.useMemo((function(){return new Set(he||Ce||[])}),[he,Ce]),Me=u.useCallback((function(e){var t,n=de(e,J.indexOf(e)),r=Ie.has(n);r?(Ie.delete(n),t=Object(i.a)(Ie)):t=[].concat(Object(i.a)(Ie),[n]),Le(t),ge&&ge(!r,e),_e&&_e(t)}),[de,Ie,J,ge,_e]),Re=u.useState(0),De=Object(c.a)(Re,2),ze=De[0],Be=De[1],Ye=Object(R.b)(Object(o.a)(Object(o.a)(Object(o.a)({},e),me),{},{expandable:!!be,expandedKeys:Ie,getRowKey:de,onTriggerExpand:Me,expandIcon:Ne,expandIconColumnIndex:Oe,direction:S}),K===ae?Z:null),Ue=Object(c.a)(Ye,2),Fe=Ue[0],qe=Ue[1],Ge=u.useMemo((function(){return{columns:Fe,flattenColumns:qe}}),[Fe,qe]),We=u.useRef(),Ve=u.useRef(),He=u.useRef(),Ke=u.useRef(),Qe=u.useState(!1),Ze=Object(c.a)(Qe,2),Xe=Ze[0],$e=Ze[1],Je=u.useState(!1),et=Object(c.a)(Je,2),tt=et[0],nt=et[1],rt=D(new Map),at=Object(c.a)(rt,2),ot=at[0],it=at[1],ct=Object(O.a)(qe).map((function(e){return ot.get(e)})),lt=u.useMemo((function(){return ct}),[ct.join("_")]),ut=z(lt,qe.length,S),st=_&&Object(O.d)(_.y),ft=_&&Object(O.d)(_.x)||Boolean(me.fixed),dt=ft&&qe.some((function(e){return e.fixed})),mt=u.useRef(),pt=function(e,t){var n="object"===Object(l.a)(e)?e:{},r=n.offsetHeader,a=void 0===r?0:r,o=n.offsetSummary,i=void 0===o?0:o,c=n.offsetScroll,s=void 0===c?0:c,f=n.getContainer,d=(void 0===f?function(){return Q}:f)()||Q;return u.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:a,offsetSummary:i,offsetScroll:s,container:d}}),[s,a,i,t,d])}($,n),ht=pt.isSticky,yt=pt.offsetHeader,vt=pt.offsetSummary,bt=pt.offsetScroll,gt=pt.stickyClassName,_t=pt.container,wt=null==k?void 0:k(J),Et=(st||ht)&&u.isValidElement(wt)&&wt.type===te.a&&wt.props.fixed;st&&(le={overflowY:"scroll",maxHeight:_.y}),ft&&(ce={overflowX:"auto"},st||(le={overflowY:"hidden"}),ue={width:!0===_.x?"auto":_.x,minWidth:"100%"});var Ot=u.useCallback((function(e,t){Object(s.a)(We.current)&&it((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),xt=function(e){var t=Object(u.useRef)(e||null),n=Object(u.useRef)();function r(){window.clearTimeout(n.current)}return Object(u.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),St=Object(c.a)(xt,2),jt=St[0],Nt=St[1];function At(e,t){t&&("function"==typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Pt=function(e){var t,n=e.currentTarget,r=e.scrollLeft,a="rtl"===S,o="number"==typeof r?r:n.scrollLeft,i=n||re;Nt()&&Nt()!==i||(jt(i),At(o,Ve.current),At(o,He.current),At(o,Ke.current),At(o,null===(t=mt.current)||void 0===t?void 0:t.setScrollLeft));if(n){var c=n.scrollWidth,l=n.clientWidth;a?($e(-o<c-l),nt(-o>0)):($e(o>0),nt(o<c-l))}},kt=function(){He.current&&Pt({currentTarget:He.current})};u.useEffect((function(){return kt}),[]),u.useEffect((function(){ft&&kt()}),[ft]);var Tt=u.useState(0),Ct=Object(c.a)(Tt,2),Lt=Ct[0],It=Ct[1];u.useEffect((function(){It(Object(v.b)(He.current).width)}),[]),u.useEffect((function(){K===ae&&X&&(X.body.current=He.current)}));var Mt,Rt=fe(["table"],"table"),Dt=u.useMemo((function(){return x||(dt?"max-content"===_.x?"auto":"fixed":st||ht||qe.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[st,dt,qe,x,ht]),zt={colWidths:lt,columCount:qe.length,stickyOffsets:ut,onHeaderRow:V,fixHeader:st,scroll:_},Bt=u.useMemo((function(){return ie?null:"function"==typeof G?G():G}),[ie,G]),Yt=u.createElement(M,{data:J,measureColumnWidth:st||ft||ht,expandedKeys:Ie,rowExpandable:Ee,getRowKey:de,onRow:W,emptyNode:Bt,childrenColumnName:Ae}),Ut=u.createElement(Y,{colWidths:qe.map((function(e){return e.width})),columns:qe}),Ft=fe(["body"]);if(st||ht){var qt;"function"==typeof Ft?(qt=Ft(J,{scrollbarSize:Lt,ref:He,onScroll:Pt}),zt.colWidths=qe.map((function(e,t){var n=e.width,r=t===Fe.length-1?n-Lt:n;return"number"!=typeof r||Number.isNaN(r)?(Object(h.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):qt=u.createElement("div",{style:Object(o.a)(Object(o.a)({},ce),le),onScroll:Pt,ref:He,className:d()("".concat(n,"-body"))},u.createElement(Rt,{style:Object(o.a)(Object(o.a)({},ue),{},{tableLayout:Dt})},Ut,Yt,!Et&&wt&&u.createElement(F.c,{stickyOffsets:ut,flattenColumns:qe},wt)));var Gt=Object(o.a)(Object(o.a)(Object(o.a)({noData:!J.length,maxContentScroll:ft&&"max-content"===_.x},zt),Ge),{},{direction:S,stickyClassName:gt,onScroll:Pt});Mt=u.createElement(u.Fragment,null,!1!==L&&u.createElement(ee,Object(a.a)({},Gt,{stickyTopOffset:yt,className:"".concat(n,"-header"),ref:Ve}),(function(e){return u.createElement(j,e)})),qt,Et&&u.createElement(ee,Object(a.a)({},Gt,{stickyBottomOffset:vt,className:"".concat(n,"-summary"),ref:Ke}),(function(e){return u.createElement(F.c,e,wt)})),ht&&u.createElement(H,{ref:mt,offsetScroll:bt,scrollBodyRef:He,onScroll:Pt,container:_t}))}else Mt=u.createElement("div",{style:Object(o.a)(Object(o.a)({},ce),le),className:d()("".concat(n,"-content")),onScroll:Pt,ref:He},u.createElement(Rt,{style:Object(o.a)(Object(o.a)({},ue),{},{tableLayout:Dt})},Ut,!1!==L&&u.createElement(j,Object(a.a)({},zt,Ge)),Yt,wt&&u.createElement(F.c,{stickyOffsets:ut,flattenColumns:qe},wt)));var Wt=Object(B.b)(e),Vt=u.createElement("div",Object(a.a)({className:d()(n,f,(t={},Object(r.a)(t,"".concat(n,"-rtl"),"rtl"===S),Object(r.a)(t,"".concat(n,"-ping-left"),Xe),Object(r.a)(t,"".concat(n,"-ping-right"),tt),Object(r.a)(t,"".concat(n,"-layout-fixed"),"fixed"===x),Object(r.a)(t,"".concat(n,"-fixed-header"),st),Object(r.a)(t,"".concat(n,"-fixed-column"),dt),Object(r.a)(t,"".concat(n,"-scroll-horizontal"),ft),Object(r.a)(t,"".concat(n,"-has-fix-left"),qe[0]&&qe[0].fixed),Object(r.a)(t,"".concat(n,"-has-fix-right"),qe[qe.length-1]&&"right"===qe[qe.length-1].fixed),t)),style:p,id:C,ref:We},Wt),u.createElement(oe,{pingLeft:Xe,pingRight:tt,props:Object(o.a)(Object(o.a)({},e),{},{stickyOffsets:ut,mergedExpandedKeys:Ie})},A&&u.createElement(U,{className:"".concat(n,"-title")},A(J)),u.createElement("div",{className:"".concat(n,"-container")},Mt),P&&u.createElement(U,{className:"".concat(n,"-footer")},P(J))));ft&&(Vt=u.createElement(y.a,{onResize:function(e){var t=e.width;t!==ze&&(kt(),Be(We.current?We.current.offsetWidth:t))}},Vt));var Ht=u.useMemo((function(){return{prefixCls:n,getComponent:fe,scrollbarSize:Lt,direction:S,fixedInfoList:qe.map((function(e,t){return Object(E.a)(t,t,qe,ut,S)})),isSticky:ht}}),[n,fe,Lt,S,qe,ut,S,ht]),Kt=u.useMemo((function(){return Object(o.a)(Object(o.a)({},Ge),{},{tableLayout:Dt,rowClassName:m,expandedRowClassName:xe,componentWidth:ze,fixHeader:st,fixColumn:dt,horizonScroll:ft,expandIcon:Ne,expandableType:Pe,expandRowByClick:we,expandedRowRender:be,onTriggerExpand:Me,expandIconColumnIndex:Oe,indentSize:je})}),[Ge,Dt,m,xe,ze,st,dt,ft,Ne,Pe,we,be,Me,Oe,je]),Qt=u.useMemo((function(){return{onColumnResize:Ot}}),[Ot]);return u.createElement(w.a.Provider,{value:Ht},u.createElement(N.Provider,{value:Kt},u.createElement(T.Provider,{value:Qt},Vt)))}ie.Column=g.a,ie.ColumnGroup=b.a,ie.Summary=F.a,ie.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};t.b=ie},1266:function(e,t,n){"use strict";var r=n(5),a=n(0),o=n(694),i=n(814),c=n(288),l=n(982);var u=n(29),s=["children"];function f(e){return e.children}f.Row=function(e){var t=e.children,n=Object(u.a)(e,s);return a.createElement("tr",n,t)},f.Cell=function(e){var t=e.className,n=e.index,u=e.children,s=e.colSpan,f=void 0===s?1:s,d=e.rowSpan,m=e.align,p=a.useContext(c.a),h=p.prefixCls,y=p.direction,v=a.useContext(o.b),b=v.scrollColumnIndex,g=v.stickyOffsets,_=v.flattenColumns,w=n+f-1+1===b?f+1:f,E=Object(l.a)(n,n+w-1,_,g,y);return a.createElement(i.a,Object(r.a)({className:t,index:n,component:"td",prefixCls:h,record:null,dataIndex:null,align:m,render:function(){return{children:u,props:{colSpan:w,rowSpan:d}}}},E))};t.a=f},1267:function(e,t,n){"use strict";var r=n(185),a=n.n(r),o=n(981),i=n.n(o),c=n(0),l=n(1253);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,y={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0,offsetHeight:0,scrollHeight:0,offsetWidth:0,scrollWidth:0};t.a=function(){var e=m(Object(c.useState)(null),2),t=e[0],n=e[1],r=m(Object(c.useState)(y),2),o=r[0],u=r[1],s=Object(l.a)(t),d=Object(c.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect;i()(e[0].contentRect,o)||u(f(f({},a()(t,["x","y","width","height","top","left","bottom","right"])),a()(s.current,["offsetHeight","scrollHeight","offsetWidth","scrollWidth"])))}}))}),[]);return h((function(){if(t&&Object.prototype.toString.call(t).slice(8,-1).includes("HTML"))return d.observe(t),function(){d.disconnect()}}),[t]),[n,o]}},1269:function(e,t,n){"use strict";n(1404);var r=n(832);n(1378);t.a=r.a},1353:function(e,t,n){"use strict";n.d(t,"h",(function(){return L.d})),n.d(t,"g",(function(){return L.c})),n.d(t,"f",(function(){return L.b})),n.d(t,"c",(function(){return L.a})),n.d(t,"m",(function(){return L.e})),n.d(t,"i",(function(){return M})),n.d(t,"j",(function(){return R})),n.d(t,"a",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"k",(function(){return ie})),n.d(t,"b",(function(){return Y})),n.d(t,"e",(function(){return re})),n.d(t,"d",(function(){return ce})),n.d(t,"l",(function(){return le}));n(36);var r=n(8),a=(n(43),n(10)),o=n(0),i=n.n(o),c=n(4),l=n.n(c),u=n(15),s=n.n(u),f=n(6),d=n.n(f),m=n(155),p=n(97),h=n(69),y=n(341),v=n(47),b=n(93),g=n(20),_=n(980),w="index-module_buyButton_pN7y0";function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.organization,n=e.targetLevel,a=e.type,c=e.text,l=e.className,u=e.paySource,s=void 0===u?h.LIMIT_SCENE.org_other_buy:u,f=p.a.isFree(t),m=f?g.PAY_MODAL_ACTION.buy:g.PAY_MODAL_ACTION.renew,y=E(Object(o.useState)(!1),2),v=y[0],b=y[1],O=c||(f?__("升级"):__("续费")),x=window.location,S="/r/organizations/dashboard/cashier"===(null==x?void 0:x.pathname),j=null==x?void 0:x.pathname.startsWith("/r/organizations/dashboard");if(!S){var N=p.a.buildOrgPayLink({action:f?"buy":"renew",targetLevel:n,paySource:s});return i.a.createElement(r.a,{className:d()(w,l),href:N,target:j?"_self":"_blank",type:a},O)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{type:a,className:d()(w,l),onClick:function(){return b(!0)}},O),v&&i.a.createElement(_.a,{visible:v,organization:t,onClose:function(){return b(!1)},type:"buyModal",actionType:m,targetLevel:n,paySource:s}))}x.propTypes={organization:l.a.object.isRequired,type:l.a.string,text:l.a.string,className:l.a.string,targetLevel:l.a.oneOf([g.PAYMENT_TYPE.pro,g.PAYMENT_TYPE.enterprise]),paySource:l.a.string},x.defaultProps={type:"link",targetLevel:g.PAYMENT_TYPE.pro};var S=x,j=n(1479),N="index-module_upgradeButton_nJqrZ";function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t,n=e.organization,a=e.type,c=e.text,l=e.className,u=e.paySource,s=void 0===u?h.LIMIT_SCENE.org_other_buy:u,f=A(Object(o.useState)(!1),2),m=f[0],y=f[1],v=c||__("升级"),b=Object(j.getInterest)(),w=window.location,E="/r/organizations/dashboard/cashier"===(null==w?void 0:w.pathname),O=null==w||null===(t=w.pathname)||void 0===t?void 0:t.startsWith("/r/organizations/dashboard");if(p.a.isTopLevel(b))return null;if(!O||!E){var x=p.a.buildOrgPayLink({action:"upgrade",paySource:s});return i.a.createElement(r.a,{className:d()(N,l),href:x,target:"_blank",type:a},v)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{type:a,className:d()(N,l),onClick:function(){return y(!0)}},v),m&&i.a.createElement(_.a,{visible:m,organization:n,onClose:function(){return y(!1)},type:"buyModal",actionType:g.PAY_MODAL_ACTION.upgrade,targetLevel:g.PAYMENT_TYPE.enterprise,paySource:s}))}k.propTypes={organization:l.a.object.isRequired,type:l.a.string,text:l.a.string,className:l.a.string,paySource:l.a.string},k.defaultProps={type:"link"};var T=k,C={orgVersionLabel:"index-module_orgVersionLabel_egPu3",tip:"index-module_tip_rQx-e",payment:"index-module_payment_pQExj",paymentLink:"index-module_paymentLink_GbvgZ",paymentGuideWrapper:"index-module_paymentGuideWrapper_2jg39",thumb:"index-module_thumb_Lw5zW",title:"index-module_title_EykNL",body:"index-module_body_+1-cr",link:"index-module_link_zDdoa",actions:"index-module_actions_LRgdL",horizontal:"index-module_horizontal_rYkfB",btnTryout:"index-module_btnTryout_5GVmK",vertical:"index-module_vertical_K+cm2",btn:"index-module_btn_vRXZD",premiumFeaturesLabel:"index-module_premiumFeaturesLabel_q+uFd",alignCenter:"index-module_alignCenter_h648T",orgExpiredTip:"index-module_orgExpiredTip_k7iLg",orgExpiredTipOpt:"index-module_orgExpiredTipOpt_QDhkZ",orgExpiredTipText:"index-module_orgExpiredTipText_gQuZw",payflowTitle:"index-module_payflowTitle_LM3aR",freeWrapper:"index-module_freeWrapper_BlI2K",payflowLink:"index-module_payflowLink_Wt3fM",isExpired:"index-module_isExpired_UgOgs",freeTips:"index-module_freeTips_ybaQ-"},L=n(688),I=n(59);n(433);function M(){return i.a.createElement("span",null,__("标准版，2999 元/空间/年"))}function R(e){var t=e.organization,n=e.size,r=e.className;return i.a.createElement(I.b,{size:n,name:p.a.getIconName(t),className:r})}l.a.object.isRequired,l.a.node,l.a.string,l.a.object.isRequired,l.a.string,l.a.string,l.a.string,l.a.oneOfType([l.a.string,l.a.number]),l.a.oneOfType([l.a.string,l.a.node]),l.a.string,l.a.object,R.propTypes={organization:l.a.object,size:l.a.number,className:l.a.string};var D="index-module_upgrade_qL2nR";function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t=e.organization,n=e.className,a=e.code,c=void 0===a?h.LIMIT_SCENE.org_other_buy:a,l=z(Object(o.useState)(!1),2),u=l[0],s=l[1];if(!("/r/organizations/dashboard/cashier"===window.location.pathname)){var f=p.a.buildOrgPayLink({action:"member",paySource:c});return i.a.createElement("a",{className:n,href:f,target:"_blank"},__("扩容"))}return i.a.createElement("div",{className:d()(D,n)},i.a.createElement(r.a,{type:"link",onClick:function(){return s(!0)}},__("扩容")),u&&i.a.createElement(_.a,{visible:u,organization:t,onClose:function(){return s(!1)},type:"buyModal",actionType:g.ORDER_TYPE.buyMember,paySource:c}))},U=(n(62),n(31));function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t=e.organization,n=e.code,o=e.type,c=e.className,l=e.text,u=p.a.getFeatureBelongsPayment(n);return p.a.isPremium(t)?u===(null==t?void 0:t.payment_type)?i.a.createElement(r.a,{type:o,className:c,onClick:function(){var e;a.a.warning(__("当前版本已是{payment}",{payment:null===(e=p.a.PAYMENT_MAP)||void 0===e?void 0:e[u]}))}},l):i.a.createElement(T,{organization:t,type:o,text:l,className:c,paySource:n}):i.a.createElement(S,{organization:t,type:o,text:l,targetLevel:u,className:c,paySource:n})};V.propTypes={organization:l.a.object.isRequired,className:l.a.string,code:l.a.oneOf(Object.values(G(G({},v.INTEREST_CODE),h.LIMIT_RULE_CODE))),type:l.a.string,text:l.a.string},V.defaultProps={type:"link"};var H="index-module_wrapper_ulVDd",K="index-module_content_SO1HL",Q="index-module_title_SVPzd",Z="index-module_desc_MlCQ9",X="index-module_img_SBaEY",$="index-module_trialButton_tH3iD",J="index-module_footer_cL9eu",ee="index-module_btn_XNqZC";function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={showInterestIntro:function(e){var t=window.appData.organization,n=p.a.isOwner(t),a=ne(ne(ne(ne({},v.INTEREST_CODE.thirdpart_address,{title:p.a.getPaymentFeatureDesc(v.INTEREST_CODE.thirdpart_address),desc:p.a.getFeatureIntro(v.INTEREST_CODE.thirdpart_address)}),v.INTEREST_CODE.group_department,{title:p.a.getPaymentFeatureDesc(v.INTEREST_CODE.group_department),desc:p.a.getFeatureIntro(v.INTEREST_CODE.group_department)}),v.INTEREST_CODE.group_handover,{title:p.a.getPaymentFeatureDesc(v.INTEREST_CODE.group_handover),desc:p.a.getFeatureIntro(v.INTEREST_CODE.group_handover)}),v.INTEREST_CODE.public_page,{title:p.a.getPaymentFeatureDesc(v.INTEREST_CODE.public_page),desc:p.a.getFeatureIntro(v.INTEREST_CODE.public_page),link:i.a.createElement("a",{href:"https://www.yuque.com/yuque/organizations/xoios9x575i28vi9",target:"_blank"},__("查看详细介绍"))})[e];if(a){Object(m.spmClick)(h.ORG_LIMIT_SPM.pay_limit,{pay_source:e,organization_id:(null==t?void 0:t.id)||0});var o=p.a.buildOrgPayLink({action:"trial",paySource:e}),c=U.a.info({width:480,closable:!0,maskClosable:!0,centered:!0,className:H,content:i.a.createElement("div",null,i.a.createElement("img",{className:X,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*Lt7IR4oBkwIAAAAAAAAAAAAADvuFAQ/original"}),i.a.createElement("div",{className:K},i.a.createElement("p",{className:Q},null==a?void 0:a.title),i.a.createElement("p",{className:Z},!n&&__("联系管理员升级空间版本，立享空间功能。"),null==a?void 0:a.desc,null==a?void 0:a.link),i.a.createElement("div",{className:J},n?i.a.createElement(i.a.Fragment,null,(null==t?void 0:t.canTrial)&&i.a.createElement(r.a,{className:d()($,ee),href:o},__("领取 {days} 天试用",{days:15})),i.a.createElement(V,{className:ee,type:"primary",organization:t,code:e})):i.a.createElement(r.a,{className:d()(ee),type:"primary",onClick:function(){return c.destroy()}},__("知道了"))))),okText:null})}}};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){var t=e.organization,n=e.code,o=e.type,c=e.className,l=e.text,u=p.a.getFeatureBelongsPayment(n);return p.a.isPremium(t)?u===(null==t?void 0:t.payment_type)?i.a.createElement(r.a,{type:o,className:c,onClick:function(){var e;a.a.warning(__("当前版本已是{payment}",{payment:null===(e=p.a.PAYMENT_MAP)||void 0===e?void 0:e[u]}))}},l):i.a.createElement(T,{organization:t,type:o,text:l,className:c,paySource:n}):i.a.createElement(S,{organization:t,type:o,text:l,targetLevel:u,className:c,paySource:n})};function ce(e){var t,n=e.organization,r=e.className,a=n.expired_at,o=n.payment_type,c=p.a.isOwner(n),l=(null===(t=b.ORG_AMOUNT_MAP[null==n?void 0:n.payment_type])||void 0===t?void 0:t.name)||b.ORG_AMOUNT_MAP[g.PAYMENT_TYPE.enterprise].name,u=p.a.buildOrgPayLink({action:"renew",paySource:h.LIMIT_SCENE.org_dashboard_user_menu_buy});if(o===g.PAYMENT_TYPE.free&&!c)return null;if(p.a.isFree(n)&&c)return u=p.a.buildOrgPayLink({action:"buy",paySource:h.LIMIT_SCENE.org_dashboard_user_menu_buy}),i.a.createElement("div",{className:d()(C.tip,C.freeWarpper),"data-testid":"org-preview-tip"},i.a.createElement("div",{className:C.payflowTitle},b.ORG_AMOUNT_MAP[g.PAYMENT_TYPE.free].name),i.a.createElement("a",{href:u,className:C.payment,target:"_blank"},__("升级")));var f,m=s()(a).diff(s()(),"day"),y=!1;return s()(a).isBefore(s()())?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:C.orgExpiredTip},__("{paymentType}已过期",{paymentType:l}))),y=!0):0===m?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:C.orgExpiredTip},__("空间将于今日到期"))),y=!0):m<15&&m>0?(f=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:C.orgExpiredTip},__("{paymentType} {days} 天后到期",{paymentType:l,days:m}))),y=!0):f=i.a.createElement("p",{className:C.orgExpiredTipText},__("有效期至{expiredAt}",{expiredAt:i.a.createElement("span",{title:s()(a).format("YYYY-MM-DD")},s()(a).format("YYYY-MM-DD"))})),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:d()(C.tip,r,oe({},C.isExpired,y)),"data-testid":"org-preview-tip"},i.a.createElement("span",null,f),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:u,target:"_blank",className:C.payment},__("续费")))))}function le(e){var t=e.organization,n=e.showThumb,a=void 0===n||n,c=(e.children,e.titleClassName),l=e.thumbClassName,u=e.actionsLayout,s=void 0===u?"horizontal":u,f=e.code,v=e.className,b=p.a.getPaymentFeatureDesc(f)||__("付费版空间专属功能"),g=p.a.getFeatureIntro(f);return Object(o.useEffect)((function(){Object(m.spmClick)(h.ORG_LIMIT_SPM.pay_limit,{pay_source:f,organization_id:(null==t?void 0:t.id)||0})}),[]),i.a.createElement("div",{className:d()(C.paymentGuideWrapper,v)},a&&i.a.createElement(y.a,{src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*oKPaTZWb5BwAAAAAAAAAAAAADvuFAQ/original",darkAlpha:.9,className:d()(C.thumb,l)}),i.a.createElement("h6",{className:d()(C.title,c)},b),i.a.createElement("div",{className:C.body},g),i.a.createElement("div",{className:d()(C.actions,"horizontal"===s?C.horizontal:C.vertical)},"vertical"===s?i.a.createElement(i.a.Fragment,null,i.a.createElement(ie,{organization:t,type:"primary",code:f,className:C.btn}),i.a.createElement(r.a,{style:{marginTop:"12px"},"data-desktoptarget":"_browser",type:"link",href:"/about/price#team",target:"_blank"},__("了解不同版本权益"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{href:"/about/price#team",target:"_blank",className:C.link},__("了解不同版本权益")),i.a.createElement(ie,{organization:t,code:f}))))}ie.propTypes={organization:l.a.object.isRequired,className:l.a.string,code:l.a.oneOf(Object.values(v.INTEREST_CODE,h.LIMIT_RULE_CODE)),type:l.a.string,text:l.a.string},ie.defaultProps={type:"link"},ce.propTypes={organization:l.a.object.isRequired,className:l.a.string},le.propTypes={organization:l.a.object.isRequired,showThumb:l.a.bool,children:l.a.node,titleClassName:l.a.string,thumbClassName:l.a.string,actionsLayout:l.a.string,code:l.a.string,className:l.a.string},l.a.object.isRequired},1354:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},1355:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-icon-loading-desk",e.className].filter(Boolean).join(" ")}),r.createElement("defs",null,r.createElement("pattern",{id:"3718679761c",width:"100%",height:"100%",patternUnits:"objectBoundingBox"},r.createElement("use",{xlinkHref:"#3718679761a"})),r.createElement("image",{id:"3718679761a",width:22,height:22,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAAEB0lEQVQ4EU2V3W4bNxCFZ0juSpaFukF9Y8Mx0su+QoG8aF+iQZ+i6Su0Nw1SBIhbVbb1uz9kv7OUahOguMsdnjlzZobynz/8UnIuVkq2nOscR62jvax6HmXTmdmDmf/tzjRfWfB/vZR1jPHRgj2zvwkWt8E9WAiYsNbpp3ftOTgvo+CftxHgnsfO3A7BbOcx7tjfgbQVaIy2TSEEmOhwZgqovodQYF0m8FcOBD3g74jbPcY7Tu2S+UZMIbZJqXkOIe9eAWN2GkXUiiKRJHCanE4fM757MYXEjnA3NXwDLDwhxxPrpm0vXjMW2xq6IqizgovxibXCks47ApWeTx58HTyuYbpOF83TPMZt2zZnxgKETMXlWePMuuag7k367gF7Lh7WHuIqeljNZumfpkmPl4vF83w+397e3h4S9JXtiVEpldk4nplLZ31TYvXNetZnL2GVYngg7K9xlr42i8XqzXL5eHd3R+Ji6LquOWmsQ5Whu4BGgUxDeqvUTlIoaasY/UsI8a/Z5fzzd1dXD9fX1+umaQK2LTPMZrNwYqyyqFWgKlHCtIqphurZXdLahtL8FGP6Y7n85vf7+5svgJa+79uUiIHR99RT6Stw1ZNCo8RqRchJtBgzs4Ifj0cbhv5z07S/vX17+/Hm5qaDWTsMg8jJSIyJ8xhSam1iLCoaAj2PFwette2sbpfy0/v3P/7KC8mPi773gEohZ3cqwWDuJBFSyaTxcAZjPSNrVWlpjvPZ7LC8XH76/t27b/dd/iEaHRdspIEyCmT4FJhjasiipbOkXxIzERRn3icwYhrpu45VHfZIif05juXejnsbInXrYW8xdSCNkBsBwEEd6F0SoJ1eBQgITaxatYGVQOmwbDv6Zk32DpjNSfqVEz+XRdPYcCjuPcyHjCoIDamUyUVJkBT5WmNWqOAwADC4LpkMsNtWrIlpLNQY1C6iBep5xDstUkpHrXN/JF4L7GUXc6rhKoypq/RxAKy3Qn0F21N4ByTsYJZJO/egtUDOQ4kU5UCYFKBY+0irhYHLdQzjkBOGXCoO06LrcKBPlAV12JFU6mrssVGHkCoVeCJ3pcmeW0jlqHvcowIImZb0kscBWWCssKuu0naatRt6safTtCfdkX3KMihUU/FE1TaqCOdPwSyiFjS4+TFwkuuEzcFJCoAlA85AAdBZiQS2zp1BBxmn9bcQsRO4EJHRUYrHoGCyD1BOCh1H7E4AyILGgGI6MYWCKgUTYKbOgjUZJumR0AHn0p7KVMKIH/HgX1L8z7ZKAiDsOTySFWqZ2sBIQWpwDBkLzW8R0Ig3NAAZx5zhA6b8SVBukp2wBYYTztWV62IChQ6YOjqFCj3U05aLKsE7rSdP5E4+kYx+sf8AV5aZ7yAju6MAAAAASUVORK5CYII="}),r.createElement("path",{id:"3718679761b",d:"M0 0h24v24H0z"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"3718679761d",fill:"#fff"},r.createElement("use",{xlinkHref:"#3718679761b"})),r.createElement("path",{d:"M12 1.114a1.286 1.286 0 1 1 0 2.572A8.314 8.314 0 1 0 20.314 12c0-.805-.114-1.593-.336-2.349a1.286 1.286 0 0 1 2.467-.724c.291.99.44 2.022.44 3.073 0 6.012-4.873 10.886-10.885 10.886S1.114 18.012 1.114 12 5.988 1.114 12 1.114Z",fill:"url(#3718679761c)",fillRule:"nonzero",mask:"url(#3718679761d)"})))},1356:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-avatar-upload",e.className].filter(Boolean).join(" ")}),r.createElement("g",{fill:"currentColor",fillRule:"evenodd"},r.createElement("rect",{x:28,y:209,width:200,height:20,rx:10}),r.createElement("path",{d:"M177.268 80.262c4.525 3.166 10.76 2.064 13.926-2.461 3.11-4.445 2.102-10.538-2.222-13.754l-.24-.173-43.535-30.457a30 30 0 0 0-34.01-.264l-.384.264-43.535 30.457c-4.526 3.166-5.628 9.401-2.462 13.927 3.11 4.444 9.18 5.587 13.682 2.627l.244-.166 43.536-30.457a10 10 0 0 1 11.197-.18l.267.18 43.536 30.457Z",fillRule:"nonzero"}),r.createElement("rect",{x:118,y:39,width:20,height:150,rx:10})))},1357:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-download",e.className].filter(Boolean).join(" ")}),r.createElement("g",{fill:"currentColor",fillRule:"evenodd"},r.createElement("rect",{x:28,y:209,width:200,height:20,rx:10}),r.createElement("path",{d:"M177.268 137.806c4.525-3.166 10.76-2.064 13.926 2.462 3.11 4.444 2.102 10.538-2.222 13.753l-.24.173-43.535 30.457a30 30 0 0 1-34.01.264l-.384-.264-43.535-30.457c-4.526-3.166-5.628-9.401-2.462-13.926 3.11-4.445 9.18-5.587 13.682-2.627l.244.165 43.536 30.457a10 10 0 0 0 11.197.18l.267-.18 43.536-30.457Z",fillRule:"nonzero"}),r.createElement("rect",{x:118,y:28,width:20,height:150,rx:10})))},1358:function(e,t,n){"use strict";var r=n(103),a=n(111);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(399)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(1360)),l=r(n(687));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var s=function(e,t){return i.createElement(l.default,(0,o.default)((0,o.default)({},e),{},{ref:t,icon:c.default}))},f=i.forwardRef(s);t.default=f},1359:function(e,t,n){"use strict";var r=n(103),a=n(111);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(399)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(1361)),l=r(n(687));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var s=function(e,t){return i.createElement(l.default,(0,o.default)((0,o.default)({},e),{},{ref:t,icon:c.default}))},f=i.forwardRef(s);t.default=f},1360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},1361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},1362:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-comment-hide",e.className].filter(Boolean).join(" ")}),r.createElement("defs",null,r.createElement("path",{id:"2573787990a",d:"M0 0h256v256H0z"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 20c-50.81 0-92 41.19-92 92s41.19 92 92 92 92-41.19 92-92-41.19-92-92-92Zm55.143 52.902c3.795 3.873 3.801 10.047.067 13.928l-.212.213-63.285 62a10 10 0 0 1-13.776.209l-.219-.208-32.715-32.041c-3.946-3.865-4.012-10.196-.147-14.142 3.794-3.873 9.966-4.007 13.924-.354l.217.207 25.717 25.187 56.288-55.144c3.945-3.865 10.276-3.8 14.141.145Z",fill:"currentColor",fillRule:"nonzero"})))},1363:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},1365:function(e,t,n){"use strict";var r=n(69).SIZE;e.exports={getSizeValue:function(e){return e>=r.TB?{value:e/r.TB,unit:"TB"}:e>=r.GB?{value:e/r.GB,unit:"GB"}:e>=r.MB?{value:e/r.MB,unit:"MB"}:{value:e/r.KB,unit:"KB"}}}},1366:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=n(1368),i=/[\u0100-\uffff]+/g,c=/--+/g,l=/\s+/;e.exports=function(e){if(!e)return 0;var t=0;return(e=(e=(e=" ".concat(o(String(e))," ")).replace(i,(function(e){return e.codePointAt(0)>127?(t+=r(e).length," "):e})).replace(c,(function(e,n,r){return l.test(r[n-1])&&t++," "}))).trim())&&(t+=e.split(l).length),t}},1367:function(e,t,n){e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,a=36e5,o=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,l=2628e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:c,months:l,days:o,hours:a,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},f=function(e){return e instanceof b},d=function(e,t,n){return new b(e,n,t.$l)},m=function(e){return t.p(e)+"s"},p=function(e){return e<0},h=function(e){return p(e)?Math.ceil(e):Math.floor(e)},y=function(e){return Math.abs(e)},v=function(e,t){return e?p(e)?{negative:!0,format:""+y(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},b=function(){function p(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*s[m(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[m(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var a=e.match(u);if(a){var o=a.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var y=p.prototype;return y.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*s[n]}),0)},y.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=h(e/c),e%=c,this.$d.months=h(e/l),e%=l,this.$d.days=h(e/o),e%=o,this.$d.hours=h(e/a),e%=a,this.$d.minutes=h(e/r),e%=r,this.$d.seconds=h(e/n),e%=n,this.$d.milliseconds=e},y.toISOString=function(){var e=v(this.$d.years,"Y"),t=v(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=v(n,"D"),a=v(this.$d.hours,"H"),o=v(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3,i=Math.round(1e3*i)/1e3);var c=v(i,"S"),l=e.negative||t.negative||r.negative||a.negative||o.negative||c.negative,u=a.format||o.format||c.format?"T":"",s=(l?"-":"")+"P"+e.format+t.format+r.format+u+a.format+o.format+c.format;return"P"===s||"-P"===s?"P0D":s},y.toJSON=function(){return this.toISOString()},y.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},y.as=function(e){return this.$ms/s[m(e)]},y.get=function(e){var t=this.$ms,n=m(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?h(t/s[n]):this.$d[n],t||0},y.add=function(e,t,n){var r;return r=t?e*s[m(t)]:f(e)?e.$ms:d(e,this).$ms,d(this.$ms+r*(n?-1:1),this)},y.subtract=function(e,t){return this.add(e,t,!0)},y.locale=function(e){var t=this.clone();return t.$l=e,t},y.clone=function(){return d(this.$ms,this)},y.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},y.valueOf=function(){return this.asMilliseconds()},y.milliseconds=function(){return this.get("milliseconds")},y.asMilliseconds=function(){return this.as("milliseconds")},y.seconds=function(){return this.get("seconds")},y.asSeconds=function(){return this.as("seconds")},y.minutes=function(){return this.get("minutes")},y.asMinutes=function(){return this.as("minutes")},y.hours=function(){return this.get("hours")},y.asHours=function(){return this.as("hours")},y.days=function(){return this.get("days")},y.asDays=function(){return this.as("days")},y.weeks=function(){return this.get("weeks")},y.asWeeks=function(){return this.as("weeks")},y.months=function(){return this.get("months")},y.asMonths=function(){return this.as("months")},y.years=function(){return this.get("years")},y.asYears=function(){return this.as("years")},p}(),g=function(e,t,n){return e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms")};return function(n,r,a){e=a,t=a().$utils(),a.duration=function(e,t){var n=a.locale();return d(e,{$l:n},t)},a.isDuration=f;var o=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return f(e)?g(this,e,1):o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return f(e)?g(this,e,-1):i.bind(this)(e,t)}}}()},1368:function(e,t,n){"use strict";var r=/<[^>]+>/g;e.exports=function(e){return e.replace(r," ").trim()}},1369:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-delete-solid",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm46.1 67.1c-4.028-4.028-10.512-4.1-14.628-.216l-.222.216-30.651 30.65-30.65-30.65c-4.027-4.028-10.512-4.1-14.627-.216l-.222.216c-4.028 4.027-4.1 10.512-.216 14.627l.216.222 30.65 30.65L83.1 159.25c-4.028 4.028-4.1 10.512-.216 14.628l.216.222c4.027 4.027 10.512 4.099 14.627.215l.222-.215 30.65-30.652L159.25 174.1c4.028 4.027 10.512 4.099 14.628.215l.222-.215c4.027-4.028 4.099-10.512.215-14.628l-.215-.222-30.652-30.651 30.652-30.65c4.027-4.027 4.099-10.512.215-14.627l-.215-.222Z",fill:"currentColor",fillRule:"evenodd"}))},1376:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-exclamationcirclefilled",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 154c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12Zm0-100c-5.523 0-10 4.477-10 10v64c0 5.523 4.477 10 10 10s10-4.477 10-10V80c0-5.523-4.477-10-10-10Z",fill:"currentColor",fillRule:"nonzero"}))},1392:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1393:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1394:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1395:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1398:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1399:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1400:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1401:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1402:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1405:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1406:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1479:function(e,t,n){"use strict";function r(){return window.appData.isDesktopApp&&!window.appData.interest?{interests:{open_ocr:!window.appData.isYuque||(window.appData.currentOrganization&&0!==window.appData.currentOrganization.id?null===(a=window.appData.currentOrganization)||void 0===a?void 0:a.isPremium:"Group"===(null===(n=window.appData.group)||void 0===n?void 0:n.type)||(null===(r=window.appData.me)||void 0===r?void 0:r.isPaid)),create_public_resource:!window.appData.isYuque||(window.appData.currentOrganization&&0!==window.appData.currentOrganization.id?(null===(t=window.appData.currentOrganization)||void 0===t?void 0:t.isPremium)&&window.appData.currentOrganization.share_to_outside_enable:null===(e=window.appData.me)||void 0===e?void 0:e.isPaid)}}:window.appData.interest||{interests:{}};var e,t,n,r,a}n.r(t),n.d(t,"getInterest",(function(){return r}))},1480:function(e,t,n){const r=n(1354),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},1481:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1482:function(e,t){const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(a,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+r+"$"),i=new RegExp("^"+n+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return c.test(e)}},1483:function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:r,scale:r?4:a,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const a=n.modules.size,o=n.modules.data,i=t.getScale(a,r),c=Math.floor((a+2*r.margin)*i),l=r.margin*i,u=[r.color.light,r.color.dark];for(let t=0;t<c;t++)for(let n=0;n<c;n++){let s=4*(t*c+n),f=r.color.light;if(t>=l&&n>=l&&t<c-l&&n<c-l){f=u[o[Math.floor((t-l)/i)*a+Math.floor((n-l)/i)]?1:0]}e[s++]=f.r,e[s++]=f.g,e[s++]=f.b,e[s]=f.a}}},1485:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return d}));var r=n(15),a=n.n(r),o=n(511),i=n(193),c=n(11);function l(e,t,n,r){var a=window.location.origin,i="";switch(t){case o.b.BOOK:i="".concat(a,"/").concat(n.login,"/").concat(e.slug);break;case o.b.DOC:i="".concat(a,"/").concat(n.login,"/").concat(r.slug,"/").concat(e.slug);break;case o.b.NOTE:i="".concat(a,"/r/note/").concat(e.slug)}var c="",l="";if(t!==o.b.NOTE){"Sheet"===e.type&&(c=window.location.hash.slice(1));var u=e.title||e.name;u&&(l+="《".concat(u,"》"));var s=f(e,t,n,r).currentPassword;s&&(l+=" ".concat(__("密码：")).concat(s))}return{url:i,urlWithDesc:i+(c||l?"?".concat(t===o.b.DOC?"singleDoc":"","#").concat(c||""," ").concat(l||""):"")}}var u=function(e,t,n,r){var a=null==e?void 0:e.public;switch(t){case o.b.BOOK:a=Object(i.c)({type:"book",target:e,group:n});break;case o.b.DOC:a=Object(i.c)({type:"doc",target:e,group:n,book:r})}return{privacy:a,isShareActive:a!==c.PRIVACY.private}},s=function(e,t,n,r){var a=e.indexed_level,l=!1;t===o.b.DOC&&(Object(i.c)({type:"book",target:r,group:n})!==c.PRIVACY.private&&1===(null==r?void 0:r.indexed_level)&&(a=null==r?void 0:r.indexed_level,l=!0));return{currentIndexedLevel:a,isInheritBookIndex:l}},f=function(e,t,n,r){var a=e.password,l=!1;t===o.b.DOC&&(Object(i.c)({type:"book",target:r,group:n})!==c.PRIVACY.private&&null!=r&&r.password&&(a=null==r?void 0:r.password,l=!0));return{currentPassword:a,isInheritBookPassword:l}},d=function(e,t,n){if(!n&&e.public!==c.PRIVACY.private&&(t===o.b.DOC||t===o.b.NOTE)&&e.share_expired_time){var r=e.share_expired_time,i=new Date(e.share_expired_time),l=new Date(i.setMonth(i.getMonth()-6));return{startTime:a()(l).format("YYYY.MM.DD"),expiredTime:a()(r).format("YYYY.MM.DD")}}return null}},1486:function(e,t,n){const r=n(2848),a=n(2849),o=n(2866),i=n(2867);function c(e,t,n,o,i){const c=[].slice.call(arguments,1),l=c.length,u="function"==typeof c[l-1];if(!u&&!r())throw new Error("Callback required as last argument");if(!u){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise((function(r,i){try{const i=a.create(n,o);r(e(i,t,o))}catch(e){i(e)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(i=n,n=t,t=o=void 0):3===l&&(t.getContext&&void 0===i?(i=o,o=void 0):(i=o,o=n,n=t,t=void 0));try{const r=a.create(n,o);i(null,e(r,t,o))}catch(e){i(e)}}t.create=a.create,t.toCanvas=c.bind(null,o.render),t.toDataURL=c.bind(null,o.renderToDataURL),t.toString=c.bind(null,(function(e,t,n){return i.render(e,n)}))},1487:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(6),l=n.n(c),u=n(69),s=n(59),f=n(979),d="badgelite-module_memberBadgeLiteTextAlibaba_eY+40",m="badgelite-module_memberBadgeLiteContainer_1caED",p="badgelite-module_memberBadgeLiteText_2xxqK",h="badgelite-module_memberBadgeLiteNomeContainer_9AJD2",y="badgelite-module_memberBadgeLiteGroupContainer_6-b6V",v="badgelite-module_memberBadgeLiteH5Container_ituBE";function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function w(e,t,n){return t=O(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,n||[],O(e).constructor):t.apply(e,n))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,t,[e])).state={user:n.props.user},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.useMobile,r=void 0!==n&&n,o=e.className,i=void 0===o?"":o,c=window.appData,b=c.isYuque,g=c.organization,_=this.state.user,w=_.memberLevelName,E=_.member_level;if(!b)return r?null:a.a.createElement("a",{href:u.LINKS.INTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement("p",{className:h,"data-testid":"badge-lite"},a.a.createElement(s.b,{name:"member-big-level1-alibaba",width:24,height:28}),a.a.createElement("span",{className:d},__("语雀会员"))));if(!_.isPaid||g)return null;var O=f.a.isGroupOrPublication(_);if(t||r){var x=l()(v,i),S="icon-member-level-".concat(E);return a.a.createElement("span",{className:x,"data-testid":"badge-lite"},a.a.createElement("a",{href:O?u.LINKS.EXTERNAL_GROUP_INTRO_LINK:u.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:O?"member-level1":S,height:22,width:23})))}if(O){var j=l()(y,i);return a.a.createElement("span",{className:j,"data-testid":"badge-lite"},a.a.createElement("a",{href:u.LINKS.EXTERNAL_GROUP_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:"member-big-level1",width:24,height:28}),a.a.createElement("span",{className:p},__("高级版团队"))))}var N=l()(m,i),A="icon-member-level-".concat(E);return a.a.createElement("div",{className:N,"data-testid":"badge-lite"},a.a.createElement("a",{href:u.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:A,width:24,height:28}),a.a.createElement("span",{className:p},w)))}}])&&g(n.prototype,r),o&&g(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(r.Component);S.propTypes={user:i.a.object,isMobile:i.a.bool,useMobile:i.a.bool,className:i.a.string};t.a=S},1488:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-arrow-left",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M154.995 58.157c3.834 3.834 3.904 10.007.21 13.927l-.21.215-48.99 48.99c-3.834 3.834-3.904 10.007-.21 13.927l.21.215 48.99 48.99c3.905 3.905 3.905 10.237 0 14.142-3.834 3.834-10.008 3.904-13.927.21l-.215-.21-48.99-48.99c-11.599-11.599-11.715-30.331-.348-42.073l.348-.353 48.99-48.99c3.905-3.905 10.237-3.905 14.142 0Z",fill:"currentColor",fillRule:"nonzero"}))},1489:function(e,t,n){"use strict";var r=n(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t,n=e.initValue,o=e.totalAmount,i=e.setPromoCode,c=e.afterVerifySuccess,l=a(Object(r.useState)(n),2),u=l[0],s=l[1];u&&(t=(t=o-u>1?o-u:1).toFixed(2));return{totalAmountWithPromo:t,onVerifySuccess:function(e){s(e&&e.amount),c&&c()},handlePromoChange:function(e){i(e),u&&s(0)}}}},1490:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(170);var r=n(70),a=n(0),o=n.n(a),i=n(6),c=n.n(i),l=n(1251),u=n(33),s="index-module_offlineButton_XZkWh",f="index-module_disabledStyle_MeBOz",d=function(e){var t=e.children,n=e.buttonClassName,a=e.tooltipPlacement,i=void 0===a?"bottom":a,d=Object(l.b)();return t?!d&&u.c?o.a.createElement(r.a,{title:__("离线状态该功能不可用"),placement:i,autoAdjustOverflow:!0},o.a.createElement("div",{className:c()(n,s)},o.a.createElement("div",{className:f},t))):o.a.createElement("div",{className:n},t):null}},1491:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-check",e.className].filter(Boolean).join(" ")}),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M210.827 55.428c3.906-3.905 10.237-3.905 14.143 0 3.834 3.834 3.904 10.007.209 13.927l-.21.215-124 124c-3.834 3.834-10.007 3.904-13.926.21l-.216-.21-55.708-55.708c-3.905-3.905-3.905-10.237 0-14.142 3.834-3.835 10.008-3.904 13.927-.21l.215.21 48.637 48.636 116.93-116.928Z",fill:"currentColor",fillRule:"nonzero"}),r.createElement("path",{d:"M0 0h256v256H0z"})))},1492:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-add",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128 28c5.523 0 10 4.477 10 10v80h80c5.523 0 10 4.477 10 10s-4.477 10-10 10h-80v80c0 5.523-4.477 10-10 10s-10-4.477-10-10v-80H38c-5.523 0-10-4.477-10-10s4.477-10 10-10h80V38c0-5.523 4.477-10 10-10Z",fill:"currentColor",fillRule:"evenodd"}))},1493:function(e,t,n){"use strict";n(905);var r=n(542),a=n(0),o=n.n(a),i=n(4),c=n.n(i),l=n(48),u=n(403),s=n(1251),f=(n(1261),n(1033)),d=n(345),m=n(59),p=n(1487),h=n(1691),y=n(1490),v=n(1692),b=n(433),g={userCard:"index-module_userCard_NOTbr",body:"index-module_body_20bgh",avatar:"index-module_avatar_OBHFJ",userInfos:"index-module_userInfos_B16Pa",nameContainer:"index-module_nameContainer_elI96",name:"index-module_name_QeZm4",dingtalk:"index-module_dingtalk_kYXBj",badge:"index-module_badge_lsJBP",dingding:"index-module_dingding_l7pi0",infoWithBg:"index-module_infoWithBg_JGcdP",signature:"index-module_signature_aQ+Wz",infoList:"index-module_infoList_Y58li",infoItem:"index-module_infoItem_same7",icon:"index-module_icon_MGwU8",footer:"index-module_footer_FNHCP",follow:"index-module_follow_1HgLb",footerItem:"index-module_footerItem_H0y7j",number:"index-module_number_NahUE",userLink:"index-module_userLink_i0XYI",skeleton:"index-module_skeleton_Z4M4v",infoDetail:"index-module_infoDetail_dKXCO"};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E={mobile:"user-mobile",email:"user-email",departments:"user-department-opa",job_title:"user-job",location:"user-location"},O=function(e){var t=e.style,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,c=e.user,u=void 0===c?{}:c,s=e.profile,w=void 0===s?{}:s,O=e.loading,x=e.isInGroup,S=e.userAvatar,j=u.avatar_url,N=u.avatar,A=u.description,P=u.followers_count,k=u.following_count,T=u.name,C=u.id,L=window.appData,I=L.isYuque,M=L.isPublicCloud,R=L.organization,D=_(Object(a.useState)(),2),z=D[0],B=D[1],Y=_(Object(a.useState)(null),2),U=Y[0],F=Y[1],q=_(Object(a.useState)(null),2),G=q[0],W=q[1],V=w.dingtalk_id,H=w.orgName,K=w.role,Q=w.status,Z=w.isPublicUser,X=Q===d.organizationUser.STATUS.terminated,$=K===d.organizationUser.ROLE.outsourcer,J=R&&Z,ee=R&&(null==R?void 0:R.id);Object(a.useEffect)((function(){F("following_count"in w?w.following_count||0:k||0),W("followers_count"in w?w.followers_count||0:P||0)}),[w]);var te=function(){z||l.a.users.mobile({id:C}).then(B)},ne=function(e){return e.map((function(e){return{key:e,icon:E[e],value:w[e]}})).filter((function(e){return!!e.value}))},re=[];re=ne(I?R?["mobile","email","departments","job_title"]:["location","job_title"]:["departments","job_title"]);var ae=null;J?ae=o.a.createElement("div",{className:g.infoWithBg},__("非本空间成员")):X?ae=o.a.createElement("div",{className:g.infoWithBg},M?__("已离职"):__("已退隐江湖")):$&&(ae=o.a.createElement("div",{className:g.infoWithBg},__("外部联系人")));var oe,ie=!R&&(!X&&!$&&!J&&w.enable_home);if(ee){var ce={avatar:(oe=w).avatar||j,name:oe.orgName,description:oe.description,departments:null==oe?void 0:oe.departments,job_title:oe.job_title,location:oe.location,role:null==oe?void 0:oe.role,status:null==oe?void 0:oe.status};return o.a.createElement(v.b,{orgUser:ce,user:u,organization:R})}return o.a.createElement("div",{className:"".concat(i," ").concat(g.userCard),style:n,"data-aspm":"c39373"},o.a.createElement("div",{className:g.body},ee?o.a.createElement(b.a,{src:S||j||N,size:48,className:g.avatar,bordered:!0}):o.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser"},o.a.createElement(b.a,{src:S||j||N,size:48,className:g.avatar,bordered:!0})),o.a.createElement("div",{className:g.userInfos},o.a.createElement("div",{className:g.nameContainer},ee?o.a.createElement("span",{className:g.name},H||T):o.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser",className:g.name},H||T),V&&o.a.createElement("a",{href:"dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=".concat(V),className:g.dingtalk,"data-testid":"dingtalk","data-aspm-click":"d001","data-desktoptarget":"_browser"},o.a.createElement(m.b,{name:"dingding-filled",className:g.dingding})),o.a.createElement(p.a,{user:u,useMobile:!0,className:g.badge}),ae),o.a.createElement("div",{className:g.signature},A||""),O&&o.a.createElement("div",{className:g.skeleton},o.a.createElement(f.a,{active:!0,title:!1})),re&&re.length>0?o.a.createElement("div",{className:g.infoList,style:{marginTop:x?0:10}},re.map((function(e){return function(e){return"departments"===e.key?e.value.map((function(t,n){return o.a.createElement("div",{className:g.infoItem,key:e.key+n,"data-testid":"UserCard:departments:".concat(e.key)},o.a.createElement(m.b,{name:e.icon,width:16,className:g.icon}),o.a.createElement("span",{className:g.infoDetail},t))})):o.a.createElement("div",{className:g.infoItem,key:e.key,"data-testid":"UserCard:default:".concat(e.key)},o.a.createElement(m.b,{name:e.icon,width:16,className:g.icon}),"mobile"===e.key?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:g.infoDetail},z||e.value),!z&&o.a.createElement("a",{onClick:te},__("查看"))):o.a.createElement("span",{className:g.infoDetail},e.value))}(e)}))):null)),!!ie&&o.a.createElement("div",{className:g.footer},o.a.createElement("div",{className:g.follow},o.a.createElement("div",{className:g.footerItem},__("粉丝"),o.a.createElement("span",{className:g.number},G)),o.a.createElement("div",{className:g.footerItem},__("关注"),o.a.createElement("span",{className:g.number},U))),o.a.createElement(y.a,null,o.a.createElement(h.a,{user:u,className:g.followBtn}))))};O.propTypes={user:c.a.object.isRequired,profile:c.a.object,style:c.a.object,className:c.a.string,loading:c.a.bool,isInGroup:c.a.bool};var x=O,S=n(979),j="index-module_popover_Xyidp",N="index-module_overlay_A0ouW";function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.user,n=void 0===t?{}:t,i=e.children,c=e.style,f=void 0===c?{}:c,d=e.className,m=void 0===d?"":d,p=e.isInGroup,h=e.userAvatar,y=void 0===h?"":h,v=n&&n.id,b=A(Object(a.useState)("topLeft"),2),g=b[0],_=b[1],w=Object(a.useRef)(null),E=Object(s.b)(),O=Object(u.a)(l.a.users.profile),P=O.data,k=O.loading,T=O.request;if(null==v||S.a.isGroupOrPublication(n))return i;return window.h5?i:o.a.createElement(r.a,{placement:g,content:o.a.createElement(x,{isInGroup:p,user:n,profile:P||{},loading:k,userAvatar:y}),style:f,className:"".concat(m," ").concat(j),overlayClassName:N,mouseEnterDelay:.3},o.a.createElement("span",{onMouseOver:function(){var e=w&&w.current.getBoundingClientRect().top;_(e<240?"bottomLeft":"topLeft"),P||k||!E||T({id:v})},ref:w,"data-testid":"content",style:{cursor:"pointer"}},i))};k.propTypes={user:c.a.object.isRequired,style:c.a.object,className:c.a.string,children:c.a.any,isInGroup:c.a.bool};t.a=k},1499:function(e,t,n){"use strict";n(2746);var r=n(1002);n(1501);t.a=r.a},1503:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-questioncirclefilled",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm-1 156c-6.627 0-12 5.372-12 12 0 6.627 5.373 12 12 12s12-5.373 12-12c0-6.628-5.373-12-12-12Zm1.863-109.002c-13.226-.063-23.752 5.503-30.913 14.964-5.32 7.029-8.435 15.92-8.93 23.434a9 9 0 0 0 17.94 1.448l.053-.681c.37-4.07 2.275-9.356 5.29-13.338 3.843-5.078 9.107-7.861 16.471-7.825 7.7.038 13.474 3.037 17.087 8.1 3.222 4.515 4.337 10.296 3.094 14.928l-.036.13-.076.258c-.762 2.484-2.476 4.971-7.337 10.406l-1.555 1.722-1.338 1.461-4.166 4.498c-4.197 4.559-6.91 7.783-9.328 11.28l-.515.754c-3.968 5.9-6.33 11.683-6.782 17.801a9 9 0 0 0 17.928 1.587l.043-.495c.467-5.01 4.14-10.414 13.227-20.172l4.35-4.68c.597-.646 1.104-1.197 1.546-1.683l.72-.796.84-.95.547-.639.706-.85 1.192-1.487c3.732-4.697 6.204-8.954 7.418-13.478 2.659-9.905.477-21.218-5.826-30.051-6.968-9.766-18.158-15.577-31.65-15.646Z",fill:"currentColor",fillRule:"nonzero"}))},1507:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-setting",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"m107.862 18.747-.657.12-.338.066c-6.873 1.403-12.248 6.823-13.523 13.754L90.76 46.595l-.095.043a89.598 89.598 0 0 0-14.256 8.116l-.992.701-13.428-4.751c-6.647-2.33-14.024-.428-18.668 4.823l-.601.696c-8.465 9.957-15.019 21.135-19.518 33.263l-.39 1.068-.286.825a17.223 17.223 0 0 0 5.122 18.57l10.903 9.27-.084.904a90.683 90.683 0 0 0-.34 7.871l.006 1.135a90.53 90.53 0 0 0 .334 6.757l.083.884-10.868 9.24c-5.366 4.551-7.392 11.911-5.164 18.574l.333.959a110.206 110.206 0 0 0 19.838 34.185l.438.51.245.28c4.623 5.177 11.948 7.086 18.566 4.784l13.477-4.77.117.085a89.173 89.173 0 0 0 14.174 8.3l1.056.485 2.585 13.916c1.294 7.033 6.834 12.52 13.877 13.806l.592.109a111.934 111.934 0 0 0 39.578.008l.654-.12.355-.07c6.856-1.399 12.231-6.82 13.506-13.75l2.559-13.801.124-.055a89.147 89.147 0 0 0 15.264-8.782l.116-.086 13.29 4.707c6.649 2.33 14.026.427 18.67-4.823l.6-.696c8.466-9.957 15.02-21.135 19.519-33.263l.39-1.068.268-.77c2.272-6.626.238-13.996-5.104-18.58l-10.721-9.129.098-1.03c.231-2.632.348-5.273.348-7.908l-.007-1.13a90.43 90.43 0 0 0-.341-6.78l-.098-1.03 10.692-9.104c5.36-4.546 7.386-11.906 5.159-18.569l-.331-.953a109.95 109.95 0 0 0-19.84-34.191l-.439-.51-.245-.28c-4.622-5.177-11.948-7.086-18.565-4.784l-13.351 4.726-.137-.098a89.752 89.752 0 0 0-14.254-8.32l-1.105-.505-2.562-13.816c-1.294-7.036-6.834-12.524-13.877-13.809l-.593-.109c-13.008-2.338-26.61-2.338-39.574-.008Zm34.054 19.358.677.11 4.234 22.829 5.296 1.982a69.844 69.844 0 0 1 19.748 11.366l4.359 3.56 21.917-7.761.493.597a89.82 89.82 0 0 1 14.255 24.58l.239.634-17.649 15.029.913 5.57a70.76 70.76 0 0 1 .932 11.416c0 3.807-.314 7.64-.932 11.414l-.913 5.571 17.635 15.017-.223.593a90.385 90.385 0 0 1-14.29 24.623l-.462.561-21.928-7.764-4.361 3.577a69.308 69.308 0 0 1-19.733 11.353l-5.296 1.982-4.235 22.83-.9.145a92.146 92.146 0 0 1-14.066 1.08l-1.087-.006a92.191 92.191 0 0 1-13.001-1.08l-.88-.141-4.256-22.917-5.292-1.982c-7.057-2.643-13.646-6.453-19.583-11.314l-4.36-3.57-22.062 7.808-.453-.55a90.097 90.097 0 0 1-14.315-24.686l-.218-.574 17.843-15.172-.93-5.59a68.609 68.609 0 0 1-.905-11.231c0-3.815.303-7.595.907-11.24l.924-5.585L42.119 96l.238-.624a90.385 90.385 0 0 1 14.29-24.623l.461-.562 22.06 7.808 4.36-3.57a69.726 69.726 0 0 1 19.605-11.323l5.273-1.989 4.254-22.903.715-.115a92.841 92.841 0 0 1 28.542.006h-.001ZM128 90c-20.987 0-38 17.013-38 38s17.013 38 38 38 38-17.013 38-38-17.013-38-38-38Zm0 20c9.941 0 18 8.059 18 18s-8.059 18-18 18-18-8.059-18-18 8.059-18 18-18Z",fill:"currentColor",fillRule:"nonzero"}))},1520:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=n(15),i=n(20),c=i.ORDER_TYPE,l=i.PRICE_STAGES,u=i.PAYMENT_TYPE,s=n(69).MEMBER_RULE,f=n(93);function d(e){var t=f.TRANSITION_DEADLINE,n=f.OLD_ORGANIZATION_DEADLINE,r=o().isBefore(t),a=o(e).isBefore(n);return r&&a}e.exports=function(e){var t=e.order_type,n=e.member_size,r=void 0===n?e.max_member:n,a=e.duration,i=e.upload_size,u=e.expired_at,s=e.created_at,m=e.max_member,p=e.enableDiscount,h=void 0===p||p,y=f.ORG_UPLOAD_SIZE_MAP,v=f.OLD_ORGANIZATION_DEADLINE;if(t===c.data){var b=Object.values(y).find((function(e){return e.value===i}));if(b)return b.price}var g,_=o(s).isBefore(v),w=o(s).endOf("day").add(_?90:30,"day"),E=o().isAfter(w)?o():w;u?(g=o(u).diff(E,"day"))<0&&(g=0):g=0;var O=0,x=0;if(h&&d(s))O=12*r,x=12*m;else{var S=l.find((function(e){return e.member===r}));if(!S)return null;O=S.price;var j=l.find((function(e){return e.member===m}));if(!j)return null;x=j.price}var N=(O-x)*g/365;switch(N<0&&(N=0),t){case c.upgrade:case c.buy:return(O*a).toFixed(2);case c.renew:return(O*a+N).toFixed(2);case c.buyMember:return Math.max(N,.01).toFixed(2);default:return}},e.exports.hasDiscount=d,e.exports.getCostDetail=function(e,t,n,r,a,i){var c,u,s,d,m,p=f.OLD_ORGANIZATION_DEADLINE,h=o(e).isBefore(p),y=o(e).endOf("day").add(h?90:30,"day"),v=o().isAfter(y)?o():y;t?(c=o(t).diff(v,"day"))<0&&(c=0):c=0;var b=(l.find((function(e){return e.member===n}))||{}).price,g=(l.find((function(e){return e.member===r}))||{}).price;return b&&g?(i?(u=12*n*a,s=(12*(n-r)*c/365).toFixed(2),d=b*a,m=((b-g)*c/365).toFixed(2)):(u=b*a,s=((b-g)*c/365).toFixed(2)),{renewAmount:u,upgradeAmount:s,rawRenewAmount:d,rawUpgradeAmount:m}):{}},e.exports.getOrganizationMemberStage=function(e){var t={};if(e=e||0){var n,a=r(l);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(t=o,e<=o.member)break}}catch(e){a.e(e)}finally{a.f()}}return t.member||s.Organization[u.free].max_member},e.exports.mergeGroupExpiredAtToOrganization=function(e,t){if(e){var n=o(e);return t&&o(t).isAfter(o())&&(n=o(t).add(o(e).diff(o()),"milliseconds")),n}}},1641:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-meh",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 20c-50.81 0-92 41.19-92 92s41.19 92 92 92 92-41.19 92-92-41.19-92-92-92Zm17 115c5.523 0 10 4.477 10 10s-4.477 10-10 10h-34c-5.523 0-10-4.477-10-10s4.477-10 10-10h34ZM96 96c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12Zm64 0c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12Z",fill:"currentColor",fillRule:"nonzero"}))},1683:function(e,t,n){"use strict";var r={number:function(e){return"number"!=typeof(e=Number(e))||e<1e3?e:"".concat((e/1e3).toFixed(1),"K")},maxNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return"number"!=typeof e||e<=t?e:"".concat(t,"+")}};t.a=r},1691:function(e,t,n){"use strict";n(36);var r=n(8),a=(n(43),n(10)),o=n(0),i=n.n(o),c=n(4),l=n.n(c),u=n(48),s=n(550),f=n(1683),d="index-module_count_pDHQn";function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(){p=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",y="executing",v="completed",b={};function g(){}function _(){}function w(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(E=x);var S=w.prototype=g.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==m(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?v:h,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(m(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function h(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=y(Object(o.useState)(!1),2),n=t[0],c=t[1],l=y(Object(o.useState)(!1),2),m=l[0],v=l[1],b=e.me,g=e.user,_=e.onStatusChange,w=e.isPrimary,E=e.size,O=e.showCount,x=g.meta&&g.meta.is_followed,S=y(Object(o.useState)(null==g?void 0:g.followers_count),1)[0],j=function(){var e,t=(e=p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,u.a.actions.findOne({target_type:"User",target_id:t,action_type:"follow"},{ignoreGlobalMessage:!0});case 3:return n=e.sent,v(!1),e.abrupt("return",Boolean(n.actioned));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,c,"next",e)}function c(e){h(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(Object(o.useEffect)((function(){void 0===e.isFollowing?j(g.id).then(c):c(e.isFollowing)}),[e.isFollowing,g.id]),b.id===g.id)return null;var N=__("关注");return n&&(N=x?__("互相关注"):__("已关注")),i.a.createElement(r.a,{className:"btn-follow",type:!n&&w?"primary":"",disabled:m,onClick:function(){var e=n?"destroy":"create";v(!0),Object(s.a)("c62147",{action:e}),u.a.actions[e]({target_type:"User",target_id:g.id,action_type:"follow"}).then((function(){v(!1),a.a.success(n?__("已取消关注"):__("关注成功")),c(!n),_&&_(g.id,!n)})).catch((function(e){v(!1)}))},size:window.h5||"small"===E?"small":"default",style:e.style},i.a.createElement("span",null,N),O&&S>0&&i.a.createElement("span",{className:d},f.a.number(S)))};b.defaultProps={me:window.appData.me,showCount:!1},b.propTypes={me:l.a.object,size:l.a.string,user:l.a.object,onStatusChange:l.a.func,isFollowing:l.a.bool,showCount:l.a.bool};t.a=b},1692:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g}));var r=n(0),a=n.n(r),o=n(6),i=n.n(o),c=n(55),l=n.n(c),u=n(30),s=n(1353),f=n(88),d=n(433),m=n(59),p={departmentInfo:"OrgUserInfo-module_departmentInfo_3udmp",cardHeader:"OrgUserInfo-module_cardHeader_502Md",details:"OrgUserInfo-module_details_hR4Nc",job:"OrgUserInfo-module_job_erqLq",location:"OrgUserInfo-module_location_9-cQz",icon:"OrgUserInfo-module_icon_okrek",fullWidth:"OrgUserInfo-module_fullWidth_zv0Qo",department:"OrgUserInfo-module_department_MJvg6",departmentName:"OrgUserInfo-module_departmentName_fuR97",h5:"OrgUserInfo-module_h5_M+nrk",divider:"OrgUserInfo-module_divider_igZMz",orgUserInfoCard:"OrgUserInfo-module_orgUserInfoCard_7n-Or",headerInfo:"OrgUserInfo-module_headerInfo_5B731",avatar:"OrgUserInfo-module_avatar_iMqQ+",wrapper:"OrgUserInfo-module_wrapper_cpsZr",nameWrapper:"OrgUserInfo-module_nameWrapper_u01vS",name:"OrgUserInfo-module_name_9rYrf",tag:"OrgUserInfo-module_tag_dWOJO",description:"OrgUserInfo-module_description_4Q94H"};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=l()("OrgUserInfo"),b=function(e){var t,n=e.organization,r=e.orgUser,o=e.className,c=window.h5,l=null==r?void 0:r.job_title,u=null==r?void 0:r.location;return a.a.createElement("div",{className:i()(p.departmentInfo,o)},null==r||null===(t=r.departments)||void 0===t?void 0:t.map((function(e,t){return a.a.createElement("div",{className:p.department,key:t},a.a.createElement(s.g,{className:p.orgAvatar,organization:n,size:20}),a.a.createElement(s.c,{organization:n,department:e,className:i()(p.departmentName,y({},p.h5,c))}))})),a.a.createElement("div",{className:p.divider}),a.a.createElement("div",{className:p.details},a.a.createElement("div",{className:i()(p.job,y({},p.fullWidth,!c))},a.a.createElement(m.b,{name:"user-job",className:p.icon,size:16}),a.a.createElement("span",null,l||__("暂无职位信息"))),a.a.createElement("div",{className:i()(p.location,y({},p.fullWidth,!c))},a.a.createElement(m.b,{name:"user-location",className:p.icon,size:16}),a.a.createElement("span",null,u||__("暂无地址信息")))))},g=function(e){var t=e.orgUser,n=e.user,r=e.className,o=null==t?void 0:t.departments,c=null==t?void 0:t.job_title,l=null==t?void 0:t.location,s=(null==o?void 0:o.length)||c||l,h=t.status===f.STATUS.terminated,y=t.role===f.ROLE.outsourcer,b=h?__("已离职"):y?__("外部联系人"):"";return v("orgUser %o",t),v("tag %s",b),a.a.createElement("div",{className:i()(p.orgUserInfoCard,r)},a.a.createElement("div",{className:p.headerInfo},a.a.createElement(u.Link,{to:"/".concat(null==n?void 0:n.login),target:"_blank"},a.a.createElement(d.a,{size:44,src:null==t?void 0:t.avatar,className:p.avatar})),a.a.createElement("div",{className:p.wrapper},a.a.createElement(u.Link,{to:"/".concat(null==n?void 0:n.login),target:"_blank"},a.a.createElement("div",{className:p.nameWrapper},a.a.createElement("span",{className:p.name},null==t?void 0:t.name),b&&a.a.createElement("span",{className:p.tag},b))),(null==t?void 0:t.description)&&a.a.createElement("div",{className:p.description},null==t?void 0:t.description))),s&&a.a.createElement("div",{className:p.details},a.a.createElement("div",{className:p.divider}),(null==o?void 0:o.length)&&(null==o?void 0:o.map((function(e,t){return a.a.createElement("div",{className:p.department,key:t},a.a.createElement(m.b,{name:"line-framework",className:p.icon,size:16}),a.a.createElement("span",{title:e,className:r},e))}))),c&&a.a.createElement("div",{className:p.job},a.a.createElement(m.b,{name:"user-job",className:p.icon,size:16}),a.a.createElement("span",null,c)),l&&a.a.createElement("div",{className:p.location},a.a.createElement(m.b,{name:"user-location",className:p.icon,size:16}),a.a.createElement("span",null,l))))}},171:function(e,t,n){"use strict";n(2710);var r=n(995);n(343);t.a=r.a},1762:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1763:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},1764:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},225:function(e,t,n){"use strict";n(1374);var r=n(486);n(689);t.a=r.a},2731:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},2733:function(e,t,n){"use strict";var r=n(2),a=n(7),o=n(29),i=n(0),c=n(80),l=n(226),u=(n(41),n(86)),s=i.createContext(null),f=n(22),d=n(156),m=[];var p=n(228),h=n(401);var y="rc-util-locker-".concat(Date.now()),v=0;function b(e){var t=!!e,n=i.useState((function(){return v+=1,"".concat(y,"_").concat(v)})),r=Object(a.a)(n,1)[0];Object(d.a)((function(){if(t){var e=Object(h.b)(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Object(p.b)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else Object(p.a)(r);return function(){Object(p.a)(r)}}),[t,r])}var g=!1;var _=function(e){return!1!==e&&(Object(l.a)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)};var w=i.forwardRef((function(e,t){var n=e.open,r=e.autoLock,o=e.getContainer,p=(e.debug,e.autoDestroy),h=void 0===p||p,y=e.children,v=i.useState(n),w=Object(a.a)(v,2),E=w[0],O=w[1],x=E||n;i.useEffect((function(){(h||n)&&O(n)}),[n,h]);var S=i.useState((function(){return _(o)})),j=Object(a.a)(S,2),N=j[0],A=j[1];i.useEffect((function(){var e=_(o);A(null!=e?e:null)}));var P=function(e,t){var n=i.useState((function(){return Object(l.a)()?document.createElement("div"):null})),r=Object(a.a)(n,1)[0],o=i.useRef(!1),c=i.useContext(s),u=i.useState(m),p=Object(a.a)(u,2),h=p[0],y=p[1],v=c||(o.current?void 0:function(e){y((function(t){return[e].concat(Object(f.a)(t))}))});function b(){r.parentElement||document.body.appendChild(r),o.current=!0}function g(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),o.current=!1}return Object(d.a)((function(){return e?c?c(b):b():g(),g}),[e]),Object(d.a)((function(){h.length&&(h.forEach((function(e){return e()})),y(m))}),[h]),[r,v]}(x&&!N),k=Object(a.a)(P,2),T=k[0],C=k[1],L=null!=N?N:T;b(r&&n&&Object(l.a)()&&(L===T||L===document.body));var I=null;y&&Object(u.c)(y)&&t&&(I=y.ref);var M=Object(u.d)(I,t);if(!x||!Object(l.a)()||void 0===N)return null;var R,D=!1===L||("boolean"==typeof R&&(g=R),g),z=y;return t&&(z=i.cloneElement(y,{ref:M})),i.createElement(s.Provider,{value:C},D?z:Object(c.createPortal)(z,L))})),E=n(6),O=n.n(E),x=n(188),S=n(348),j=n(1040),N=n(312),A=n(2732),P=n(675),k=n(5),T=n(123);function C(e){var t=e.prefixCls,n=e.align,r=e.arrow,a=e.arrowPos,o=r||{},c=o.className,l=o.content,u=a.x,s=void 0===u?0:u,f=a.y,d=void 0===f?0:f,m=i.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var h=n.points[0],y=n.points[1],v=h[0],b=h[1],g=y[0],_=y[1];v!==g&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=d,b!==_&&["l","r"].includes(b)?"l"===b?p.left=0:p.right=0:p.left=s}return i.createElement("div",{ref:m,className:O()("".concat(t,"-arrow"),c),style:p},l)}function L(e){var t=e.prefixCls,n=e.open,r=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(T.default,Object(k.a)({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return i.createElement("div",{style:{zIndex:r},className:O()("".concat(t,"-mask"),n)})})):null}var I=i.memo((function(e){return e.children}),(function(e,t){return t.cache}));var M=i.forwardRef((function(e,t){var n=e.popup,o=e.className,c=e.prefixCls,l=e.style,s=e.target,f=e.onVisibleChanged,m=e.open,p=e.keepDom,h=e.fresh,y=e.onClick,v=e.mask,b=e.arrow,g=e.arrowPos,_=e.align,w=e.motion,E=e.maskMotion,S=e.forceRender,j=e.getPopupContainer,N=e.autoDestroy,A=e.portal,P=e.zIndex,M=e.onMouseEnter,R=e.onMouseLeave,D=e.onPointerEnter,z=e.ready,B=e.offsetX,Y=e.offsetY,U=e.offsetR,F=e.offsetB,q=e.onAlign,G=e.onPrepare,W=e.stretch,V=e.targetWidth,H=e.targetHeight,K="function"==typeof n?n():n,Q=m||p,Z=(null==j?void 0:j.length)>0,X=i.useState(!j||!Z),$=Object(a.a)(X,2),J=$[0],ee=$[1];if(Object(d.a)((function(){!J&&Z&&s&&ee(!0)}),[J,Z,s]),!J)return null;var te="auto",ne={left:"-1000vw",top:"-1000vh",right:te,bottom:te};if(z||!m){var re,ae=_.points,oe=_.dynamicInset||(null===(re=_._experimental)||void 0===re?void 0:re.dynamicInset),ie=oe&&"r"===ae[0][1],ce=oe&&"b"===ae[0][0];ie?(ne.right=U,ne.left=te):(ne.left=B,ne.right=te),ce?(ne.bottom=F,ne.top=te):(ne.top=Y,ne.bottom=te)}var le={};return W&&(W.includes("height")&&H?le.height=H:W.includes("minHeight")&&H&&(le.minHeight=H),W.includes("width")&&V?le.width=V:W.includes("minWidth")&&V&&(le.minWidth=V)),m||(le.pointerEvents="none"),i.createElement(A,{open:S||Q,getContainer:j&&function(){return j(s)},autoDestroy:N},i.createElement(L,{prefixCls:c,open:m,zIndex:P,mask:v,motion:E}),i.createElement(x.a,{onResize:q,disabled:!m},(function(e){return i.createElement(T.default,Object(k.a)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:S,leavedClassName:"".concat(c,"-hidden")},w,{onAppearPrepare:G,onEnterPrepare:G,visible:m,onVisibleChanged:function(e){var t;null==w||null===(t=w.onVisibleChanged)||void 0===t||t.call(w,e),f(e)}}),(function(n,a){var s=n.className,f=n.style,d=O()(c,s,o);return i.createElement("div",{ref:Object(u.a)(e,t,a),className:d,style:Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},ne),le),f),{},{boxSizing:"border-box",zIndex:P},l),onMouseEnter:M,onMouseLeave:R,onPointerEnter:D,onClick:y},b&&i.createElement(C,{prefixCls:c,arrow:b,arrowPos:g,align:_}),i.createElement(I,{cache:!m&&!h},K))}))})))}));var R=i.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=Object(u.c)(n),o=i.useCallback((function(e){Object(u.b)(t,r?r(e):e)}),[r]),c=Object(u.d)(o,n.ref);return a?i.cloneElement(n,{ref:c}):n})),D=i.createContext(null);function z(e){return e?Array.isArray(e)?e:[e]:[]}var B=n(516);function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function U(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function F(e){return e.ownerDocument.defaultView}function q(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=F(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function W(e){return G(parseFloat(e),0)}function V(e,t){var n=Object(r.a)({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=F(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,o=t.borderTopWidth,i=t.borderBottomWidth,c=t.borderLeftWidth,l=t.borderRightWidth,u=e.getBoundingClientRect(),s=e.offsetHeight,f=e.clientHeight,d=e.offsetWidth,m=e.clientWidth,p=W(o),h=W(i),y=W(c),v=W(l),b=G(Math.round(u.width/d*1e3)/1e3),g=G(Math.round(u.height/s*1e3)/1e3),_=(d-m-y-v)*b,w=(s-f-p-h)*g,E=p*g,O=h*g,x=y*b,S=v*b,j=0,N=0;if("clip"===r){var A=W(a);j=A*b,N=A*g}var P=u.x+x-j,k=u.y+E-N,T=P+u.width+2*j-x-S-_,C=k+u.height+2*N-E-O-w;n.left=Math.max(n.left,P),n.top=Math.max(n.top,k),n.right=Math.min(n.right,T),n.bottom=Math.min(n.bottom,C)}})),n}function H(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function K(e,t){var n=t||[],r=Object(a.a)(n,2),o=r[0],i=r[1];return[H(e.width,o),H(e.height,i)]}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Z(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function X(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var $=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=i.forwardRef((function(t,n){var c=t.prefixCls,l=void 0===c?"rc-trigger-popup":c,u=t.children,s=t.action,m=void 0===s?"hover":s,p=t.showAction,h=t.hideAction,y=t.popupVisible,v=t.defaultPopupVisible,b=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,_=t.mouseEnterDelay,w=t.mouseLeaveDelay,E=void 0===w?.1:w,k=t.focusDelay,T=t.blurDelay,C=t.mask,L=t.maskClosable,I=void 0===L||L,W=t.getPopupContainer,H=t.forceRender,J=t.autoDestroy,ee=t.destroyPopupOnHide,te=t.popup,ne=t.popupClassName,re=t.popupStyle,ae=t.popupPlacement,oe=t.builtinPlacements,ie=void 0===oe?{}:oe,ce=t.popupAlign,le=t.zIndex,ue=t.stretch,se=t.getPopupClassNameFromAlign,fe=t.fresh,de=t.alignPoint,me=t.onPopupClick,pe=t.onPopupAlign,he=t.arrow,ye=t.popupMotion,ve=t.maskMotion,be=t.popupTransitionName,ge=t.popupAnimation,_e=t.maskTransitionName,we=t.maskAnimation,Ee=t.className,Oe=t.getTriggerDOMNode,xe=Object(o.a)(t,$),Se=J||ee||!1,je=i.useState(!1),Ne=Object(a.a)(je,2),Ae=Ne[0],Pe=Ne[1];Object(d.a)((function(){Pe(Object(P.a)())}),[]);var ke=i.useRef({}),Te=i.useContext(D),Ce=i.useMemo((function(){return{registerSubPopup:function(e,t){ke.current[e]=t,null==Te||Te.registerSubPopup(e,t)}}}),[Te]),Le=Object(A.a)(),Ie=i.useState(null),Me=Object(a.a)(Ie,2),Re=Me[0],De=Me[1],ze=i.useRef(null),Be=Object(N.a)((function(e){ze.current=e,Object(S.b)(e)&&Re!==e&&De(e),null==Te||Te.registerSubPopup(Le,e)})),Ye=i.useState(null),Ue=Object(a.a)(Ye,2),Fe=Ue[0],qe=Ue[1],Ge=i.useRef(null),We=Object(N.a)((function(e){Object(S.b)(e)&&Fe!==e&&(qe(e),Ge.current=e)})),Ve=i.Children.only(u),He=(null==Ve?void 0:Ve.props)||{},Ke={},Qe=function(e,t){var n,r;return e===t||t.contains(e)||(null===(n=Object(j.a)(t))||void 0===n?void 0:n.host)===e||t.contains(null===(r=Object(j.a)(e))||void 0===r?void 0:r.host)},Ze=Object(N.a)((function(e){var t=Fe,n=Qe.bind(null,e);return n(t)||n(Re)||Object.values(ke.current).some(n)})),Xe=U(l,ye,ge,be),$e=U(l,ve,we,_e),Je=i.useState(v||!1),et=Object(a.a)(Je,2),tt=et[0],nt=et[1],rt=null!=y?y:tt,at=Object(N.a)((function(e){void 0===y&&nt(e)}));Object(d.a)((function(){nt(y||!1)}),[y]);var ot=i.useRef(rt);ot.current=rt;var it=i.useRef([]);it.current=[];var ct=Object(N.a)((function(e){var t;at(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:rt)!==e&&(it.current.push(e),null==b||b(e))})),lt=i.useRef(),ut=function(){clearTimeout(lt.current)},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ut(),0===t?ct(e):lt.current=setTimeout((function(){ct(e)}),1e3*t)};i.useEffect((function(){return ut}),[]);var ft=i.useState(!1),dt=Object(a.a)(ft,2),mt=dt[0],pt=dt[1];Object(d.a)((function(e){e&&!rt||pt(!0)}),[rt]);var ht=i.useState(null),yt=Object(a.a)(ht,2),vt=yt[0],bt=yt[1],gt=i.useState(null),_t=Object(a.a)(gt,2),wt=_t[0],Et=_t[1],Ot=function(e){Et([e.clientX,e.clientY])},xt=function(e,t,n,o,c,l,u){var s=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:c[o]||{}}),f=Object(a.a)(s,2),m=f[0],p=f[1],h=i.useRef(0),y=i.useMemo((function(){return t?q(t):[]}),[t]),v=i.useRef({});e||(v.current={});var b=Object(N.a)((function(){if(t&&n&&e){var i,s,f,d,m,h=t,b=h.ownerDocument,g=F(h).getComputedStyle(h),_=g.width,w=g.height,E=g.position,O=h.style.left,x=h.style.top,j=h.style.right,N=h.style.bottom,A=h.style.overflow,P=Object(r.a)(Object(r.a)({},c[o]),l),k=b.createElement("div");if(null===(i=h.parentElement)||void 0===i||i.appendChild(k),k.style.left="".concat(h.offsetLeft,"px"),k.style.top="".concat(h.offsetTop,"px"),k.style.position=E,k.style.height="".concat(h.offsetHeight,"px"),k.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden",Array.isArray(n))m={x:n[0],y:n[1],width:0,height:0};else{var T,C,L=n.getBoundingClientRect();L.x=null!==(T=L.x)&&void 0!==T?T:L.left,L.y=null!==(C=L.y)&&void 0!==C?C:L.top,m={x:L.x,y:L.y,width:L.width,height:L.height}}var I=h.getBoundingClientRect();I.x=null!==(s=I.x)&&void 0!==s?s:I.left,I.y=null!==(f=I.y)&&void 0!==f?f:I.top;var M=b.documentElement,R=M.clientWidth,D=M.clientHeight,z=M.scrollWidth,Y=M.scrollHeight,U=M.scrollTop,q=M.scrollLeft,W=I.height,H=I.width,$=m.height,J=m.width,ee={left:0,top:0,right:R,bottom:D},te={left:-q,top:-U,right:z-q,bottom:Y-U},ne=P.htmlRegion,re="visible",ae="visibleFirst";"scroll"!==ne&&ne!==ae&&(ne=re);var oe=ne===ae,ie=V(te,y),ce=V(ee,y),le=ne===re?ce:ie,ue=oe?ce:le;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var se=h.getBoundingClientRect();h.style.left=O,h.style.top=x,h.style.right=j,h.style.bottom=N,h.style.overflow=A,null===(d=h.parentElement)||void 0===d||d.removeChild(k);var fe=G(Math.round(H/parseFloat(_)*1e3)/1e3),de=G(Math.round(W/parseFloat(w)*1e3)/1e3);if(0===fe||0===de||Object(S.b)(n)&&!Object(B.a)(n))return;var me=P.offset,pe=P.targetOffset,he=K(I,me),ye=Object(a.a)(he,2),ve=ye[0],be=ye[1],ge=K(m,pe),_e=Object(a.a)(ge,2),we=_e[0],Ee=_e[1];m.x-=we,m.y-=Ee;var Oe=P.points||[],xe=Object(a.a)(Oe,2),Se=xe[0],je=Q(xe[1]),Ne=Q(Se),Ae=Z(m,je),Pe=Z(I,Ne),ke=Object(r.a)({},P),Te=Ae.x-Pe.x+ve,Ce=Ae.y-Pe.y+be;function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le,r=I.x+e,a=I.y+t,o=r+H,i=a+W,c=Math.max(r,n.left),l=Math.max(a,n.top),u=Math.min(o,n.right),s=Math.min(i,n.bottom);return Math.max(0,(u-c)*(s-l))}var Le,Ie,Me,Re,De=St(Te,Ce),ze=St(Te,Ce,ce),Be=Z(m,["t","l"]),Ye=Z(I,["t","l"]),Ue=Z(m,["b","r"]),Fe=Z(I,["b","r"]),qe=P.overflow||{},Ge=qe.adjustX,We=qe.adjustY,Ve=qe.shiftX,He=qe.shiftY,Ke=function(e){return"boolean"==typeof e?e:e>=0};function jt(){Le=I.y+Ce,Ie=Le+W,Me=I.x+Te,Re=Me+H}jt();var Qe=Ke(We),Ze=Ne[0]===je[0];if(Qe&&"t"===Ne[0]&&(Ie>ue.bottom||v.current.bt)){var Xe=Ce;Ze?Xe-=W-$:Xe=Be.y-Fe.y-be;var $e=St(Te,Xe),Je=St(Te,Xe,ce);$e>De||$e===De&&(!oe||Je>=ze)?(v.current.bt=!0,Ce=Xe,be=-be,ke.points=[X(Ne,0),X(je,0)]):v.current.bt=!1}if(Qe&&"b"===Ne[0]&&(Le<ue.top||v.current.tb)){var et=Ce;Ze?et+=W-$:et=Ue.y-Ye.y-be;var tt=St(Te,et),nt=St(Te,et,ce);tt>De||tt===De&&(!oe||nt>=ze)?(v.current.tb=!0,Ce=et,be=-be,ke.points=[X(Ne,0),X(je,0)]):v.current.tb=!1}var rt=Ke(Ge),at=Ne[1]===je[1];if(rt&&"l"===Ne[1]&&(Re>ue.right||v.current.rl)){var ot=Te;at?ot-=H-J:ot=Be.x-Fe.x-ve;var it=St(ot,Ce),ct=St(ot,Ce,ce);it>De||it===De&&(!oe||ct>=ze)?(v.current.rl=!0,Te=ot,ve=-ve,ke.points=[X(Ne,1),X(je,1)]):v.current.rl=!1}if(rt&&"r"===Ne[1]&&(Me<ue.left||v.current.lr)){var lt=Te;at?lt+=H-J:lt=Ue.x-Ye.x-ve;var ut=St(lt,Ce),st=St(lt,Ce,ce);ut>De||ut===De&&(!oe||st>=ze)?(v.current.lr=!0,Te=lt,ve=-ve,ke.points=[X(Ne,1),X(je,1)]):v.current.lr=!1}jt();var ft=!0===Ve?0:Ve;"number"==typeof ft&&(Me<ce.left&&(Te-=Me-ce.left-ve,m.x+J<ce.left+ft&&(Te+=m.x-ce.left+J-ft)),Re>ce.right&&(Te-=Re-ce.right-ve,m.x>ce.right-ft&&(Te+=m.x-ce.right+ft)));var dt=!0===He?0:He;"number"==typeof dt&&(Le<ce.top&&(Ce-=Le-ce.top-be,m.y+$<ce.top+dt&&(Ce+=m.y-ce.top+$-dt)),Ie>ce.bottom&&(Ce-=Ie-ce.bottom-be,m.y>ce.bottom-dt&&(Ce+=m.y-ce.bottom+dt)));var mt=I.x+Te,pt=mt+H,ht=I.y+Ce,yt=ht+W,vt=m.x,bt=vt+J,gt=m.y,_t=gt+$,wt=(Math.max(mt,vt)+Math.min(pt,bt))/2-mt,Et=(Math.max(ht,gt)+Math.min(yt,_t))/2-ht;null==u||u(t,ke);var Ot=se.right-I.x-(Te+I.width),xt=se.bottom-I.y-(Ce+I.height);1===fe&&(Te=Math.round(Te),Ot=Math.round(Ot)),1===de&&(Ce=Math.round(Ce),xt=Math.round(xt)),p({ready:!0,offsetX:Te/fe,offsetY:Ce/de,offsetR:Ot/fe,offsetB:xt/de,arrowX:wt/fe,arrowY:Et/de,scaleX:fe,scaleY:de,align:ke})}})),g=function(){p((function(e){return Object(r.a)(Object(r.a)({},e),{},{ready:!1})}))};return Object(d.a)(g,[o]),Object(d.a)((function(){e||g()}),[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&b()}))}]}(rt,Re,de&&null!==wt?wt:Fe,ae,ie,ce,pe),St=Object(a.a)(xt,11),jt=St[0],Nt=St[1],At=St[2],Pt=St[3],kt=St[4],Tt=St[5],Ct=St[6],Lt=St[7],It=St[8],Mt=St[9],Rt=St[10],Dt=function(e,t,n,r){return i.useMemo((function(){var a=z(null!=n?n:t),o=z(null!=r?r:t),i=new Set(a),c=new Set(o);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[i,c]}),[e,t,n,r])}(Ae,m,p,h),zt=Object(a.a)(Dt,2),Bt=zt[0],Yt=zt[1],Ut=Bt.has("click"),Ft=Yt.has("click")||Yt.has("contextMenu"),qt=Object(N.a)((function(){mt||Rt()}));!function(e,t,n,r,a){Object(d.a)((function(){if(e&&t&&n){var o=n,i=q(t),c=q(o),l=F(o),u=new Set([l].concat(Object(f.a)(i),Object(f.a)(c)));function s(){r(),a()}return u.forEach((function(e){e.addEventListener("scroll",s,{passive:!0})})),l.addEventListener("resize",s,{passive:!0}),r(),function(){u.forEach((function(e){e.removeEventListener("scroll",s),l.removeEventListener("resize",s)}))}}}),[e,t,n])}(rt,Fe,Re,qt,(function(){ot.current&&de&&Ft&&st(!1)})),Object(d.a)((function(){qt()}),[wt,ae]),Object(d.a)((function(){!rt||null!=ie&&ie[ae]||qt()}),[JSON.stringify(ce)]);var Gt=i.useMemo((function(){var e=function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var c,l=o[i];if(Y(null===(c=e[l])||void 0===c?void 0:c.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(ie,l,Mt,de);return O()(e,null==se?void 0:se(Mt))}),[Mt,se,ie,l,de]);i.useImperativeHandle(n,(function(){return{nativeElement:Ge.current,popupElement:ze.current,forceAlign:qt}}));var Wt=i.useState(0),Vt=Object(a.a)(Wt,2),Ht=Vt[0],Kt=Vt[1],Qt=i.useState(0),Zt=Object(a.a)(Qt,2),Xt=Zt[0],$t=Zt[1],Jt=function(){if(ue&&Fe){var e=Fe.getBoundingClientRect();Kt(e.width),$t(e.height)}};function en(e,t,n,r){Ke[e]=function(a){var o;null==r||r(a),st(t,n);for(var i=arguments.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=arguments[l];null===(o=He[e])||void 0===o||o.call.apply(o,[He,a].concat(c))}}Object(d.a)((function(){vt&&(Rt(),vt(),bt(null))}),[vt]),(Ut||Ft)&&(Ke.onClick=function(e){var t;ot.current&&Ft?st(!1):!ot.current&&Ut&&(Ot(e),st(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=He.onClick)||void 0===t||t.call.apply(t,[He,e].concat(r))}),function(e,t,n,r,a,o,c,l){var u=i.useRef(e);u.current=e,i.useEffect((function(){if(t&&r&&(!a||o)){var e=function(e){var t;u.current&&!c((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)&&l(!1)},i=F(r);i.addEventListener("mousedown",e,!0),i.addEventListener("contextmenu",e,!0);var s=Object(j.a)(n);return s&&(s.addEventListener("mousedown",e,!0),s.addEventListener("contextmenu",e,!0)),function(){i.removeEventListener("mousedown",e,!0),i.removeEventListener("contextmenu",e,!0),s&&(s.removeEventListener("mousedown",e,!0),s.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,a,o])}(rt,Ft,Fe,Re,C,I,Ze,st);var tn,nn,rn=Bt.has("hover"),an=Yt.has("hover");rn&&(en("onMouseEnter",!0,_,(function(e){Ot(e)})),en("onPointerEnter",!0,_,(function(e){Ot(e)})),tn=function(e){(rt||mt)&&null!=Re&&Re.contains(e.target)&&st(!0,_)},de&&(Ke.onMouseMove=function(e){var t;null===(t=He.onMouseMove)||void 0===t||t.call(He,e)})),an&&(en("onMouseLeave",!1,E),en("onPointerLeave",!1,E),nn=function(){st(!1,E)}),Bt.has("focus")&&en("onFocus",!0,k),Yt.has("focus")&&en("onBlur",!1,T),Bt.has("contextMenu")&&(Ke.onContextMenu=function(e){var t;ot.current&&Yt.has("contextMenu")?st(!1):(Ot(e),st(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=He.onContextMenu)||void 0===t||t.call.apply(t,[He,e].concat(r))}),Ee&&(Ke.className=O()(He.className,Ee));var on=Object(r.a)(Object(r.a)({},He),Ke),cn={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){xe[e]&&(cn[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=on[e])||void 0===t||t.call.apply(t,[on].concat(r)),xe[e].apply(xe,r)})}));var ln=i.cloneElement(Ve,Object(r.a)(Object(r.a)({},on),cn)),un={x:Tt,y:Ct},sn=he?Object(r.a)({},!0!==he?he:{}):null;return i.createElement(i.Fragment,null,i.createElement(x.a,{disabled:!rt,ref:We,onResize:function(){Jt(),qt()}},i.createElement(R,{getTriggerDOMNode:Oe},ln)),i.createElement(D.Provider,{value:Ce},i.createElement(M,{portal:e,ref:Be,prefixCls:l,popup:te,className:O()(ne,Gt),style:re,target:Fe,onMouseEnter:tn,onMouseLeave:nn,onPointerEnter:tn,zIndex:le,open:rt,keepDom:mt,fresh:fe,onClick:me,mask:C,motion:Xe,maskMotion:$e,onVisibleChanged:function(e){pt(!1),Rt(),null==g||g(e)},onPrepare:function(){return new Promise((function(e){Jt(),bt((function(){return e}))}))},forceRender:H,autoDestroy:Se,getPopupContainer:W,align:Mt,arrow:sn,arrowPos:un,ready:jt,offsetX:Nt,offsetY:At,offsetR:Pt,offsetB:kt,onAlign:qt,stretch:ue,targetWidth:Ht/Lt,targetHeight:Xt/It})))}));return t}(w)},28:function(e,t,n){"use strict";n(1397);var r=n(352);n(136);t.a=r.a},280:function(e,t,n){"use strict";var r=n(183);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},282:function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!c(u))return!1;var s=e[u],f=t[u];if(!1===(a=n?n.call(r,s,f,u):void 0)||void 0===a&&s!==f)return!1}return!0}},2847:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(56);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.startsWith("http")){var a,o,i=(window.appConfig||{}).host;null!==(a=window.appData)&&void 0!==a&&null!==(o=a.currentOrganization)&&void 0!==o&&o.host&&(i=window.appData.currentOrganization.host),i||(i=window.location.origin),e="".concat(i).concat(e)}if(null!==(t=window.YuqueDesktopJSBridge)&&void 0!==t&&t.postMessage)window.YuqueDesktopJSBridge.postMessage(r.DesktopBridgeEvents.openExternalLink,{targetUrl:e,isNewWindow:n});else if(window._electron_bridge){var c,l=null===(c=window._electron_bridge)||void 0===c?void 0:c.shell;null==l||l.openExternal(e)}}},2848:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},2849:function(e,t,n){const r=n(903),a=n(1354),o=n(2850),i=n(2851),c=n(2852),l=n(2853),u=n(2854),s=n(1480),f=n(2855),d=n(2858),m=n(2859),p=n(904),h=n(2860);function y(e,t,n){const r=e.size,a=m.getEncodedBits(t,n);let o,i;for(o=0;o<15;o++)i=1==(a>>o&1),o<6?e.set(o,8,i,!0):o<8?e.set(o+1,8,i,!0):e.set(r-15+o,8,i,!0),o<8?e.set(8,r-o-1,i,!0):o<9?e.set(8,15-o-1+1,i,!0):e.set(8,15-o-1,i,!0);e.set(r-8,8,1,!0)}function v(e,t,n){const a=new o;n.forEach((function(t){a.put(t.mode.bit,4),a.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(a)}));const i=8*(r.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=i&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const c=(i-a.getLengthInBits())/8;for(let e=0;e<c;e++)a.put(e%2?17:236,8);return function(e,t,n){const a=r.getSymbolTotalCodewords(t),o=s.getTotalCodewordsCount(t,n),i=a-o,c=s.getBlocksCount(t,n),l=a%c,u=c-l,d=Math.floor(a/c),m=Math.floor(i/c),p=m+1,h=d-m,y=new f(h);let v=0;const b=new Array(c),g=new Array(c);let _=0;const w=new Uint8Array(e.buffer);for(let e=0;e<c;e++){const t=e<u?m:p;b[e]=w.slice(v,v+t),g[e]=y.encode(b[e]),v+=t,_=Math.max(_,t)}const E=new Uint8Array(a);let O,x,S=0;for(O=0;O<_;O++)for(x=0;x<c;x++)O<b[x].length&&(E[S++]=b[x][O]);for(O=0;O<h;O++)for(x=0;x<c;x++)E[S++]=g[x][O];return E}(a,e,t)}function b(e,t,n,a){let o;if(Array.isArray(e))o=h.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=h.rawSplit(e);r=d.getBestVersionForData(t,n)}o=h.fromString(e,r||40)}}const s=d.getBestVersionForData(o,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;const f=v(t,n,o),m=r.getSymbolSize(t),p=new i(m);return function(e,t){const n=e.size,r=l.getPositions(t);for(let t=0;t<r.length;t++){const a=r[t][0],o=r[t][1];for(let t=-1;t<=7;t++)if(!(a+t<=-1||n<=a+t))for(let r=-1;r<=7;r++)o+r<=-1||n<=o+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(a+t,o+r,!0,!0):e.set(a+t,o+r,!1,!0))}}(p,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(p),function(e,t){const n=c.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],a=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,a+n,!0,!0):e.set(r+t,a+n,!1,!0)}}(p,t),y(p,n,0),t>=7&&function(e,t){const n=e.size,r=d.getEncodedBits(t);let a,o,i;for(let t=0;t<18;t++)a=Math.floor(t/3),o=t%3+n-8-3,i=1==(r>>t&1),e.set(a,o,i,!0),e.set(o,a,i,!0)}(p,t),function(e,t){const n=e.size;let r=-1,a=n-1,o=7,i=0;for(let c=n-1;c>0;c-=2)for(6===c&&c--;;){for(let n=0;n<2;n++)if(!e.isReserved(a,c-n)){let r=!1;i<t.length&&(r=1==(t[i]>>>o&1)),e.set(a,c-n,r),o--,-1===o&&(i++,o=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}(p,f),isNaN(a)&&(a=u.getBestMask(p,y.bind(null,p,n))),u.applyMask(a,p),y(p,n,a),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:a,segments:o}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,o,i=a.M;return void 0!==t&&(i=a.from(t.errorCorrectionLevel,a.M),n=d.from(t.version),o=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),b(e,n,i,o)}},2850:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},2851:function(e,t){function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,n,r){const a=e*this.size+t;this.data[a]=n,r&&(this.reservedBit[a]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=n},2852:function(e,t,n){const r=n(903).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),a=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-a;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),a=r.length;for(let e=0;e<a;e++)for(let t=0;t<a;t++)0===e&&0===t||0===e&&t===a-1||e===a-1&&0===t||n.push([r[e],r[t]]);return n}},2853:function(e,t,n){const r=n(903).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},2854:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,a=40,o=10;function i(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,a=0,o=0,i=null,c=null;for(let l=0;l<t;l++){a=o=0,i=c=null;for(let u=0;u<t;u++){let t=e.get(l,u);t===i?a++:(a>=5&&(r+=n+(a-5)),i=t,a=1),t=e.get(u,l),t===c?o++:(o>=5&&(r+=n+(o-5)),c=t,o=1)}a>=5&&(r+=n+(a-5)),o>=5&&(r+=n+(o-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let a=0;a<t-1;a++){const t=e.get(r,a)+e.get(r,a+1)+e.get(r+1,a)+e.get(r+1,a+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,o=0;for(let a=0;a<t;a++){r=o=0;for(let i=0;i<t;i++)r=r<<1&2047|e.get(a,i),i>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(i,a),i>=10&&(1488===o||93===o)&&n++}return n*a},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let a=0;a<n;a++)t.isReserved(a,r)||t.xor(a,r,i(e,a,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let a=0,o=1/0;for(let i=0;i<r;i++){n(i),t.applyMask(i,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(i,e),r<o&&(o=r,a=i)}return a}},2855:function(e,t,n){const r=n(2856);function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),a=this.degree-n.length;if(a>0){const e=new Uint8Array(this.degree);return e.set(n,a),e}return n},e.exports=a},2856:function(e,t,n){const r=n(2857);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let a=0;a<e.length;a++)for(let o=0;o<t.length;o++)n[a+o]^=r.mul(e[a],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let a=0;a<t.length;a++)n[a]^=r.mul(t[a],e);let a=0;for(;a<n.length&&0===n[a];)a++;n=n.slice(a)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let a=0;a<e;a++)n=t.mul(n,new Uint8Array([1,r.exp(a)]));return n}},2857:function(e,t){const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},2858:function(e,t,n){const r=n(903),a=n(1480),o=n(1354),i=n(904),c=n(1481),l=r.getBCHDigit(7973);function u(e,t){return i.getCharCountIndicator(e,t)+4}function s(e,t){let n=0;return e.forEach((function(e){const r=u(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=i.BYTE);const o=8*(r.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(n===i.MIXED)return o;const l=o-u(n,e);switch(n){case i.NUMERIC:return Math.floor(l/10*3);case i.ALPHANUMERIC:return Math.floor(l/11*2);case i.KANJI:return Math.floor(l/13);case i.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;const a=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(s(e,r)<=t.getCapacity(r,n,i.MIXED))return r}(e,a);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let a=1;a<=40;a++)if(n<=t.getCapacity(a,r,e))return a}(r.mode,r.getLength(),a)},t.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},2859:function(e,t,n){const r=n(903),a=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;r.getBCHDigit(o)-a>=0;)o^=1335<<r.getBCHDigit(o)-a;return 21522^(n<<10|o)}},2860:function(e,t,n){const r=n(904),a=n(2861),o=n(2862),i=n(2863),c=n(2864),l=n(1482),u=n(903),s=n(2865);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){const r=[];let a;for(;null!==(a=e.exec(n));)r.push({data:a[0],index:a.index,mode:t,length:a[0].length});return r}function m(e){const t=d(l.NUMERIC,r.NUMERIC,e),n=d(l.ALPHANUMERIC,r.ALPHANUMERIC,e);let a,o;u.isKanjiModeEnabled()?(a=d(l.BYTE,r.BYTE,e),o=d(l.KANJI,r.KANJI,e)):(a=d(l.BYTE_KANJI,r.BYTE,e),o=[]);return t.concat(n,a,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case r.NUMERIC:return a.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return c.getBitsLength(e);case r.BYTE:return i.getBitsLength(e)}}function h(e,t){let n;const l=r.getBestModeForData(e);if(n=r.from(t,l),n!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||u.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new a(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new c(e);case r.BYTE:return new i(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const a=function(e){const t=[];for(let n=0;n<e.length;n++){const a=e[n];switch(a.mode){case r.NUMERIC:t.push([a,{data:a.data,mode:r.ALPHANUMERIC,length:a.length},{data:a.data,mode:r.BYTE,length:a.length}]);break;case r.ALPHANUMERIC:t.push([a,{data:a.data,mode:r.BYTE,length:a.length}]);break;case r.KANJI:t.push([a,{data:a.data,mode:r.BYTE,length:f(a.data)}]);break;case r.BYTE:t.push([{data:a.data,mode:r.BYTE,length:f(a.data)}])}}return t}(m(e,u.isKanjiModeEnabled())),o=function(e,t){const n={},a={start:{}};let o=["start"];for(let i=0;i<e.length;i++){const c=e[i],l=[];for(let e=0;e<c.length;e++){const u=c[e],s=""+i+e;l.push(s),n[s]={node:u,lastCount:0},a[s]={};for(let e=0;e<o.length;e++){const i=o[e];n[i]&&n[i].node.mode===u.mode?(a[i][s]=p(n[i].lastCount+u.length,u.mode)-p(n[i].lastCount,u.mode),n[i].lastCount+=u.length):(n[i]&&(n[i].lastCount=u.length),a[i][s]=p(u.length,u.mode)+4+r.getCharCountIndicator(u.mode,t))}}o=l}for(let e=0;e<o.length;e++)a[o[e]].end=0;return{map:a,table:n}}(a,n),i=s.find_path(o.map,"start","end"),c=[];for(let e=1;e<i.length-1;e++)c.push(o.table[i[e]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(c))},t.rawSplit=function(e){return t.fromArray(m(e,u.isKanjiModeEnabled()))}},2861:function(e,t,n){const r=n(904);function a(e){this.mode=r.NUMERIC,this.data=e.toString()}a.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*a+1))},e.exports=a},2862:function(e,t,n){const r=n(904),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*a.indexOf(this.data[t]);n+=a.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(a.indexOf(this.data[t]),6)},e.exports=o},2863:function(e,t,n){const r=n(904);function a(e){this.mode=r.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=a},2864:function(e,t,n){const r=n(904),a=n(903);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=a.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},2865:function(e,t,n){"use strict";var r={single_source_shortest_paths:function(e,t,n){var a={},o={};o[t]=0;var i,c,l,u,s,f,d,m=r.PriorityQueue.make();for(m.push(t,0);!m.empty();)for(l in c=(i=m.pop()).value,u=i.cost,s=e[c]||{})s.hasOwnProperty(l)&&(f=u+s[l],d=o[l],(void 0===o[l]||d>f)&&(o[l]=f,m.push(l,f),a[l]=c));if(void 0!==n&&void 0===o[n]){var p=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var a=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(a,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,a={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(a[t]=n[t]);return a.queue=[],a.sorter=e.sorter||n.default_sorter,a},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},2866:function(e,t,n){const r=n(1483);t.render=function(e,t,n){let a=n,o=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),a=r.getOptions(a);const i=r.getImageWidth(e.modules.size,a),c=o.getContext("2d"),l=c.createImageData(i,i);return r.qrToImageData(l.data,e,a),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(c,o,i),c.putImageData(l,0,0),o},t.renderToDataURL=function(e,n,r){let a=r;void 0!==a||n&&n.getContext||(a=n,n=void 0),a||(a={});const o=t.render(e,n,a),i=a.type||"image/png",c=a.rendererOpts||{};return o.toDataURL(i,c.quality)}},2867:function(e,t,n){const r=n(1483);function a(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const i=r.getOptions(t),c=e.modules.size,l=e.modules.data,u=c+2*i.margin,s=i.color.light.a?"<path "+a(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+a(i.color.dark,"stroke")+' d="'+function(e,t,n){let r="",a=0,i=!1,c=0;for(let l=0;l<e.length;l++){const u=Math.floor(l%t),s=Math.floor(l/t);u||i||(i=!0),e[l]?(c++,l>0&&u>0&&e[l-1]||(r+=i?o("M",u+n,.5+s+n):o("m",a,0),a=0,i=!1),u+1<t&&e[l+1]||(r+=o("h",c),c=0)):a++}return r}(l,c,i.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+s+f+"</svg>\n";return"function"==typeof n&&n(null,m),m}},2869:function(e,t,n){var r=n(209),a=n(235),o=n(674),i=n(381);e.exports=function(e,t){if(null==e)return{};var n=r(i(e),(function(e){return[e]}));return t=a(t),o(e,n,(function(e,n){return t(e,n[0])}))}},288:function(e,t,n){"use strict";var r=n(0),a=r.createContext(null);t.a=a},308:function(e,t,n){"use strict";var r=n(15),a=n(1367),o=n(102),i=n(109),c=n(106),l=n(105),u=n(692).isPreviewableZipFiles,s=n(1365).getSizeValue,f=n(1366);r.extend(a);var d=n(69).NUMBER_SIZE;e.exports={wordCount:f,getSizeValue:s,sortByTime:function(e,t){var n=e.filter((function(e){return e[t]}));return 0===n.length?e:(n.sort((function(e,n){return new Date(n[t])-new Date(e[t])})),n.length===e.length?n:n.concat(e.filter((function(e){return!e[t]}))))},countdown:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=function(e){return e};"undefined"!=typeof window&&"function"==typeof window.__?a=window.__:this.ctx&&(a=function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.ctx.__).call.apply(e,[t.ctx].concat(r))});var o=(e=r(e).unix())-r().unix();if(!(o<0)){var i,c=r.duration(1e3*o,"milliseconds"),l=c.years(),u=c.months(),s=c.days(),f=c.hours(),d=c.minutes(),m=c.seconds();return l>0?i="".concat(l," ").concat(a("年")):u>0?i="".concat(u," ").concat(a("个月")):s>0?i="".concat(s," ").concat(a("天")):f>0?i="".concat(f," ").concat(a("小时")):d>0?i="".concat(d," ").concat(a("分")):m>0&&(i="".concat(m," ").concat(a("秒"))),n?i:{text:i,years:l,months:u,days:s,hours:f,minutes:d,seconds:m}}},getAvatarText:function(e){var t=e.codePointAt(0);if(t=String.fromCodePoint(t),!/[0-9a-zA-Z\u4e00-\u9fa5]/.test(t)){var n=e.match(/[\u4e00-\u9fa5]/);n||(n=e.match(/[0-9a-zA-Z]/)),n&&(t=n[0])}return t},isPreviewableZipFiles:u,getExtFromFileName:function(e){var t,n;if(e)return e.endsWith(".mindnode.zip")?"mindnode.zip":e.endsWith(".xmind.zip")?"xmind.zip":e.endsWith(".mpp.zip")?"mpp.zip":e.endsWith(".mmap.zip")?"mmap.zip":(/^\.[^.]+$/.test(e)?e:(n=(t=e).lastIndexOf("."))>0?t.substring(n):"").substring(1).toLowerCase()},isImage:function(e){var t=this.getExtFromFileName(e);return o.includes(".".concat(t))},isCompressedFile:function(e){var t=this.getExtFromFileName(e);return i.includes(".".concat(t))},isAudio:function(e){var t=this.getExtFromFileName(e);return c.includes(".".concat(t))},isVideo:function(e){var t=this.getExtFromFileName(e);return l.includes(".".concat(t))},isAxure:function(e){return e.endsWith(".rp")||e.endsWith(".rplib")},numberFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-cn";return"number"!=typeof e?"0":"zh-cn"===t?e<d.W?"".concat(e):"".concat(parseFloat((e/d.W).toFixed(1)),"W"):"en-us"===t?e>d.M?"".concat(parseFloat((e/d.M).toFixed(1)),"M"):e>d.K?"".concat(parseFloat((e/d.K).toFixed(1)),"K"):"".concat(e):void 0},trimAllSpace:function(e){return null==e?void 0:e.replace(/ /g,"")}}},32:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(2874),n(999)),i=n(50),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=(n(73),["children","className","transparentHead","contentType"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=f.a.forwardRef((function(e,t){var n=e.children,r=e.className,a=e.transparentHead,i=e.contentType,l=u()(e,b),s=h()("larkui-card",r,{"larkui-card-transparent-head":a,"larkui-card-with-list":"list"===i});return f.a.createElement(o.a,c()({className:s,ref:t},l),n)}));w.propTypes=_(_({},o.a.CardProps),{},{className:m.a.string,children:m.a.node,transparentHead:m.a.bool,contentType:m.a.oneOf(["list"])}),v()(w,o.a),t.a=w},3345:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(185),i=n.n(o),c=n(3716),l=n(3421),u=n(979),s=n(97),f=n(699),d=n(3619),m=n(3623),p=n(3384);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){b=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",y="completed",v={};function g(){}function _(){}function w(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(E=x);var S=w.prototype=g.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==h(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?y:m,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=y,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(h(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function g(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var x=p.memberSelectorType.GROUP,S=p.memberSelectorType.BOOK,j=p.memberSelectorType.SIMPLE_WITH_ROLE,N=p.memberSelectorType.SIMPLE,A=p.memberSelectorType.DOC,P=p.memberSelectorType.LIST,k=function(){return e=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"serializeUserPostBody",(function(t){return e.serializeUserPostBody(t)})),E(this,"enableDepthAll",(function(){return!1})),E(this,"enableDepSelect",(function(){var e=window.appData.isYuque;return t.type===N||!e&&[x,S,j].includes(t.type)})),E(this,"adpatUIListData",function(){var e=_(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E(this,"adpatUINavData",function(){var e=_(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E(this,"getRoles",(function(e){return Object(d.c)(e)})),E(this,"isDepartment",(function(t){return e.isDepartment(t)})),E(this,"isUser",(function(t){return e.isUser(t)})),E(this,"getRealUsers",(function(e){return e})),E(this,"getAddRoles",(function(){var e=t.getRoles(t.type),n=t.getSupportRoles();return e.filter((function(e){return n.includes(e.value)}))})),E(this,"getInviteAddRoles",_(b().mark((function e(){var n,r,o,i,c,l,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.appData.isYuque,o=t.getRoles(t.type),i=t.getSupportRoles(),c=s.a.isOwner(t.organization),l=o.filter((function(e){return i.includes(e.value)})),!t.organization||!t.organization.id){e.next=9;break}return e.next=8,s.a.canIndirectAddOrgMember(t.organization);case 8:u=e.sent;case 9:return l=r&&null!==(n=t.organization)&&void 0!==n&&n.id?(l=l.map((function(e){return v(v({},e),{},{roleTip:t.type===S?__("仅空间内获得链接的人可获得权限"):__("仅空间内获得链接的人可成为"),allow_outsider:f.ALLOW_OUTSIDER.NORMAL,disabled:!1,unique:"".concat(e.key,"-NOT-ALLOW_OUTSIDER")})}))).concat(l.map((function(e){return v(v({},e),{},{roleTip:t.type===S?__("所有获得链接的人可获得权限"):__("所有获得链接的人可成为"),allow_outsider:f.ALLOW_OUTSIDER.ALLOW,disabled:!u,disabled_text:c?a.a.createElement(a.a.Fragment,null,__("空间管理设置已关闭空间外人员添加权限，请先前往开启。"),a.a.createElement("a",{target:"_blank",href:"/r/organizations/dashboard/settings?type=permission"},__("立即开启"))):a.a.createElement(a.a.Fragment,null,__("管理员已关闭空间外人员添加权限，请联系管理员开启。"),a.a.createElement("a",{target:"_blank",href:"https://www.yuque.com/yuque/rvzzxz/csb5nu"},__("查看帮助"))),unique:"".concat(e.key,"-ALLOW_OUTSIDER")})}))):l.map((function(e){return v(v({},e),{},{roleTip:t.type===S?__("访问链接即可获得权限"):__("通过链接邀请成为"),allow_outsider:f.ALLOW_OUTSIDER.NORMAL,disabled:!1,unique:"".concat(e.key,"-NOT-ALLOW_OUTSIDER")})})),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})))),E(this,"getUserCount",(function(e){var t=0;return e.forEach((function(e){e.user_count?t+=e.user_count:t+=1})),t})),this.options=n,this.type=n.type,this.list=n.list,this.doc=n.doc,this.book=n.book,this.group=n.group,this.organization=n.organization,this.target=n[this.type],this.typeName=Object(c.a)(this.target?this.target.type:this.type),this.type===x&&this.target&&u.a.isPublication(this.target)&&(this.typeName=__("知识小组")),n.members&&n.members.length&&this.setUid(n.members),this.members=n.members||[],[j,N].includes(this.type)&&(this.me=n.me),this.selected=[],this.enable=!0,this.validRoles=this.getAddRoles(),this.inviteValidRoles=this.getInviteAddRoles()},t=[{key:"check",value:(r=_(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.warn("not implement");case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getIconUrl",value:function(){return null}},{key:"getIconName",value:function(){return null}},{key:"setUid",value:function(e){if(e)return Array.isArray(e)?Object(l.format)(e):Object(l.formatOne)(e)}},{key:"serialize",value:function(e){var t=v(v({},e),{},{users:this.adpatUIListData(this.setUid(e.users)),navs:this.adpatUINavData(this.setUid(e.parent||e.parents))});return this.enableDepthAll()&&(void 0!==e.user_count&&(t.user_count=e.user_count),e.depthUsers&&(t.depthUsers=this.adpatUIListData(this.setUid(e.depthUsers)))),t}},{key:"getSupportRoles",value:function(){var e=[],t=d.a[this.type];return this.type===x?e=[t.member,t.readonly]:this.type===S||this.type===A?e=[t.edit,t.readonly]:this.type===P&&(e=[t.member]),this.options.supportRoles||e}},{key:"getMembers",value:function(e){return e?this.members.filter((function(t){return t.role===e})):this.members}},{key:"getMemberByUser",value:function(e){return this.members?this.members.find((function(t){return Object(m.b)(t.user,e)})):null}},{key:"isOwner",value:function(){return!1}},{key:"isMember",value:function(){return!1}},{key:"isMemberOwner",value:function(){return!1}}],n=[{key:"serializeUserPostBody",value:function(e){var t=["id","user_id","role","login","workid","work_id","name","provider_type","provider_userid"];if(Array.isArray(e))return e.map((function(e){return i()(e,t)})).map((function(e){return e.workid=e.workid||e.work_id,e}));var n=i()(e,t);return n.workid=e.workid||e.work_id,n}}],t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();E(k,"isDepartment",(function(e){return e.type&&"department"===e.type.toLowerCase()})),E(k,"isUser",(function(e){return!e.type||"user"===e.type.toLowerCase()})),t.a=k},3364:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"t",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"w",(function(){return E})),n.d(t,"v",(function(){return O})),n.d(t,"u",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"q",(function(){return j})),n.d(t,"o",(function(){return N})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return P})),n.d(t,"e",(function(){return k})),n.d(t,"j",(function(){return T})),n.d(t,"l",(function(){return C})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return I})),n.d(t,"m",(function(){return M})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return B}));var r=n(0),a=n(11),o=n(511),i=n(1485),c=n(97),l=n(1503),u=n(435),s=n(92),f=n(69),d=n(205);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){return e[e.sharePanel=1]="sharePanel",e[e.inviteSelectorChannel=2]="inviteSelectorChannel",e[e.shareChannels=3]="shareChannels",e[e.collaboratorChannel=4]="collaboratorChannel",e[e.shareQrCodeChannel=5]="shareQrCodeChannel",e}({}),y=p(p(p({},o.a.PERSON,__("公开给互联网所有人")),o.a.ORG,__("公开给空间所有成员")),o.a.INTERNAL,__("公开给集团所有正式员工")),v=p(p(p({},o.a.PERSON,{private:__("互联网公开"),public:__("已开启互联网公开")}),o.a.ORG,{private:__("公开分享"),public:__("已开启公开分享")}),o.a.INTERNAL,{private:__("公开分享"),public:__("已开启公开分享")}),b={private:__("当前小记为私密，仅自己可访问"),public:__("当前小记为公开")},g=p(p(p({},o.a.PERSON,{private:__("当前知识库为私密，仅自己和协作者可访问"),public:__("当前知识库为公开，互联网所有人可访问")}),o.a.ORG,{private:__("当前知识库为私密，仅自己和协作者可访问"),intranet:__("当前知识库为公开，空间所有成员可访问"),public:__("当前知识库为公开，互联网所有人可访问")}),o.a.INTERNAL,{private:__("当前知识库为私密，仅自己和协作者可访问"),extend_private:__("当前知识库为私密，仅协作者和指定部门正式员工可访问"),intranet:__("当前知识库为公开，集团所有正式员工可访问"),public:__("当前知识库为公开，集团所有人可访问")}),_=p(p(p({},o.a.PERSON,{private:__("当前文档为私密，仅自己和协作者可访问"),public:__("当前文档为公开，互联网所有人可访问")}),o.a.ORG,{private:__("当前文档为私密，仅自己和协作者可访问"),intranet:__("当前文档为公开，空间所有成员可访问"),public:__("当前文档为公开，互联网所有人可访问")}),o.a.INTERNAL,{private:__("当前文档为私密，仅自己和协作者可访问"),extend_private:__("当前文档为私密，仅协作者和指定部门正式员工可访问"),intranet:__("当前文档为公开，集团所有正式员工可访问"),public:__("当前文档为公开，集团所有人可访问")}),w=p(p({},o.b.BOOK,g),o.b.DOC,_),E=p(p({},o.a.PERSON,{private:__("开启后，互联网所有人可访问"),public:__("互联网所有人可公开访问内容")}),o.a.INTERNAL,{private:__("开启后，拿到链接的集团正式员工可访问"),public:__("拿到链接的集团正式员工可访问")}),O=p(p(p({},o.a.PERSON,{private:__("开启后，互联网所有人可访问"),public:__("互联网所有人可公开访问内容")}),o.a.ORG,{private:__("开启后，空间内所有成员可访问"),intranet:__("空间内所有成员可公开访问内容"),public:__("互联网所有人可公开访问内容")}),o.a.INTERNAL,{private:__("开启后，拿到链接的集团正式员工可访问"),intranet:__("拿到链接的集团正式员工可访问"),public:__("拿到链接的集团所有人可访问")}),x=p(p(p({},a.PRIVACY.private,"private"),a.PRIVACY.public,"public"),a.PRIVACY.intranet,"intranet"),S=function(e,t,n,r){var a=Object(i.d)(e,t,n,r).privacy;return x[a]},j=p(p({},o.a.ORG,{desc:__("默认分享范围是空间所有成员。可以选择分享给互联网所有人，内容需符合相关法律法规及语雀 {terms} 约定。",{terms:r.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6","data-desktoptarget":"_browser",target:"_blank"},__("服务协议"))}),actions:[{label:__("空间所有成员可访问"),value:a.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:a.PRIVACY.public,tip:function(e){var t,n=null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy;return c.a.isPremium(e)&&0===(null==e?void 0:e.share_to_outside_enable)?n?r.createElement(r.Fragment,null,__("空间管理设置已关闭对外分享权限，请先前往开启。"),r.createElement("a",{href:"/r/organizations/dashboard/security/sharing-control",target:"_blank",style:{marginLeft:"5px"}},__("前往开启"))):__("管理员已关闭空间外人员访问权限，请联系管理员开启。"):c.a.isFree(e)?n?r.createElement(r.Fragment,null,__("升级为专业版、旗舰版后可开启互联网公开"),r.createElement("a",{href:"/r/organizations/dashboard/cashier?action=buy&paySource=".concat(f.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},c.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):__("联系管理员升级为专业版、旗舰版后可开启互联网公开"):c.a.isExpired(e)?r.createElement(r.Fragment,null,__("过期空间不可以设置互联网所有人可访问"),n&&r.createElement("a",{href:"/r/organizations/dashboard/cashier?action=renew&paySource=".concat(f.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},c.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):""}}]}),o.a.INTERNAL,{desc:__("默认分享范围是集团正式员工。分享给集团所有人（含外包、未签订三方协议的实习生）需审批申请，请注意信息安全。"),actions:[{label:__("集团内所有正式员工可访问"),value:a.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:a.PRIVACY.public}]}),N=p(p({},o.b.BOOK,__("开启后，本知识库下的所有公开内容，都需要密码访问。")),o.b.DOC,__("所属知识库已开启密码，本内容已默认继承该密码。")),A=p(p({},o.b.BOOK,p(p(p({},o.a.PERSON,{desc:__("开启后，互联网所有人可搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许语雀内公开搜索")}),o.a.ORG,{desc:__("开启后，空间成员可在空间里搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:"允许空间内搜索"}),o.a.INTERNAL,{desc:__("开启后，集团所有人可搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许内网公开搜索")})),o.b.DOC,p(p(p({},o.a.PERSON,{desc:__("开启后，互联网所有人可在语雀内搜索到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许语雀内公开搜索"),tip:__("所属知识库已允许语雀内公开搜索，文档无法独立设置。{terms}",{terms:r.createElement("a",{href:"https://www.yuque.com/yuque/thyzgp/lk1xr8",target:"_blank"},__("查看帮助"))})}),o.a.ORG,{desc:__("开启后，空间成员可在空间里搜索到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许空间内搜索"),tip:__("所属知识库已允许空间内搜索，文档无法独立设置。{terms}",{terms:r.createElement("a",{href:"https://www.yuque.com/yuque/thyzgp/lk1xr8",target:"_blank"},__("查看帮助"))})}),o.a.INTERNAL,{desc:__("开启后，集团内所有人都可在语雀里搜到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许内网公开搜索"),tip:__("所属知识库已允许内网公开搜索，文档无法独立设置。{terms}",{terms:r.createElement("a",{href:"https://yuque.antfin.com/lark/bsgp0v/wpclft",target:"_blank"},__("查看帮助"))})})),P=p(p({},o.a.PERSON,{desc:__("单次分享有效期默认半年，到期后可再次开启")}),o.a.INTERNAL,{desc:__("公开分享有效期为三个月，期间有用户访问文档时，会基于访问时间重新计算有效期，详见：{help}",{help:r.createElement("a",{href:"https://yuque.antfin.com/lark/bsgp0v/wdgcqkvg8r6o69bz",target:"_blank"},__("公开分享文档安全策略说明"))})}),k=p(p(p({},o.b.BOOK,__("可编辑，将拥有知识库的编辑权限。可阅读，仅拥有阅读和评论权限。")),o.b.DOC,__("可编辑，将拥有文档的编辑权限。可阅读，仅拥有阅读和评论权限。")),"actions",[{label:__("可阅读"),desc:__("仅拥有只读和评论权限"),value:u.ROLE.readonly,key:"readonly"},{label:__("可编辑"),desc:__("拥有文档的编辑权限"),value:u.ROLE.edit,key:"edit"}]),T={descBookDoc:__("开启后，允许通过邀请链接快速添加空间外人员。通过此方式加入协作的人，将自动加入空间。"),descGroup:__("开启后，允许通过邀请链接快速添加空间外人员。通过此方式加入协作的人，将自动加入团队。"),action:__("邀请空间外成员"),tip:function(e){return c.a.isOwner(e)?__("空间管理设置已关闭空间外人员添加权限，请先前往开启。{terms}",{terms:r.createElement("a",{href:"/r/organizations/dashboard/contacts/permission-settings",target:"_blank",rel:"noopener noreferrer"},__("立即前往"))}):__("管理员已关闭空间外人员添加权限，请联系管理员开启。{terms}",{terms:r.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/csb5nu",target:"_blank"},__("查看帮助"))})}},C={descBookDoc:__("开启后，需经过手动审批确认，获得链接的人才能成为协作者。"),descGroup:__("开启后，需经过手动审批确认，获得链接的人才能加入团队。"),action:__("提交申请后需审批确认")},L={desc:__("成员，将拥有团队知识库的编辑权限。只读成员，仅拥有只读权限。"),actions:[{label:__("成员"),value:s.ROLE.member,key:"member"},{label:__("只读成员"),value:s.ROLE.readonly,key:"readonly"}]},I=p(p(p({},o.a.PERSON,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("互联网所有人可访问"),value:a.PRIVACY.public}]}),o.a.ORG,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("空间所有成员可访问"),value:a.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:a.PRIVACY.public,tip:function(e){var t,n=null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy;return c.a.isPremium(e)&&0===(null==e?void 0:e.share_to_outside_enable)?n?r.createElement(r.Fragment,null,__("空间管理设置已关闭对外分享权限，请先前往开启。"),r.createElement("a",{href:"/r/organizations/dashboard/security/sharing-control",target:"_blank",style:{marginLeft:"5px"}},__("前往开启"))):__("管理员已关闭空间外人员访问权限，请联系管理员开启。"):c.a.isFree(e)?n?r.createElement(r.Fragment,null,__("升级为专业版、旗舰版后可开启互联网公开"),r.createElement("a",{href:"/r/organizations/dashboard/cashier?action=buy&paySource=".concat(f.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},c.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):__("联系管理员升级为专业版、旗舰版后可开启互联网公开"):c.a.isExpired(e)?r.createElement(r.Fragment,null,__("过期空间不可以设置互联网所有人可访问"),n&&r.createElement("a",{href:"/r/organizations/dashboard/cashier?action=renew&paySource=".concat(f.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},c.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):""}}]}),o.a.INTERNAL,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:a.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:a.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:a.PRIVACY.public}]}),M=p(p(p(p({},o.a.PERSON,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("互联网所有人可访问"),value:a.PRIVACY.public}]}),o.a.ORG,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("空间所有成员可访问"),value:a.PRIVACY.intranet}]}),o.a.PUBLIC_PAGE,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("空间所有成员可访问"),value:a.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:a.PRIVACY.public}]}),o.a.INTERNAL,{actions:[{label:__("仅协作者可访问"),value:a.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:a.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:a.PRIVACY.intranet}]}),R=function(e,t){var n=__("开启后，互联网所有获得链接的人皆可访问知识库下的全部内容。你需对其合法合规性负责，遵守相关法律法规及语雀 {terms} 约定，违规内容可能无法被查看。",{terms:r.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6",target:"_blank","data-desktoptarget":"_browser"},__("服务协议"))}),a=__("开启后，互联网所有获得链接的人皆可访问。你需对其合法合规性负责，遵守相关法律法规及语雀 {terms} 约定，违规内容可能无法被查看。",{terms:r.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6",target:"_blank","data-desktoptarget":"_browser"},__("服务协议"))}),i=e===o.b.BOOK?n:a;return Object(d.a)()?new Promise((function(e){t.confirm({icon:r.createElement(l.default,null),width:505,title:__("确认公开给互联网所有人"),content:r.createElement("span",null,i),okText:__("确认"),cancelText:__("取消"),onOk:function(){e(!0)},onCancel:function(){e(!1)}})})):e===o.b.NOTE?Promise.resolve(!0):new Promise((function(e){t.confirm({icon:r.createElement(l.default,null),width:505,title:__("申请开启集团所有人可访问"),content:__("设置 集团所有人可访问 需进行审批申请，主管通过后可对所有外包、未签订三方协议的实习生可见，请注意信息安全。"),okText:__("确认"),cancelText:__("取消"),onOk:function(){e(!0)},onCancel:function(){e(!1)}})}))},D=function(e){return new Promise((function(t){e.confirm({width:505,title:__("切换其他选项后再次选择「集团所有人可访问」，需要重新审批，确认切换吗？"),okText:__("确认"),cancelText:__("取消"),onOk:function(){t(!0)},onCancel:function(){t(!1)}})}))},z=[{label:__("仅团队成员可访问"),value:a.PRIVACY.private},{label:__("空间所有成员可访问"),value:a.PRIVACY.intranet}],B=[{label:__("仅团队成员可访问"),value:a.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:a.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:a.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:a.PRIVACY.public}]},3365:function(e,t,n){var r=n(180),a=n(100);e.exports=function(e){return a(e)&&r(e)}},3384:function(e,t){e.exports={memberSelectorType:{GROUP:"group",BOOK:"book",DOC:"doc",SIMPLE_WITH_ROLE:"simpleWithRole",SIMPLE:"simple",LIST:"list",ORGANIZATION:"organization"}}},34:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(1053),n(313)),i=n(50),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=n(908),g=(n(187),["className","dropdownClassName"]);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=f.a.forwardRef((function(e,t){var n=e.className,r=e.dropdownClassName,a=u()(e,g);return f.a.createElement(o.a,c()({className:h()("larkui-select",n),dropdownClassName:h()("larkui-select-dropdown",r),ref:t,suffixIcon:f.a.createElement(b.default,null)},a))}));E.propTypes=w(w({},o.a.SelectProps),{},{className:m.a.string,dropdownClassName:m.a.string}),v()(E,o.a),t.a=E},340:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(907),n(236)),i=n(50),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=(n(2713),["className","overlayClassName"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=f.a.forwardRef((function(e,t){var n=e.className,r=e.overlayClassName,a=u()(e,b);return f.a.createElement(o.a,c()({className:h()(n,"larkui-dropdown-trigger"),overlayClassName:h()(r,"larkui-dropdown"),ref:t},a))}));w.propTypes=_(_({},o.a.DropDownProps),{},{className:m.a.string,overlayClassName:m.a.string}),v()(w,o.a);var E=w,O=["className","overlayClassName","overlay","children"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=f.a.forwardRef((function(e,t){var n=e.className,r=e.overlayClassName,a=e.overlay,i=e.children,l=u()(e,O),s=a?a.props:{};return f.a.createElement(o.a.Button,c()({className:h()(n,"larkui-dropdown-trigger"),overlay:f.a.cloneElement(a,{className:h()(s.className,r,"larkui-dropdown-menu")}),ref:t},l),i)}));j.propTypes=S(S({},o.a.DropdownButtonProps),{},{className:m.a.string,overlayClassName:m.a.string,overlay:m.a.node,children:m.a.any}),v()(j,o.a.Button);var N=j,A=n(1036),P=n.n(A),k=n(1035),T=n.n(k),C=n(485),L=n(104),I=n(70),M=(n(2714),function(e){var t=e.className,n=e.overlayClassName,r=e.currentValue,a=e.menus,o=e.disableMenus,i=void 0===o?[]:o,l=e.disableTip,u=e.handleChange,s=e.triggerPrefix,d=a.find((function(e){return e.value===r}));return f.a.createElement(E,c()({},e,{trigger:["click"],className:h()("larkui-dropdown-selector",t),overlayClassName:h()("larkui-dropdown-selector-menu",n),overlay:f.a.createElement(L.a,{selectedKeys:[r]},a.map((function(e){var t=i.some((function(t){return t.value===e.value})),n=f.a.createElement("span",{className:"larkui-dropdown-selector-option"},f.a.createElement("span",{className:"larkui-dropdown-selector-option-name"},e.name),e.value===r&&f.a.createElement("span",{className:"larkui-dropdown-selector-option-checked"},f.a.createElement(T.a,null)));return f.a.createElement(L.a.Item,{key:e.value,disabled:t,onClick:function(){u(e.value)}},t&&l?f.a.createElement(I.a,{title:l,placement:"right"},n):n)})),e.externalActions&&f.a.createElement(L.a.Divider,null),e.externalActions&&e.externalActions())}),f.a.createElement("span",{className:"larkui-dropdown-selector-trigger"},f.a.createElement("span",null,s),f.a.createElement("span",null,d?d.name:Object(C.a)("请选择")),f.a.createElement("span",{className:"larkui-dropdown-selector-trigger-icon"},f.a.createElement(P.a,null))))});M.propTypes={className:m.a.string,overlayClassName:m.a.string,currentValue:m.a.string.isRequired,menus:m.a.arrayOf(m.a.shape({name:m.a.string.isRequired,value:m.a.string.isRequired})).isRequired,disableMenus:m.a.array,disableTip:m.a.node,handleChange:m.a.func.isRequired,externalActions:m.a.func,triggerPrefix:m.a.node};var R=M;E.Selector=R,E.Button=N;t.a=E},342:function(e,t,n){"use strict";n(170);var r=n(70),a=n(0),o=n.n(a),i=n(6),c=n.n(i),l=n(1267),u=n(4),s=n.n(u),f={noWrap:"index-module_noWrap_glNxF",center:"index-module_center_zSt9A",inherit:"index-module_inherit_TQ-oW",justify:"index-module_justify_BBNTE",left:"index-module_left_melIP",right:"index-module_right_BcDRZ","common-link":"index-module_common-link_LkRIl","common-tab":"index-module_common-tab_EdL1P",active:"index-module_active_cmLTu","common-menu":"index-module_common-menu_OiYt2","common-icon":"index-module_common-icon_60unB","common-flex":"index-module_common-flex_YpvU1","common-iconButton":"index-module_common-iconButton_9fUSh","common-menu-item":"index-module_common-menu-item_wENsl",headline1:"index-module_headline1_gNn3d","headline1-link":"index-module_headline1-link_hpiWt","headline1-tab":"index-module_headline1-tab_2tnKG","headline1-menu":"index-module_headline1-menu_kn1nZ","headline1-icon":"index-module_headline1-icon_Ugsfz","headline1-flex":"index-module_headline1-flex_XKxAU","headline1-iconButton":"index-module_headline1-iconButton_JxTPN","headline1-menu-item":"index-module_headline1-menu-item_6KtqL","headline1-secondary":"index-module_headline1-secondary_oSaxw",headline2:"index-module_headline2_xyzBy","headline2-link":"index-module_headline2-link_bkLCB","headline2-tab":"index-module_headline2-tab_n1Akb","headline2-menu":"index-module_headline2-menu_QL2po","headline2-icon":"index-module_headline2-icon_Ge-vk","headline2-flex":"index-module_headline2-flex_KZxEZ","headline2-iconButton":"index-module_headline2-iconButton_uBIj0","headline2-menu-item":"index-module_headline2-menu-item_1iIzo","headline2-secondary":"index-module_headline2-secondary_t1vqD",headline3:"index-module_headline3_6OwWy","headline3-link":"index-module_headline3-link_wcUG4","headline3-tab":"index-module_headline3-tab_GRz8p","headline3-menu":"index-module_headline3-menu_pdEQ6","headline3-icon":"index-module_headline3-icon_maylx","headline3-flex":"index-module_headline3-flex_EdA3C","headline3-iconButton":"index-module_headline3-iconButton_ljBJY","headline3-menu-item":"index-module_headline3-menu-item_FneW1","headline3-secondary":"index-module_headline3-secondary_gdmSF",headline4:"index-module_headline4_cCWAs","headline4-link":"index-module_headline4-link_pksrg","headline4-tab":"index-module_headline4-tab_AZhw7","headline4-menu":"index-module_headline4-menu_Zh+Gf","headline4-icon":"index-module_headline4-icon_I8A2c","headline4-flex":"index-module_headline4-flex_-WCmH","headline4-iconButton":"index-module_headline4-iconButton_unM1q","headline4-menu-item":"index-module_headline4-menu-item_HZvZs","headline4-secondary":"index-module_headline4-secondary_mwc2q",title:"index-module_title_AMQeB","title-link":"index-module_title-link_LhWVV","title-tab":"index-module_title-tab_PEcOM","title-menu":"index-module_title-menu_yRd7C","title-icon":"index-module_title-icon_jD1r3","title-flex":"index-module_title-flex_6ud+f","title-iconButton":"index-module_title-iconButton_eKfGH","title-menu-item":"index-module_title-menu-item_+2INX","title-secondary":"index-module_title-secondary_+7kF8","title-strong":"index-module_title-strong_rB2kd",body:"index-module_body_0t8B1","body-link":"index-module_body-link_1Ezeh","body-tab":"index-module_body-tab_ZArAR","body-menu":"index-module_body-menu_rkEZj","body-icon":"index-module_body-icon_dtRXT","body-flex":"index-module_body-flex_xUh97","body-iconButton":"index-module_body-iconButton_zEAAb","body-menu-item":"index-module_body-menu-item_530BT","body-secondary":"index-module_body-secondary_jzKzN","body-strong":"index-module_body-strong_B8Xyf","body-small":"index-module_body-small_M0nB9","body-small-link":"index-module_body-small-link_dpTlG","body-small-tab":"index-module_body-small-tab_HAI-k","body-small-menu":"index-module_body-small-menu_+sZ91","body-small-icon":"index-module_body-small-icon_9yvQH","body-small-flex":"index-module_body-small-flex_TzPYW","body-small-iconButton":"index-module_body-small-iconButton_Ry5bn","body-small-menu-item":"index-module_body-small-menu-item_5h34h","body-small-secondary":"index-module_body-small-secondary_dJo56",disable:"index-module_disable_bsdL7","disable-link":"index-module_disable-link_fsP5Q","disable-tab":"index-module_disable-tab_1L8n1","disable-menu":"index-module_disable-menu_h0UA9","disable-icon":"index-module_disable-icon_szLm2","disable-flex":"index-module_disable-flex_EDI9g","disable-iconButton":"index-module_disable-iconButton_41jru","disable-menu-item":"index-module_disable-menu-item_tolga",caption:"index-module_caption_bWso-","caption-link":"index-module_caption-link_iUcKX","caption-tab":"index-module_caption-tab_Pahmo","caption-menu":"index-module_caption-menu_FYIeq","caption-icon":"index-module_caption-icon_Y3NyS","caption-flex":"index-module_caption-flex_FI2Np","caption-iconButton":"index-module_caption-iconButton_hWPqs","caption-menu-item":"index-module_caption-menu-item_1kLnU","caption-secondary":"index-module_caption-secondary_SFdcH","caption-small":"index-module_caption-small_B13mr","caption-small-link":"index-module_caption-small-link_8T++a","caption-small-tab":"index-module_caption-small-tab_ibUZP","caption-small-menu":"index-module_caption-small-menu_G8H-J","caption-small-icon":"index-module_caption-small-icon_PtjdH","caption-small-flex":"index-module_caption-small-flex_+EFJk","caption-small-iconButton":"index-module_caption-small-iconButton_33CTf","caption-small-menu-item":"index-module_caption-small-menu-item_cqmp0","caption-small-secondary":"index-module_caption-small-secondary_H2H1r","primary-button-default":"index-module_primary-button-default_Vw1-y","primary-button-default-link":"index-module_primary-button-default-link_oQhLa","primary-button-default-tab":"index-module_primary-button-default-tab_rf8zH","primary-button-default-menu":"index-module_primary-button-default-menu_JESyh","primary-button-default-icon":"index-module_primary-button-default-icon_E0TCd","primary-button-default-flex":"index-module_primary-button-default-flex_pNGzV","primary-button-default-iconButton":"index-module_primary-button-default-iconButton_bguHS","primary-button-default-menu-item":"index-module_primary-button-default-menu-item_EY5rA","primary-button-default-secondary":"index-module_primary-button-default-secondary_R+QUT","primary-button-default-strong":"index-module_primary-button-default-strong_Htk5A","primary-button-strong":"index-module_primary-button-strong_tCPsX","primary-button-strong-link":"index-module_primary-button-strong-link_FFk3N","primary-button-strong-tab":"index-module_primary-button-strong-tab_iu42A","primary-button-strong-menu":"index-module_primary-button-strong-menu_MUMyr","primary-button-strong-icon":"index-module_primary-button-strong-icon_-xloa","primary-button-strong-flex":"index-module_primary-button-strong-flex_uWzkw","primary-button-strong-iconButton":"index-module_primary-button-strong-iconButton_f6r63","primary-button-strong-menu-item":"index-module_primary-button-strong-menu-item_RzDwe","primary-button-strong-secondary":"index-module_primary-button-strong-secondary_rR6X1","primary-button-strong-strong":"index-module_primary-button-strong-strong_KuhtF","primary-button-strong-ghost":"index-module_primary-button-strong-ghost_LfbnS","secondary-button-default":"index-module_secondary-button-default_nN4ts","secondary-button-default-link":"index-module_secondary-button-default-link_P4JJV","secondary-button-default-tab":"index-module_secondary-button-default-tab_sTKaj","secondary-button-default-menu":"index-module_secondary-button-default-menu_CnLQt","secondary-button-default-icon":"index-module_secondary-button-default-icon_EBrIo","secondary-button-default-flex":"index-module_secondary-button-default-flex_myAK8","secondary-button-default-iconButton":"index-module_secondary-button-default-iconButton_3l8nj","secondary-button-default-menu-item":"index-module_secondary-button-default-menu-item_OZFHO","secondary-button-default-secondary":"index-module_secondary-button-default-secondary_iH73C","secondary-button-default-strong":"index-module_secondary-button-default-strong_U1PcZ","disable-button-default":"index-module_disable-button-default_do2Ky","disable-button-default-link":"index-module_disable-button-default-link_Cc4nX","disable-button-default-tab":"index-module_disable-button-default-tab_uzzYS","disable-button-default-menu":"index-module_disable-button-default-menu_ki5Hs","disable-button-default-icon":"index-module_disable-button-default-icon_+eAaQ","disable-button-default-flex":"index-module_disable-button-default-flex_pSS0P","disable-button-default-iconButton":"index-module_disable-button-default-iconButton_Ns-ZT","disable-button-default-menu-item":"index-module_disable-button-default-menu-item_H7X58","disable-button-default-secondary":"index-module_disable-button-default-secondary_sJwUn","disable-button-default-strong":"index-module_disable-button-default-strong_ApPSw",link:"index-module_link_4lMzA","link-link":"index-module_link-link_MSu6v","link-tab":"index-module_link-tab_UaSsE","link-menu":"index-module_link-menu_X9-jl","link-icon":"index-module_link-icon_GlYMK","link-flex":"index-module_link-flex_y87zq","link-iconButton":"index-module_link-iconButton_hFUyW","link-menu-item":"index-module_link-menu-item_QrtKv","link-secondary":"index-module_link-secondary_cYp8F","link-strong":"index-module_link-strong_6cupy",linkBtn:"index-module_linkBtn_viBrQ","linkBtn-link":"index-module_linkBtn-link_fRNiK","linkBtn-tab":"index-module_linkBtn-tab_xLPRH","linkBtn-menu":"index-module_linkBtn-menu_K8vUm","linkBtn-icon":"index-module_linkBtn-icon_bNwRp","linkBtn-flex":"index-module_linkBtn-flex_Xds+s","linkBtn-iconButton":"index-module_linkBtn-iconButton_nWnGl","linkBtn-menu-item":"index-module_linkBtn-menu-item_rDBK+","linkBtn-secondary":"index-module_linkBtn-secondary_pxTMi","linkBtn-strong":"index-module_linkBtn-strong_5PlMk","yuque-green-1":"index-module_yuque-green-1_t+Yes","yuque-green-2":"index-module_yuque-green-2_PSwCn","yuque-green-3":"index-module_yuque-green-3_990Pj","yuque-green-4":"index-module_yuque-green-4_LGQYT","yuque-green-5":"index-module_yuque-green-5_Wdkpl","yuque-green-6":"index-module_yuque-green-6_sp+C1","yuque-green-7":"index-module_yuque-green-7_Yz0nb","yuque-green-8":"index-module_yuque-green-8_TdQoj","yuque-green-9":"index-module_yuque-green-9_78uX8","yuque-grey-1":"index-module_yuque-grey-1_MFlzw","yuque-grey-2":"index-module_yuque-grey-2_1MPla","yuque-grey-3":"index-module_yuque-grey-3_Xwd3D","yuque-grey-4":"index-module_yuque-grey-4_Iaalm","yuque-grey-5":"index-module_yuque-grey-5_dTMGn","yuque-grey-6":"index-module_yuque-grey-6_9P9mX","yuque-grey-7":"index-module_yuque-grey-7_fo9a2","yuque-grey-8":"index-module_yuque-grey-8_5ZItk","yuque-grey-9":"index-module_yuque-grey-9_2KrCK","blue-1":"index-module_blue-1_9NXmy","blue-2":"index-module_blue-2_71Xfa","blue-3":"index-module_blue-3_QzBMA","blue-4":"index-module_blue-4_eIuv6","blue-5":"index-module_blue-5_--rJ2","blue-6":"index-module_blue-6_EM+ye","blue-7":"index-module_blue-7_dcd5v","blue-8":"index-module_blue-8_i6IXc","blue-9":"index-module_blue-9_8WLz4","organge-1":"index-module_organge-1_QF-zP","organge-2":"index-module_organge-2_zYIHH","organge-3":"index-module_organge-3_EaUTx","organge-4":"index-module_organge-4_KEzWt","organge-5":"index-module_organge-5_uWCqi","organge-6":"index-module_organge-6_SWaCL","organge-7":"index-module_organge-7_UCnnq","organge-8":"index-module_organge-8_yxbUr","organge-9":"index-module_organge-9_Wqbx6","yellow-1":"index-module_yellow-1_9BdDH","yellow-2":"index-module_yellow-2_mmpuD","yellow-3":"index-module_yellow-3_1MgEh","yellow-4":"index-module_yellow-4_twlST","yellow-5":"index-module_yellow-5_Z7Kqp","yellow-6":"index-module_yellow-6_EZhZz","yellow-7":"index-module_yellow-7_lCkCE","yellow-8":"index-module_yellow-8_ZQ7hX","yellow-9":"index-module_yellow-9_NAs4Y","red-1":"index-module_red-1_Z-G+I","red-2":"index-module_red-2_ec26p","red-3":"index-module_red-3_CitaX","red-4":"index-module_red-4_Rf4VB","red-5":"index-module_red-5_8DEQO","red-6":"index-module_red-6_e40Pl","red-7":"index-module_red-7_ND3LM","red-8":"index-module_red-8_S4EAE","red-9":"index-module_red-9_s0fc1","magenta-1":"index-module_magenta-1_BVOfc","magenta-2":"index-module_magenta-2_LeAiv","magenta-3":"index-module_magenta-3_anmFf","magenta-4":"index-module_magenta-4_iyuji","magenta-5":"index-module_magenta-5_XFO8v","magenta-6":"index-module_magenta-6_83nvI","magenta-7":"index-module_magenta-7_EylhI","magenta-8":"index-module_magenta-8_H7UoN","magenta-9":"index-module_magenta-9_BZu8L","purple-1":"index-module_purple-1_4Mt5K","purple-2":"index-module_purple-2_ZU8FB","purple-3":"index-module_purple-3_XZk6m","purple-4":"index-module_purple-4_RkQAl","purple-5":"index-module_purple-5_UwSof","purple-6":"index-module_purple-6_VE5X4","purple-7":"index-module_purple-7_4qxQ3","purple-8":"index-module_purple-8_34VRx","purple-9":"index-module_purple-9_S5yo0","cyan-1":"index-module_cyan-1_XcHSS","cyan-2":"index-module_cyan-2_8Z0Qc","cyan-3":"index-module_cyan-3_8EpV-","cyan-4":"index-module_cyan-4_BTV0V","cyan-5":"index-module_cyan-5_OOfUa","cyan-6":"index-module_cyan-6_8F8Ne","cyan-7":"index-module_cyan-7_tQGo7","cyan-8":"index-module_cyan-8_nBcrC","cyan-9":"index-module_cyan-9_pp0HZ","pea-green-1":"index-module_pea-green-1_YZ7VF","pea-green-2":"index-module_pea-green-2_cB-wj","pea-green-3":"index-module_pea-green-3_0aW+j","pea-green-4":"index-module_pea-green-4_V3TMD","pea-green-5":"index-module_pea-green-5_UQ6+a","pea-green-6":"index-module_pea-green-6_VBEAH","pea-green-7":"index-module_pea-green-7_fz-pg","pea-green-8":"index-module_pea-green-8_vhbae","pea-green-9":"index-module_pea-green-9_iLSdb",white:"index-module_white_-Ikm2","yuque-color-text-disable":"index-module_yuque-color-text-disable_H8og1",flexFix:"index-module_flexFix_gj50B"};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var m=["component","variant","variantMapping","paragraph","className","style","noWrap","align","mb","ml","mr","mt","type","color","fontSize","h5FontSize","componentProps","title","maxWidth","flexFix"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return 1===r.length?r[0]:function(e){r.forEach((function(t){!function(e,t){"function"==typeof e?e(t):"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(e.current=t)}(t,e)}))}}var w,E={headline1:"headline1",headline2:"headline2",headline3:"headline3",headline4:"headline4",title:"title",body:"body",bodySmall:"body-small",caption:"caption",captionSmall:"caption-small",primaryButtonDefault:"primary-button-default",primaryButtonStrong:"primary-button-strong",secondaryButtonDefault:"secondary-button-default",disableButtonDefault:"disable-button-default",disable:"disable",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",linkBtn:"linkBtn",link:"link"},O={center:"center",inherit:"inherit",justify:"justify",left:"left",right:"right"},x={variantMapping:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",headline1:"h1",headline2:"h2",headline3:"h3",headline4:"h4",title:"h5",body:"h6","body-small":"p",caption:"p","caption-small":"p"},mb:0,ml:0,mr:0,mt:0,align:O.inherit,variant:E.body,componentProps:{}},S={className:s.a.string,component:s.a.elementType,variant:s.a.oneOf(Object.values(E)),paragraph:s.a.bool,variantMapping:s.a.object,noWrap:s.a.bool,flexFix:s.a.bool,style:s.a.object,align:s.a.oneOf(Object.values(O)),children:s.a.node,mb:s.a.oneOfType([s.a.number,s.a.string]),ml:s.a.oneOfType([s.a.number,s.a.string]),mr:s.a.oneOfType([s.a.number,s.a.string]),mt:s.a.oneOfType([s.a.number,s.a.string]),type:s.a.oneOf([].concat((w=Object.values({secondary:"secondary",strong:"strong",link:"link",icon:"icon",menu:"menu",flex:"flex",iconButton:"iconButton"}),function(e){if(Array.isArray(e))return g(e)}(w)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(w)||b(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[""])),onClick:s.a.func,fontSize:s.a.number,h5FontSize:s.a.number,color:s.a.string,componentProps:s.a.object,title:s.a.string,maxWidth:s.a.number,exact:s.a.bool},j=Object(a.forwardRef)((function(e,t){var n=e.component,i=e.variant,u=e.variantMapping,s=e.paragraph,d=e.className,p=e.style,b=e.noWrap,g=e.align,w=e.mb,E=e.ml,O=e.mr,x=e.mt,S=e.type,j=e.color,N=e.fontSize,A=e.h5FontSize,P=e.componentProps,k=e.title,T=e.maxWidth,C=e.flexFix,L=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,m),I=n||(s?"p":i&&(null==u?void 0:u[i]))||"span",M=g&&f[g],R=f["".concat(i,"-").concat(S)]||"",D=v(Object(l.a)(),2),z=D[0],B=D[1],Y=v(Object(a.useState)(!1),2),U=Y[0],F=Y[1];Object(a.useEffect)((function(){var e=k&&B.offsetWidth<B.scrollWidth;e!==U&&F(Boolean(e))}),[B]);var q=Object(a.createElement)(I,h(h(h({className:c()(i&&f[i],R,M,d,y(y(y({},f.noWrap,b),f.flexFix,C),f[j],j)),style:h({marginBottom:w,marginLeft:E,marginRight:O,marginTop:x,fontSize:window.h5&&A||N,maxWidth:T},p)},P),L),{},{ref:_(z,t)}));return U?o.a.createElement(r.a,{title:k},q):q}));j.propTypes=S,j.defaultProps=x;t.a=j},3421:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.formatOne=function(e){if(!e)return e;var t=e;return t.user&&(t=i(i({},e),e.user)),t.uid||(t.work_id?e.uid="".concat(t.work_id):t.id?e.uid="".concat(t.id):t.provider_type&&t.provider_userid&&(e.uid="".concat(t.provider_type,"_").concat(t.provider_userid))),e},t.format=function(e){var n,a=r(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;t.formatOne(o)}}catch(e){a.e(e)}finally{a.f()}return e}},3422:function(e,t,n){var r=n(523),a=n(235),o=n(831),i=n(491),c=n(3365),l=n(920),u=o((function(e){var t=l(e);return c(t)&&(t=void 0),i(r(e,1,c,!0),a(t,2))}));e.exports=u},3458:function(e,t,n){"use strict";t.a={shareChannels:"ShareChannels-module_shareChannels_gfpjT",shareDetailSettingPanel:"ShareChannels-module_shareDetailSettingPanel_RhPY6",label:"ShareChannels-module_label_tDypL",desc:"ShareChannels-module_desc_u1Wyf",collaborator:"ShareChannels-module_collaborator_2YM9N",inviteSelector:"ShareChannels-module_inviteSelector_UvnYT",bookPublicSetting:"ShareChannels-module_bookPublicSetting_skCSj",bookPublicTitle:"ShareChannels-module_bookPublicTitle_Nvtb5",title:"ShareChannels-module_title_FCiiD",backIcon:"ShareChannels-module_backIcon_Xa1gT",titleDesc:"ShareChannels-module_titleDesc_Qr9Q3",bookPublicSet:"ShareChannels-module_bookPublicSet_HaiHZ",contentArea:"ShareChannels-module_contentArea_WAxw-",copyLinkWrapper:"ShareChannels-module_copyLinkWrapper_zNH1v",linkTitleDesc:"ShareChannels-module_linkTitleDesc_RdIXM",linkContentArea:"ShareChannels-module_linkContentArea_+a59s",copyLink:"ShareChannels-module_copyLink_3mHuZ",inviteCopyBtn:"ShareChannels-module_inviteCopyBtn_ju+VP",moreConfigSettings:"ShareChannels-module_moreConfigSettings_b+fk7",moreConfigToggler:"ShareChannels-module_moreConfigToggler_caced",moreConfigsTip:"ShareChannels-module_moreConfigsTip_gtVy7",expandIcon:"ShareChannels-module_expandIcon_MQJP8",expandIconColor:"ShareChannels-module_expandIconColor_BoJlD",pwdBlock:"ShareChannels-module_pwdBlock_dU5pI",pwdLink:"ShareChannels-module_pwdLink_M9e3v",pwdBtn:"ShareChannels-module_pwdBtn_oJupk",passwordText:"ShareChannels-module_passwordText_gaCkx",resetBtn:"ShareChannels-module_resetBtn_aOPqB",resetIcon:"ShareChannels-module_resetIcon_rn-tx",selectorItem:"ShareChannels-module_selectorItem_l7C7L",notOwner:"ShareChannels-module_notOwner_oGq+h",selectorIcon:"ShareChannels-module_selectorIcon_4e0e0",disabledItem:"ShareChannels-module_disabledItem_1Ei-3",shareTime:"ShareChannels-module_shareTime_cjwGm",memberAbleIcon:"ShareChannels-module_memberAbleIcon_xR+WM",shareNotOwner:"ShareChannels-module_shareNotOwner_imImM",switchTitle:"ShareChannels-module_switchTitle_dS9uP",selectOption:"ShareChannels-module_selectOption_W3LKu",collaboratorContent:"ShareChannels-module_collaboratorContent_0fEPi",shareQrCodeContent:"ShareChannels-module_shareQrCodeContent_14F29",shareQrCodeArea:"ShareChannels-module_shareQrCodeArea_crX+x",shareQrCodeButton:"ShareChannels-module_shareQrCodeButton_xGFZ6"}},346:function(e,t,n){"use strict";n(2728);var r=n(998);n(698);t.a=r.a},3475:function(e,t,n){"use strict";t.a={sharePanel:"styles-module_sharePanel_Sxg7e",main:"styles-module_main_yGeSJ",mainIntro:"styles-module_mainIntro_U4BmK",firstItem:"styles-module_firstItem_oD4je",inviteItem:"styles-module_inviteItem_NZWji",shareDescText:"styles-module_shareDescText_Aj+aY",itemTitle:"styles-module_itemTitle_HBJAz",memberBadge:"styles-module_memberBadge_tyo4x",memberAbleIcon:"styles-module_memberAbleIcon_Qqdnq",itemIcon:"styles-module_itemIcon_x0RNY",appointIcon:"styles-module_appointIcon_4sk+S",publicIcon:"styles-module_publicIcon_zEz8l",inviteIconLi:"styles-module_inviteIconLi_8F87a",dot:"styles-module_dot_Z8pRl",inviteIcon:"styles-module_inviteIcon_+3x-U",shareLinkSet:"styles-module_shareLinkSet_k942E",description:"styles-module_description_j9YFu",shareLinkShow:"styles-module_shareLinkShow_bMh8i",qrCode:"styles-module_qrCode_suE8x",shareButton:"styles-module_shareButton_L93gj",sharePublic:"styles-module_sharePublic_495Qd",shareQrCode:"styles-module_shareQrCode_xBxWb",shareQrCodeIcon:"styles-module_shareQrCodeIcon_uR90f",moreConfigs:"styles-module_moreConfigs_qgWYG",loadingIcon:"styles-module_loadingIcon_pQzuM",popover:"styles-module_popover_9iY7y"}},3482:function(e,t,n){"use strict";n(170);var r=n(70),a=n(0),o=n.n(a),i=["textRef","visible","onVisibleChange"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.textRef,n=(e.visible,e.onVisibleChange),u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i),s=l(Object(a.useState)(!1),2),f=s[0],d=s[1];return o.a.createElement(r.a,c({},u,{visible:f,onVisibleChange:function(e){var r=e;null!=t&&t.current&&r&&(r=void 0!==t.current.offsetWidth&&void 0!==t.current.scrollWidth&&t.current.offsetWidth<t.current.scrollWidth),d(r),n&&n(r)}}))}},3483:function(e,t,n){"use strict";var r=n(57),a=n.n(r),o=(n(2941),n(1291)),i=n(50),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=(n(3209),["className"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=f.a.forwardRef((function(e,t){var n=e.className,r=u()(e,b);return f.a.createElement(o.a,c()({className:h()("larkui-breadcrumb",n),ref:t},r))}));w.propTypes=_(_({},o.a.BreadcrumbProps),{},{className:m.a.string}),v()(w,o.a),t.a=w},349:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},35:function(e,t,n){"use strict";n(98),n(487),n(833),n(1639),n(1374),n(907),n(834),n(1061),n(495);var r=n(990),a=n(50),o=n.n(a),i=n(57),c=n.n(i),l=n(65),u=n.n(l),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(6),h=n.n(p),y=n(66),v=n.n(y),b=(n(71),["className","pagination"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=f.a.forwardRef((function(e,t){var n=e.className,a=e.pagination,i=u()(e,b),c=a;return c&&(c=_({showSizeChanger:!1},c)),f.a.createElement(r.a,o()({},i,{className:h()("larkui-table",n),pagination:c,ref:t}))}));w.propTypes=_(_({},r.a.TableProps),{},{className:m.a.string,pagination:m.a.object}),v()(w,r.a);t.a=w},3619:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(88),a=n(92),o=n(435),i=n(713),c=n.n(i);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={organization:r.default.ROLE,group:a.default.ROLE,book:o.default.ROLE,doc:o.default.ROLE,list:c.a.ROLE};function f(e){var t=s[e],n={};return"organization"===e?n=Object.keys(t).reduce((function(e,n){var r={key:n,value:t[n]};return"owner"===n&&(r.label=__("管理员")),"member"===n&&(r.label=__("成员")),"outsourcer"===n&&(r.label=__("外部联系人")),e[n]=r,e}),{}):"group"===e?n=Object.keys(t).reduce((function(e,n){var r={key:n,value:t[n]};return"owner"===n&&(r.label=__("管理员")),"member"===n&&(r.label=__("成员")),"readonly"===n&&(r.label=__("只读成员")),e[n]=r,e}),{}):"book"===e||"doc"===e?n=Object.keys(t).reduce((function(e,n){var r={key:n,value:t[n]};return"readonly"===n&&(r.label=__("可阅读"),e[n]=r),"edit"===n&&(r.label=__("可编辑"),e[n]=r),e}),{}):"list"===e&&(n=Object.keys(t).reduce((function(e,n){var r={key:n,value:t[n]};return"owner"===n&&(r.label=__("管理员")),"member"===n&&(r.label=__("成员")),e[n]=r,e}),{})),n}function d(e){var t=f(e);return["owner","member","edit","readonly","outsourcer"].map((function(e){return t[e]})).filter((function(e){return!!e}))}function m(e,t){var n,r=f(e),a=l(Object.keys(r).map((function(e){return r[e]})));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.value===t)return o}}catch(e){a.e(e)}finally{a.f()}return{}}},3623:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(3421);function a(e,t){return!(!e||!t)&&(e.uid&&t.uid?e.uid===t.uid:e.login&&t.login?e.login===t.login:!(!t.provider_userid||!e.provider_userid)&&(e.provider_userid===t.provider_userid&&e.provider_type===t.provider_type))}function o(e){var t=e.members||e.collaborators||e.collaborations;return t?Object(r.format)(t.map((function(e){return e.user}))):[]}},3626:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=(n(62),n(31)),l=(n(543),n(104)),u=n(97);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){return"larkui-member-selector-container".concat(e?"-".concat(e):"")},m=a.a.forwardRef((function(e,t){var n=window.appData.organization,o=e.selectors,i=u.a.isOutsourcer(n),f=i?o.filter((function(e){return"invite"===e.props.id})):o,m=s(Object(r.useState)(!0),2),p=m[0],h=m[1],y=s(Object(r.useState)(i?"invite":e.defaultTabKey),2),v=y[0],b=y[1],g=s(Object(r.useState)(460),2),_=g[0],w=g[1],E=function(e){b(e.key)};Object(r.useEffect)((function(){w(e.getWidth(v)||460)}),[v]),a.a.useImperativeHandle(t,(function(){return{toggleTitle:function(e){h(e)}}}));return a.a.createElement(c.a,{wrapClassName:d(),visible:e.visible,width:_,title:a.a.createElement(a.a.Fragment,null,p?a.a.createElement("div",{className:d("select-by")},a.a.createElement(l.a,{onSelect:E,selectedKeys:[v],mode:"horizontal"},f.map((function(e){return a.a.createElement(l.a.Item,{key:e.props.id},__("{title}",{title:e.props.title}))})))):null),footer:null,maskClosable:!1,onCancel:e.onCancel,onClose:e.onClose,destroyOnClose:!0},f.filter((function(e){return e.props.id===v}))[0])}));m.defaultProps={selectors:[],getWidth:function(){},onCancel:function(){},onClose:function(){}},m.propTypes={selectors:i.a.arrayOf(i.a.node),getWidth:i.a.func,defaultTabKey:i.a.string,onCancel:i.a.func,onClose:i.a.func,visible:i.a.bool};var p=m,h=(n(126),n(38)),y=(n(136),n(28)),v=(n(36),n(8)),b=(n(693),n(379)),g=(n(170),n(70)),_=(n(1501),n(1499)),w=n(1488),E=n(59),O=(n(812),n(340)),x=(n(187),n(34)),S=n(908),j=n(706);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return"larkui-member-selector-role".concat(e?"-".concat(e):"")};function k(e){var t=e.roles,n=e.onChange,o=e.defaultRole||t&&t[0],i=N(Object(r.useState)(o),2),c=i[0],u=i[1];if(c){var s=function(e){u(e),n(e)};return"radio"===e.type?a.a.createElement("div",{className:P("role-select")},a.a.createElement(x.a,{size:"large",defaultValue:c.unique,onChange:function(e){var n=t.find((function(t){return t.unique===e}));s(n)}},null==t?void 0:t.map((function(e){return a.a.createElement(Option,{value:e.unique,disabled:e.disabled},a.a.createElement(g.a,{title:e.disabled?e.disabled_text:null,placement:"top",color:j.themeToken["@white"],overlayInnerStyle:{width:240,color:j.themeToken["@black"]}},a.a.createElement("span",{className:P("role-tip")},e.roleTip),a.a.createElement("span",{className:P("role-label")},e.label)))})))):a.a.createElement(O.a,{trigger:["click"],overlayClassName:P(),overlay:a.a.createElement(l.a,{selectedKeys:["".concat(c.key)]},null==t?void 0:t.map((function(e){return a.a.createElement(l.a.Item,{key:e.key,onClick:function(){s(e)}},a.a.createElement("span",null,a.a.createElement("span",null,e.label)))})))},a.a.createElement("span",null,c.label," ",a.a.createElement(S.default,null)))}}k.propTypes={type:i.a.oneOf(["dropdown","radio"]),defaultRole:i.a.object,roles:i.a.array.isRequired,onChange:i.a.func.isRequired};var T=k,C=(n(272),n(83)),L=n(1641),I=n(400),M=n.n(I),R=n(3482),D=n(345);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t=e.user,n=Object(r.useRef)(null);return a.a.createElement(R.a,{textRef:n,title:t.dep,placement:"bottom"},a.a.createElement("span",{className:"ellipsis-wrapper"},a.a.createElement("span",{ref:n,className:"ellipsis-text"},t.dep)))},U=function(e){return"larkui-member-selector-user-search".concat(e?"-".concat(e):"")},F=x.a.Option;var q=a.a.createElement("div",{className:U("notfound")},a.a.createElement(L.default,null),a.a.createElement("p",null,__("未搜索到相关结果"))),G=function(e){return e.department||"Department"===e.type},W=function(e){return G(e)?D.avatar.department:e.avatar_url||"//gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png?x-oss-process=image%2Fresize%2Cm_fill%2Cw_64%2Ch_64%2Fformat%2Cpng"};function V(e){var t,n=e.users,o=e.selectedUsers,i=function(e){var t=z(Object(r.useState)(!1),2),n=t[0],a=t[1],o=z(Object(r.useState)(!1),2),i=o[0],c=o[1],l=e.getUsers,u=e.onChange,s=Object(r.useRef)(null),f=M()((function(e){return a(!0),c(!1),l(e).then((function(t){if(a(!1),e&&!(t&&t.length>0))return c(!0),clearTimeout(s.current),s.current=setTimeout((function(){c(!1)}),3e3),t})).catch((function(){a(!1)}))}),300);return{state:{loading:n,fetchEnd:i},handleChange:function(e){u(e)},handleSearch:function(e){f(e)}}}(e),c=i.state,l=i.handleChange,u=i.handleSearch,s=Object(r.useRef)(null),f=e.notFoundContent||q;return Object(r.useEffect)((function(){e.getRef&&e.getRef(s)}),[]),a.a.createElement("div",{className:U()},a.a.createElement(x.a,{ref:s,className:"normal"===e.userClassType?U("container-normal"):U("container"),value:e.value,showSearch:!0,autoFocus:!0,mode:"multiple",placeholder:e.placeholder,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:!c.loading&&c.fetchEnd?f:null,onSearch:u,onChange:l,getPopupContainer:function(e){return e.parentNode},loading:c.loading,tagRender:e.isLiteSearchSelector?function(e){var t=e.value,n=e.closable,r=e.onClose,i=o.find((function(e){return G(e)?e.uid===t:e.id===t||e.uid===t}));return i?a.a.createElement(C.a,{icon:G(i)?a.a.createElement("div",{className:"larkicon larkicon-organization ".concat(U("tag-icon"))}):null,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},closable:n,onClose:r},i.name):null}:function(e){var t=Object(r.useRef)(null),n=e.value,i=e.closable,c=e.onClose,l=o.find((function(e){return G(e)?e.uid===n:e.id===n||e.uid===n}));if(!l)return null;return a.a.createElement(C.a,{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},closable:i,onClose:c,className:U("user-selector-tag"),closeIcon:a.a.createElement("span",{className:U("user-selector-tag-close-avatar-wrapper")},a.a.createElement(E.b,{name:"close",size:12,className:U("user-selector-tag-close-avatar")}))},a.a.createElement(_.a,{src:W(l),size:24,className:U("user-selector-tag-avatar")}),a.a.createElement("span",{className:U("user-selector-tag-label")},a.a.createElement(R.a,{textRef:t,title:l.name,placement:"bottom"},a.a.createElement("span",{className:"ellipsis-wrapper"},a.a.createElement("span",{ref:t,className:"ellipsis-text"},l.name)))))}},(t=window.appData.isYuque,null==n?void 0:n.map((function(n){var r=n.dep?U("isdep"):null;return a.a.createElement(F,{key:n.id||n.uid,value:n[e.keyField],label:n.name,className:U("menu-item")},a.a.createElement("span",{className:"".concat(U("user")," ").concat(r)},a.a.createElement(_.a,{className:U("icon"),src:W(n),name:n.name,size:32}),a.a.createElement("span",{className:U("title-wrap")},a.a.createElement("span",{className:U("title")},a.a.createElement("span",{className:U("name")},n.name),t&&n.login&&a.a.createElement("span",{className:U("login")},"(",n.login,")"),!t&&n.lastName&&a.a.createElement("span",{className:U("login")},"(",n.lastName,")")),n.dep&&a.a.createElement("span",{className:U("dep")},a.a.createElement(Y,{user:n})))))})))))}V.defaultProps={keyField:"login"},V.propTypes={keyField:i.a.string,value:i.a.array.isRequired,users:i.a.array.isRequired,selectedUsers:i.a.array.isRequired,getUsers:i.a.func.isRequired,onChange:i.a.func.isRequired,getRef:i.a.func,placeholder:i.a.string,notFoundContent:i.a.node};var H=V,K=(n(43),n(10)),Q=n(141);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=re(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function $(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(){J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Z(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Z(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ee(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,c,"next",e)}function c(e){ee(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(){setTimeout((function(){window.location.reload()}),2e3)},ie="yq_only_staff";function ce(e){var t=e.roles,n=e.searchUser,a=e.checkValid,o=e.getUserCount,i=e.disableMeta,c=e.onSubmit,l=e.afterSubmit,u=void 0===l?oe:l,s=e.initialValues,f=e.onChange,d=e.getDefaultUsers,m=ne(Object(r.useState)([]),2),p=m[0],h=m[1],y=ne(Object(r.useState)([]),2),v=y[0],b=y[1],g=ne(Object(r.useState)(0),2),_=g[0],w=g[1],E=null===Q.a||void 0===Q.a?void 0:Q.a.get(ie),O=ne(Object(r.useState)(null===E||E>0),2),x=O[0],S=O[1],j=Object(r.useRef)(t&&t[0]),N=Object(r.useRef)(null),A=Object(r.useRef)([]),P=function(e,t){return!(!e||!t)&&(e.uid&&t.uid?e.uid===t.uid:e.login&&t.login?e.login===t.login:!(!t.provider_userid||!e.provider_userid)&&(e.provider_userid===t.provider_userid&&e.provider_type===t.provider_type))},k=function(){var e=te(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h([]),t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d(t);case 5:return r=e.sent,r=null===(n=r)||void 0===n?void 0:n.filter((function(e){return!v.some((function(t){return P(t,e)}))})),h(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=te(J().mark((function e(t){var r,a;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h([]),t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n(t);case 5:return a=e.sent,a=null===(r=a)||void 0===r?void 0:r.filter((function(e){return!v.some((function(t){return P(t,e)}))})),h(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return null==e?void 0:e.map((function(e){return[].concat($(p),$(v)).find((function(t){return t.uid===e}))}))},L=function(e){return null==e?void 0:e.filter((function(e){return e._valid}))},I=Object(r.useCallback)(M()((function(e){var t=e.status;t&&K.a[t]?K.a[t](e.message):K.a.warn(e.message)}),300),[]),R=function(e){return null==e?void 0:e.map((function(e){if("_valid"in e)return e;var t=a(e);return t&&"success"===t.status?e._valid=!0:(e._valid=!1,I(t)),e}))};Object(r.useEffect)((function(){Q.a.set(ie,x?1:0)}),[x]),Object(r.useEffect)((function(){function e(){return(e=te(J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(s);case 2:t=e.sent,n=null==(r=t)?void 0:r.map((function(e){return"_valid"in e||(e._valid=!0),e})),b(n),o&&w(o(L(n)));case 6:case"end":return e.stop()}var r}),e)})))).apply(this,arguments)}!s||null!=v&&v.length||function(){e.apply(this,arguments)}()}),[s]);var D=function(e){var t=R(e);b(t),i||w(o(L(t)))},z=function(){var e=te(J().mark((function e(t){var n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(L(t));case 3:(n=e.sent)&&("success"===n.status?(I(n),setTimeout((function(){window.location.reload()}),2e3)):I(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),K.a.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=te(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(L(v),j.current,x);case 2:(t=e.sent)&&("success"===t.status?(I(t),u(t)):I(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{state:{users:p,selected:v,userCount:_,onlyStaff:x},getUsers:T,getRef:function(e){N.current=e.current},disableSubmit:function(){return 0===v.length},handleSelect:function(e){if(N.current){Array.isArray(e)||(e=[e]);var t,n=$(A.current),r=$(v),a=X(e);try{var o=function(){var e=t.value;n.every((function(t){return t.uid!==e.uid}))&&n.push(e),r.every((function(t){return t.uid!==e.uid}))&&r.push(e)};for(a.s();!(t=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}h(n),A.current=n,D(r)}},handleDeselect:function(e){if(N.current){Array.isArray(e)||(e=[e]);var t,n=$(v),r=X(e);try{var a=function(){var e=t.value,r=n.findIndex((function(t){return t.uid===e.uid}));r>-1&&n.splice(r,1)};for(r.s();!(t=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}D(n)}},handleChange:function(e){var t=R(C(e)),n=null==t?void 0:t.filter((function(e){return e._valid}));n.length===t.length?(b(t),i||w(o(L(t))),setTimeout((function(){h([])}),300)):b(n)},handleRoleChange:function(e){j.current=e},handleSubmit:B,handleFocus:function(){N.current.focus()},userHandleChange:function(e){var t=R(C(e)),n=null==t?void 0:t.filter((function(e){return e._valid}));(null==n?void 0:n.length)===(null==t?void 0:t.length)?(b(t),setTimeout((function(){h([])}),300),z(t)):b(n)},setOnlyStaff:S}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var se=function(e){return"larkui-member-selector-search".concat(e?"-".concat(e):"")};function fe(e){var t,n,r=e.selected,o=void 0===r?[]:r,i=e.onlyStaff,c=void 0!==i&&i,l=o.filter((function(e){return e._valid})),u="";1===o.length&&"Department"===o[0].type?u=c?__("已选择 {departmentName} 部门正式员工",{departmentName:null===(t=o[0])||void 0===t?void 0:t.name}):__("已选择 {departmentName} 部门所有人",{departmentName:null===(n=o[0])||void 0===n?void 0:n.name}):u=__("已选择 {count} 个",{count:l.length});return a.a.createElement("span",{className:e.className},u)}function de(e){var t;if(e.roles&&1===e.roles.length)t=a.a.createElement("span",{className:se("role-text")},e.roles[0].label);else{var n=e.roleSelector;t=n?a.a.createElement(n,{roles:e.roles,defaultRole:e.defaultRole,onChange:e.onRoleChange}):a.a.createElement(T,{roles:e.roles,defaultRole:e.defaultRole,onChange:e.onRoleChange})}return a.a.createElement("span",{className:e.className},a.a.createElement("span",null,e.actionTipText||__("添加为：")),t)}function me(e){var t,n,o=e.selectors,i=e.onlyStaff,c=1===o.length,l=c?0:null,u=!window.appData.isYuque,s=le(Object(r.useState)(l),2),f=s[0],d=s[1],m=null==f&&!c,p=function(e){c||d(e)};return a.a.createElement("div",{className:se("quick-selector-container")},m?a.a.createElement("div",{className:se("quick-selector-choose")},a.a.createElement("h2",{className:se("quick-selector-title")},__("快捷添加")),a.a.createElement("div",{className:se("quick-selector-list")},o.map((function(e,t){return a.a.createElement("div",{key:e.props.id,type:"flex",justify:"start",align:"middle",className:se("quick-selector-item"),onClick:function(){return p(t)}},a.a.createElement(g.a,{placement:"top",title:"outsourcer"===e.props.id&&a.a.createElement("div",null,__("外部联系人用于外部合作场景，管理员可将外部客户或合作伙伴添加为外部联系人。"),a.a.createElement("a",{className:se("outsourcer-tip-link"),href:"https://www.yuque.com/yuque/rvzzxz/uan0vd",target:"_blank"},__("查看详细介绍")))},e.props.iconName&&a.a.createElement(E.b,{className:se("selector-icon"),name:e.props.iconName,size:16}),!e.props.iconName&&e.props.getIconUrl&&a.a.createElement(_.a,{className:se("quick-selector-icon"),src:e.props.getIconUrl(),size:18}),a.a.createElement("span",{className:se("quick-selector-text")},__("从{title}添加",{title:e.props.title}))),a.a.createElement("div",null,a.a.createElement(E.b,{name:"arrow-right",size:16})))})))):(t=o[f],n=a.a.cloneElement(t,{className:se("quick-selector-main-list"),selected:e.selected,onSelect:e.onSelect,onDeselect:e.onDeselect,setOnlyStaff:e.setOnlyStaff,onlyStaff:e.onlyStaff}),a.a.createElement("div",null,a.a.createElement("h2",{className:se("quick-selector-subtitle")},!c&&a.a.createElement("span",{className:se("quick-selector-subicon"),onClick:function(){return p(null)}},a.a.createElement(w.default,null)),a.a.createElement("span",{onClick:function(){return p(null)}},__("从{title}添加",{title:t.props.title}))),a.a.createElement("div",{className:se("quick-selector-main")},n))),m&&u&&a.a.createElement("div",{className:se("member-type-switch-container")},a.a.createElement(b.a,{checked:i,size:"small",onChange:function(t){return null==e?void 0:e.setOnlyStaff(t)}})," ",a.a.createElement("span",null,__("仅添加集团正式员工"))))}function pe(e){var t=ce(e),n=t.state,r=t.getRef,o=t.getUsers,i=t.disableSubmit,c=t.handleSelect,l=t.handleDeselect,u=t.handleChange,s=t.handleRoleChange,f=t.handleSubmit,d=t.handleFocus,m=t.setOnlyStaff,p=!!window.appData.organization;return a.a.createElement("div",{className:se()},a.a.createElement(h.a,null,a.a.createElement(y.a,{span:e.quickSelectors&&e.quickSelectors.length>0?12:24,className:se("selector"),onClick:d},a.a.createElement("div",{className:se("content")},a.a.createElement(H,{keyField:"uid",getRef:r,value:n.selected.filter((function(e){return e._valid})).map((function(e){return e.uid})),users:n.users,selectedUsers:n.selected,getUsers:o,onChange:u,notFoundContent:e.notFoundContent,placeholder:p?__("输入人员名字搜索添加，可搜空间成员或外部联系人"):__("输入人员名字搜索添加")})),a.a.createElement("div",{className:se("footer")},e.disableMeta?null:a.a.createElement(fe,{className:se("meta"),selected:n.selected,onlyStaff:n.onlyStaff}),a.a.createElement("div",{className:se("action-container")},e.roles&&e.roles.length>0?a.a.createElement(de,{className:se("role"),defaultRole:e.roles[0],roles:e.roles,onRoleChange:s,actionTipText:e.actionTipText,roleSelector:e.roleSelector}):null,a.a.createElement("div",{className:se("footer-btn")},a.a.createElement(v.a,{type:"primary",onClick:f,disabled:i()},__("添加")))))),e.quickSelectors&&e.quickSelectors.length>0?a.a.createElement(y.a,{span:12},a.a.createElement(me,{selectors:e.quickSelectors,selected:n.selected,onSelect:c,onDeselect:l,setOnlyStaff:m,onlyStaff:n.onlyStaff})):null))}pe.defaultProps={id:"search",title:"搜索",onSubmit:function(){},getDefaultUsers:function(){}},pe.propTypes={id:i.a.string,title:i.a.string,getDefaultUsers:i.a.func,searchUser:i.a.func.isRequired,notFoundContent:i.a.node,onSubmit:i.a.func,actionTipText:i.a.oneOfType([i.a.string,i.a.node]),roleSelector:i.a.element};var he=pe,ye=n(3683),ve=(n(1378),n(1269)),be=(n(343),n(171)),ge=n(210),_e=n.n(ge),we=n(293),Ee=n.n(we),Oe=n(1356),xe=n(1357),Se=n(350),je=(n(71),n(35)),Ne=n(1362),Ae=n(1369),Pe=n(1376),ke="failed",Te="success",Ce="partial_fail",Le=function(e){var t,n=e.data,r=n.success_count,o=n.errorsList,i=n.total,c=n.message,l=function(){if(c)return ke;if(i>0){if(r===i)return Te;if(r<i&&(null==o?void 0:o.length)>0)return Ce}return ke}(),u=[{title:"行数",dataIndex:"rowIndex"},{title:"工号",dataIndex:"work_id"},{title:"错误原因",dataIndex:"message"}],s=(null==o?void 0:o.length)||0;return a.a.createElement("div",{className:(t="batchTip","larkui-member-selector-batch".concat(t?"-".concat(t):""))},function(){if(l===Te)return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,a.a.createElement(Ne.default,{className:"infoIcon success"})),a.a.createElement("div",{className:"tip"},__("执行了 {total} 条数据导入",{total:i}),"，",__("导入成功 {success_count} 位成员",{success_count:r})));if(l===ke&&c)return a.a.createElement("div",{className:"tip"},a.a.createElement(Ae.default,{className:"infoIcon failed"}),c);var e=o.length>20&&{pageSize:20};return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,l===ke?a.a.createElement(Ae.default,{className:"infoIcon failed}"}):a.a.createElement(Pe.default,{className:"infoIcon warning"})),a.a.createElement("div",{className:"tip"},__("执行了 {total} 条数据导入",{total:i}),"，",__("导入成功 {success_count} 位成员",{success_count:r}),"，",__("导入失败 {error_total} 条记录",{error_total:s})),a.a.createElement(je.a,{dataSource:o,columns:u,pagination:e}))}())};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Me(){Me=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ie(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ie(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Re(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Be=be.a.Dragger,Ye={upload:"upload",uploading:"uploading",uploaded:"uploaded"};function Ue(e){var t=e.onCancel,n=e.onSubmit,a=e.visible,o=e.type,i=e.group,c=e.book,l=e.doc,u=De(Object(r.useState)(null),2),s=u[0],f=u[1],d=De(Object(r.useState)(0),2),m=d[0],p=d[1],h=De(Object(r.useState)(Ye.upload),2),y=h[0],v=h[1],b=De(Object(r.useState)({}),2),g=b[0],_=b[1],w=De(Object(r.useState)(!1),2),E=w[0],O=w[1];function x(){f(null),p(0),v(Ye.upload)}function S(){var e=new FormData;return e.append("file",s),"group"===o&&e.append("group_id",i.id),"book"===o&&(e.append("target_id",c.id),e.append("target_type","Book"),e.append("status","1")),"doc"===o&&(e.append("target_id",l.id),e.append("target_type","Doc"),e.append("status","1")),e.append("onlyStaff","0"),e.append("role","1"),e}function j(e){if("book"===o||"doc"===o){var t=e.success_count,n=e.total,r=e.errorsList;return{success_count:t,total:n,errorsList:void 0===r?[]:r}}if(e.data){var a=e.data,i=a.success_count,c=a.total,l=a.errorsList;return{success_count:i,total:c,errorsList:void 0===l?[]:l}}return{success_count:0,total:0,errorsList:[]}}function N(){var e;return e=Me().mark((function e(){var t,n,r,a,i;return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Ye.uploading),t=S(),n="group"===o?"/api/group_users/import":"/api/collaborations/import",e.prev=3,e.next=6,Ee.a.post(n,t,{headers:{"x-csrf-token":Object(Se.a)(window,!0)},onUploadProgress:function(e){var t=e.total,n=e.loaded;p(Number(Math.round(n/t*100).toFixed(0)))}});case 6:r=e.sent,a=r.data,i=j(a),_(i),O(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),_({status:400,message:e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message});case 16:v(Ye.uploaded),p(0);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})),N=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Re(o,r,a,i,c,"next",e)}function c(e){Re(o,r,a,i,c,"throw",e)}i(void 0)}))},N.apply(this,arguments)}return{state:{file:s,progress:m,status:y,visible:a,result:g},beforeUpload:function(e){return f(e),!1},handleUpload:function(){return N.apply(this,arguments)},cancel:function(){t(),x(),E&&n()},onSubmit:n,reset:x,finish:function(){window.location.reload()}}}function Fe(e){var t,n=Ue(e),r=n.state,o=r.file,i=r.status,c=r.progress,l=r.result,u=n.beforeUpload,s=n.handleUpload,f=n.cancel,d=n.reset,m=n.finish;function p(){return o?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,a.a.createElement(E.b,{name:"file-excel",size:32})),a.a.createElement("p",null,o.name,"(",_e()(o.size),")")):null}function h(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("p",null,__("1、下载模板")),a.a.createElement("div",{className:"desc"},a.a.createElement("span",null,__("根据提示信息完善表格内容")),a.a.createElement(v.a,{className:"downloadBtn",icon:a.a.createElement(xe.default,null),href:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/file/A*UehdSJnpV2YAAAAAAAAAAAAADvuFAQ/%E5%AF%BC%E5%85%A5%E6%A8%A1%E6%9D%BF.xlsx"},__("下载模板")))),a.a.createElement("div",null,a.a.createElement("p",null,__("2、导入文件")),a.a.createElement(Be,{beforeUpload:u,accept:".csv,.xlsx,.xls",showUploadList:!1},o?a.a.createElement(a.a.Fragment,null,p(),a.a.createElement("p",null,a.a.createElement(v.a,null,__("重新上传"))," ")):o?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,a.a.createElement(E.b,{name:"icon-excel-gray",size:32})),a.a.createElement("p",null,a.a.createElement(v.a,{className:"iconBtn",icon:a.a.createElement(Oe.default,null)},__("上传文件"))),a.a.createElement("div",{className:"info"},__("可直接将文件拖拽到此处进行上传，支持 xlsx、xls、csv 格式"))))),a.a.createElement("div",{className:"footer"},a.a.createElement(v.a,{type:"primary",disabled:!o,onClick:s},__("导入")),a.a.createElement(v.a,{onClick:d},__("取消"))))}return a.a.createElement("div",{className:(t="batchBox","larkui-member-selector-batch".concat(t?"-".concat(t):""))},function(){switch(i){case Ye.uploading:return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"bodyContainer uploading"},p(),a.a.createElement("p",null,a.a.createElement(ve.a,{percent:c,status:"active"}))),a.a.createElement("div",{className:"footer"},a.a.createElement(v.a,{disabled:!0},__("导入中")),a.a.createElement(v.a,{onClick:f},__("取消"))));case Ye.uploaded:return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"bodyContainer uploading"},a.a.createElement(Le,{data:l})),a.a.createElement("div",{className:"footer"},a.a.createElement(v.a,{onClick:d},__("再次上传")),a.a.createElement(v.a,{type:"primary",onClick:m},__("完成"))));default:return h()}}())}Fe.defaultProps={visible:!1},Fe.propTypes={visible:i.a.bool};var qe=Fe,Ge=(n(1031),n(813)),We=(n(689),n(225)),Ve=(n(270),n(135)),He=(n(3209),n(3483)),Ke=n(6),Qe=n.n(Ke);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Xe(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(){$e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ze(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ze(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Je(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,c,"next",e)}function c(e){Je(o,r,a,i,c,"throw",e)}i(void 0)}))}}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ct=function(e){return"larkui-member-selector-list".concat(e?"-".concat(e):"")};function lt(e){return a.a.createElement("div",{className:ct("breadcrumb")},a.a.createElement(He.a,null,!e.disableNavTop&&a.a.createElement(He.a.Item,{onClick:function(t){e.disabled||e.getData({getTop:!0})}},"全部"),e.navs&&e.navs.map((function(t,n){return a.a.createElement(He.a.Item,{key:t.id,onClick:function(n){return function(t,n){e.disabled||e.getData(n)}(0,t)},disabled:e.disabled},t.name)}))))}function ut(e){return a.a.createElement("span",{className:"".concat(ct("item-icon")," icon-organization"),onClick:function(t){e.disabled||e.getData(e.sub)}},a.a.createElement("span",{className:"".concat(ct("item-larkicon"))},a.a.createElement(E.b,{name:"lower-level",size:16})),a.a.createElement("span",null,__("下级")))}function st(e){var t=e.item,n=window.appData.isYuque;return t.isTop?a.a.createElement("div",{className:ct("item"),onClick:function(){return e.getData(t)}},a.a.createElement(E.b,{name:"group-type-department",className:"".concat(ct("larkicon")),size:16}),a.a.createElement("span",{className:ct("item-name")},t.name)):a.a.createElement("div",{className:ct("item")},a.a.createElement(We.a,{className:ct("checked"),value:t.uid,checked:t.checked||e.disabled,onChange:function(n){n.target.checked?e.onSelect(n,t):e.onDeselect(t)},disabled:t.disabled||e.disabled},t.loading?a.a.createElement(Ve.a,null):a.a.createElement("span",{className:ct("user")},t.avatar_url&&a.a.createElement(_.a,{className:ct("icon"),src:t.avatar_url,size:24}),a.a.createElement("span",null,a.a.createElement("span",{className:ct("title")},a.a.createElement("span",{className:ct("name")},t.name),n&&t.login&&a.a.createElement("span",{className:ct("login")},!t.sub&&a.a.createElement(a.a.Fragment,null,"("),t.login,!t.sub&&a.a.createElement(a.a.Fragment,null,")")),!n&&t.lastName&&a.a.createElement("span",{className:ct("login")},!t.sub&&a.a.createElement(a.a.Fragment,null,"("),t.lastName,!t.sub&&a.a.createElement(a.a.Fragment,null,")")))))),t.sub&&a.a.createElement("div",{className:ct("item-action")},a.a.createElement(ut,{sub:t.sub,getData:e.getData,disabled:e.disabledSub})))}function ft(e){var t=at(Object(r.useState)(!1),2),n=t[0],a=t[1],o=at(Object(r.useState)([]),2),i=o[0],c=o[1],l=at(Object(r.useState)(!1),2),u=l[0],s=l[1],f=at(Object(r.useState)(e.enableSelectNav),1)[0],d=at(Object(r.useState)(!1),2),m=d[0],p=d[1],h=at(Object(r.useState)([]),2),y=h[0],v=h[1],b=e.onlyStaff,g=function(t){var n,r,a=t;return b&&null!==(n=a)&&void 0!==n&&n.length&&(a=a.filter((function(e){var t=e.work_id||e.workid;return!t||!t.startsWith("WB")}))),(null===(r=a)||void 0===r?void 0:r.map((function(t){var n=e.checkValid(t);return nt(nt({},t),{},{_valid:n&&"success"===n.status})})))||[]},_=function(t,n,r){var a=t.reduce((function(e,t){return e[t.uid]=t,e}),{});if(e.enableDepthAll&&r){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ot(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(r);try{for(i.s();!(o=i.n()).done;){if(a[o.value.uid])return g(n).map((function(e){return nt(nt({},e),{},{checked:!0,disabled:!0})}))}}catch(e){i.e(e)}finally{i.f()}}return g(n).map((function(e){var n=t.find((function(t){return t.uid===e.uid}));return nt(nt({},e),{},{checked:n&&e._valid})}))}(e.selected,y,i),w=function(e){var t=e.some((function(e){return e.checked})),n=!e.some((function(e){return!(e.checked||m||!1===e._valid)}));return{allChecked:n,allDisabled:e.every((function(e){return e.disabled})),allIndeterminate:!n&&t}}(_),E=w.allChecked,O=w.allDisabled,x=w.allIndeterminate,S=function(e){return et($e().mark((function t(){var n,r,o,i,l,u=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a(!0),r=u.length,o=new Array(r),i=0;i<r;i++)o[i]=u[i];return t.next=4,e.apply(void 0,o);case 4:l=t.sent,o&&o[0]&&o[0].getTop?s(!1):(null===(n=l.users)||void 0===n?void 0:n.length)>0?s(!0):s(!1),c(l.navs),v(l.users),a(!1);case 9:case"end":return t.stop()}}),t)})))},j=S(e.getData),N=S(e.getInitData);Object(r.useEffect)((function(){N()}),[]);return{state:{list:_,navs:i,showAll:u,showNavSelect:f,loading:n,allChecked:E,allIndeterminate:x,allDisabled:O,navSelectChecked:m,enableMemberTypeSwitch:e.enableMemberTypeSwitch,onlyStaff:e.onlyStaff},getData:j,handleSelect:function(t,n){t.target.checked&&e.enableDepthAll&&n.sub?(v(Xe(y).map((function(e){return e.id===n.id?e.loading=!0:e.loading=!1,e}))),e.getData(n.sub).then((function(t){v(Xe(y).map((function(e){return e.loading=!1,e}))),n.name=t.name,e.onSelect(n)}))):e.onSelect(n)},handleAllSelect:function(t){t.target.checked?e.onSelect(_):e.onDeselect(_)},handleRoleChange:function(e){j({role:e.value})},handleNavSelect:function(t,n){t.target.checked?(p(!0),e.onSelect(n)):(p(!1),e.onDeselect(n))},handleMemberTypeChange:function(t){var n;null===(n=e.setOnlyStaff)||void 0===n||n.call(e,t)}}}function dt(e){var t=ft(e),n=t.state,r=t.handleAllSelect,o=t.handleSelect,i=t.handleNavSelect,c=t.handleRoleChange,l=t.getData,u=t.handleMemberTypeChange,s=e.getFilterRoles&&e.getFilterRoles(),f=n.navs&&n.navs[n.navs.length-1];return a.a.createElement("div",{className:Qe()("".concat(e.className," ").concat(ct()),rt({},ct("member-switch"),n.enableMemberTypeSwitch))},a.a.createElement("div",{className:Qe()(rt({},ct("member-switch-inner"),n.enableMemberTypeSwitch))},s&&a.a.createElement("div",{className:ct("role-filter")},a.a.createElement(T,{roles:s,onChange:c})),n.navs&&n.navs.length?a.a.createElement(lt,{getData:l,navs:n.navs,disabled:n.navSelectChecked,disableNavTop:e.disableNavTop}):null,n.showNavSelect&&f&&a.a.createElement("div",{className:ct("select-dep")},a.a.createElement(We.a,{onChange:function(e){return i(e,f)}},a.a.createElement("span",{className:ct("select-dep-name")},__("选择{dep}所有成员",{dep:f.name})))),n.showAll&&!n.loading?a.a.createElement("div",{className:ct("select-all")},a.a.createElement(We.a,{onChange:function(e){return r(e)},indeterminate:n.allIndeterminate,checked:n.allChecked||n.navSelectChecked,disabled:n.allDisabled||n.navSelectChecked},__("全选（本页面上的人员）"))):null,a.a.createElement(Ge.a,{className:ct("list"),justify:"block",dataSource:n.list,loading:n.loading,locale:{emptyText:"outsourcer"===e.id?a.a.createElement("div",{className:ct("empty-view")},a.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*lzOXRp21hVEAAAAAAAAAAAAAARQnAQ"}),a.a.createElement("p",null,__("暂无外部联系人"))):a.a.createElement("div",null,__("暂无数据"))},renderItem:function(t){return a.a.createElement(st,{onSelect:o,onDeselect:e.onDeselect,item:t,getData:l,disabled:n.navSelectChecked||!1===t._valid,disabledSub:n.navSelectChecked})}})),n.enableMemberTypeSwitch&&a.a.createElement("div",{className:ct("member-type-switch-container")},a.a.createElement(b.a,{checked:n.onlyStaff,disabled:n.loading,size:"small",onChange:u})," ",a.a.createElement("span",null,__("仅添加集团正式员工"))))}dt.defaultProps={disableNavTop:!1,enableDepthAll:!1,enableSelectNav:!1},dt.propTypes={id:i.a.number,getData:i.a.func,onSelect:i.a.func,onDeselect:i.a.func,checkValid:i.a.func,disableNavTop:i.a.bool,enableDepthAll:i.a.bool,enableSelectNav:i.a.bool};var mt=dt,pt=function(e){return"larkui-member-selector-import".concat(e?"-".concat(e):"")};function ht(e){var t=e.getUploadProps(),n=e.getBtnText();return a.a.createElement("div",{className:pt()},a.a.createElement("p",{className:pt("desc")},a.a.createElement("span",null,a.a.createElement("a",{href:e.templateUrl},__("下载模板文件（import_users.txt）")),__("填写人员信息，")),a.a.createElement("span",null,n)),a.a.createElement("div",null,a.a.createElement(be.a,t,a.a.createElement(v.a,null,a.a.createElement(Oe.default,null)," ",__("选择文件并提交")))))}ht.defaultProps={templateUrl:"https://cdn.nlark.com/import_users.txt"},ht.propTypes={role:i.a.number.isRequired,getUploadProps:i.a.func.isRequired,getBtnText:i.a.func.isRequired,templateUrl:i.a.string};var yt=ht;function vt(e){var t,n=ce(e),r=n.state,o=n.getRef,i=n.getUsers,c=n.userHandleChange;return a.a.createElement("div",null,a.a.createElement(H,{userClassType:e.userClassType,isLiteSearchSelector:e.isLiteSearchSelector,keyField:"uid",getRef:o,selectedUsers:r.selected,value:null===(t=r.selected)||void 0===t?void 0:t.filter((function(e){return e._valid})).map((function(e){return e.uid})),users:r.users,getUsers:i,onChange:c,notFoundContent:e.notFoundContent,placeholder:__("输入成员名字搜索添加")}))}vt.defaultProps={onChange:function(){}},vt.propTypes={userClassType:i.a.string,searchUser:i.a.func.isRequired,notFoundContent:i.a.node,onChange:i.a.func};var bt=vt,gt={groups:"DingTalkGroupSelector-module_groups_GrxWm",checkbox:"DingTalkGroupSelector-module_checkbox_ryHx-",user:"DingTalkGroupSelector-module_user_e26Pr",avatar:"DingTalkGroupSelector-module_avatar_7hoxt",name:"DingTalkGroupSelector-module_name_xw1v1"};function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function wt(){wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==_t(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_t(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Et(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function St(e){var t=Ot(Object(r.useState)([]),2),n=t[0],a=t[1],o=Ot(Object(r.useState)(!0),2),i=o[0],c=o[1],l=function(){var t,n=(t=wt().mark((function t(){var n,r;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.biz.getInitData();case 2:n=t.sent,r=n.users,a(r),c(!1);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Et(o,r,a,i,c,"next",e)}function c(e){Et(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),{state:{loading:i,dingTalkGroups:n}}}function jt(e){var t=e.item;return a.a.createElement("div",null,a.a.createElement(We.a,{value:t.uid,onChange:function(n){n.target.checked?e.onSelect(t):e.onDeselect(t)},disabled:t.disabled,className:gt.checkbox},a.a.createElement("span",{className:gt.user},t.avatar_url&&a.a.createElement(_.a,{className:gt.avatar,src:t.avatar_url,size:24}),a.a.createElement("span",{className:gt.name,title:t.name},t.name))))}var Nt=function(e){var t=St({biz:e.biz}).state,n=t.dingTalkGroups,r=t.loading;return a.a.createElement("div",{className:gt.groups},a.a.createElement(Ge.a,{dataSource:n,loading:r,locale:{emptyText:a.a.createElement("div",null,__("暂无数据"))},renderItem:function(t){return a.a.createElement(jt,{item:t,onSelect:e.onSelect,onDeselect:e.onDeselect})}}))};function At(e){return a.a.createElement(p,{ref:e.titleRef,selectors:e.selectors,getWidth:e.getWidth,defaultTabKey:e.defaultTabKey,onCancel:e.onCancel,onClose:e.onClose,visible:e.visible})}At.ListSelector=mt,At.SearchSelector=he,At.InviteSelector=ye.a,At.BatchSelector=qe,At.ImportSelector=yt,At.LiteSearchSelector=bt,At.DingTalkGroupSelector=Nt,At.propTypes={titleRef:i.a.object,selectors:i.a.array,defaultTabKey:i.a.string,getWidth:i.a.func,onCancel:i.a.func,onClose:i.a.func,visible:i.a.bool};t.a=At},3627:function(e,t,n){"use strict";var r=n(55),a=n.n(r),o=n(88),i=function(e){return e.AntDingTalkGroup="AntDingTalkGroup",e.BucUser="BucUser",e}({}),c=n(435),l=n(97),u=n(2869),s=n.n(u),f=n(48),d=n(3345),m=n(92);var p=n(3623),h=n(3384);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){_=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",v={};function b(){}function g(){}function w(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(E=x);var S=w.prototype=b.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==y(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(y(t)+" is not iterable")}return g.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function E(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,c,"next",e)}function c(e){x(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function N(e,t,n){return t=P(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,n||[],P(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function T(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var L=new a.a("user:search_selector:biz"),I=h.memberSelectorType.GROUP,M=h.memberSelectorType.BOOK,R=h.memberSelectorType.DOC,D=h.memberSelectorType.SIMPLE_WITH_ROLE,z=h.memberSelectorType.LIST,B=h.memberSelectorType.SIMPLE,Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T(n=N(this,t,[e]),"_getSubmitBaseParams",(function(){return n.type===I?{group_id:n.target_id}:n.type===M||n.type===R?{target_id:n.target_id,target_type:n.target_type,status:c.STATUS.joined}:n.type===z?{list_id:n.target_id}:{}})),T(n,"getRealUsers",function(){var e=S(_().mark((function e(t){var r,a,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.dataSourceServices){e.next=2;break}return e.abrupt("return",t);case 2:r=w(n.dataSourceServices),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}if(!(o=a.value).getRealUsers){e.next=11;break}return e.next=10,o.getRealUsers(t);case 10:t=e.sent;case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()),T(n,"getUserCount",(function(e){var t;if(n.dataSourceServices){var r,a=w(n.dataSourceServices);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.getUserCount){t=o.getUserCount(e);break}}}catch(e){a.e(e)}finally{a.f()}}return void 0===t&&null!=e&&e.length?e.length:t||0})),T(n,"submit",function(){var e=S(_().mark((function e(t,r,a){var o,l,u,d,m,p,h,y,v,b,w;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=null,m=[],window.appData.isYuque||((d=t.find(n.isDepartment))&&(t=t.filter((function(e){return!n.isDepartment(e)}))),t.forEach((function(e){e.origin_type===i.AntDingTalkGroup&&m.push(e.origin_id)})),t=t.filter((function(e){return"AntDingTalkGroup"!==e.origin_type}))),L("[search_selector.submit] data: ",{target_type:n.target_type,dingTalkGroupsIds:m,department:d,users:t}),e.next=6,n.getRealUsers(t);case 6:if(t=e.sent,L("[submit] real users: ",{users:t}),p=s()(g(g({},n._getSubmitBaseParams()),{},{users:n.serializeUserPostBody(t),department_id:null===(o=d)||void 0===o?void 0:o.id,onlyStaff:a})),r&&(p.role=r.value),h=null,y=0,L("[submit]add users params: ",p),!(p.users.length>0||p.department_id)){e.next=22;break}return e.next=16,n.createProxy(p);case 16:if(h=e.sent,L("[submit]add users result: ",h),"Group"!==n.target_type){e.next=21;break}if(!(h.success_count<=0&&h.errors&&h.errors.length>0)){e.next=21;break}return e.abrupt("return",{status:"error",message:__("[ {members} ] 添加失败; 错误原因: {message}",{members:h.errors.map((function(e){return e.name})).join(", "),message:h.message}),data:h});case 21:y=Array.isArray(h)?h.length:h.success_count||0;case 22:if(!(["Book","Doc"].includes(n.target_type)&&m.length>0)){e.next=30;break}return e.next=25,f.a.collaborations.addDingTalkGroup({target_type:p.target_type,target_id:p.target_id,dingtalk_group_ids:m,role:p.role||c.ROLE.readonly});case 25:v=e.sent,y+=v.length,L("[submit]add dingtalk group result: ",v),h=(h=h||[]).concat(v);case 30:if(0!==(null===(l=h)||void 0===l?void 0:l.success_count)&&0!==(null===(u=h)||void 0===u?void 0:u.length)){e.next=34;break}if(b=a?__("已限制仅添加正式员工,请检查选择成员是否正式员工或者已经被添加"):__("选择的成员已被添加"),a){e.next=34;break}return e.abrupt("return",{status:"warn",message:b,data:h});case 34:return w="",w=["Book","Doc"].includes(n.target_type)?__("成功添加了 {count} 个协作者",{count:y}):__("成功添加了 {count} 个成员",{count:y}),e.abrupt("return",{status:"success",message:w,data:h});case 37:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),T(n,"checkValid",(function(e){return n.isMember(e)?{status:"error",message:__("成员已存在")}:{status:"success",message:"ok"}})),T(n,"searchUser",function(){var e=S(_().mark((function e(t){var r,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={q:t}).include_unconfirmed_corp_account=!0,window.appData.organization&&(r.optional_properties="profile"),e.next=5,f.a.users.complete(r);case 5:return a=e.sent,e.abrupt("return",n.dealUsers(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(n,"searchUsersByIds",function(){var e=S(_().mark((function e(t){var r,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={ids:t},e.next=3,f.a.users.listByIds(r);case 3:return a=e.sent,e.abrupt("return",n.dealUsers(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(n,"dealUsers",(function(e){return e=e.map((function(e){return n.setUid(e),e.type="User",e.profile&&e.profile.status===o.STATUS.joined&&(e.dep=e.profile.department||l.a.getMemberRoleName(e.profile.role),e.avatar_url=e.profile.orgAvatar||e.avatar||e.avatar_url),e}))})),n.dataSourceServices=e.dataSourceServices,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.init(),n}}],(r=[{key:"init",value:function(){var e;this.type===I?(this.group.members&&(this.members=Object(p.a)(this.group)),this.target_id=this.group.id,this.target_type="Group",this.abilities=this.group.abilities,this.createProxy=f.a.groupUsers.create):this.type===M?(this.book.collaborators&&(this.members=Object(p.a)(this.book)),this.target_id=this.book.id,this.target_type="Book",this.abilities=this.book.abilities,this.createProxy=f.a.collaborations.create):this.type===R?(this.doc.collaborations&&(this.members=Object(p.a)(this.doc)),this.target_id=this.doc.id,this.target_type="Doc",this.createProxy=f.a.collaborations.create,this.abilities=this.doc.abilities):[D,B].includes(this.type)&&(this.members=[].concat(v(this.members),[this.me])),this.status="organization"===(e=this.type)?o.default.STATUS:"group"===e?m.default.STATUS:"book"===e||"doc"===e?c.default.STATUS:void 0}},{key:"isOwner",value:function(){return this.abilities.manage}},{key:"isMember",value:function(e){return!(!this.members||0===this.members.length)&&this.members.some((function(t){return Object(p.b)(t,e)}))}}])&&j(n.prototype,r),a&&j(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);T(Y,"id","search"),T(Y,"title",__("搜索添加"));t.a=Y},3628:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(59),i="OrgSearchNotFound-module_container_MlZtJ",c="OrgSearchNotFound-module_icon_oJoZx",l="OrgSearchNotFound-module_content_CgmVs",u="OrgSearchNotFound-module_goToContacts_mFsnK";t.a=function(e){var t,n=window.appData.organization;return a.a.createElement("div",{className:i},a.a.createElement("div",{className:c},a.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*lzOXRp21hVEAAAAAAAAAAAAAARQnAQ",width:80})),a.a.createElement("p",{className:l},__("空间内无相关搜索结果")),(null==n||null===(t=n.abilities)||void 0===t?void 0:t.destroy)&&a.a.createElement("a",{className:u,target:"_blank",href:"/r/organizations/dashboard/contacts"},__("管理空间通讯录"),a.a.createElement(o.b,{name:"arrow-right",size:16})))}},3637:function(e,t,n){"use strict";n(43);var r=n(10),a=n(0),o=n.n(a),i=n(4),c=n.n(i),l=n(524),u=n(3626),s=n(3627),f=n(3680),d=n(3345);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function h(e,t,n){return t=v(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],(r=[{key:"check",value:function(){this.target||(this.enable=!1)}}])&&p(n.prototype,r),a&&p(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);g(w,"id","BatchSelector"),g(w,"title",__("批量导入"));var E=w,O=n(291),x=n.n(O),S=n(3422),j=n.n(S),N=n(48),A=n(97),P=n(445);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(){L=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new T(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(C([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==k(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(k(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function I(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,c,"next",e)}function c(e){I(o,r,a,i,c,"throw",e)}i(void 0)}))}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function D(e,t,n){return t=B(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z()?Reflect.construct(t,n||[],B(e).constructor):t.apply(e,n))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function U(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var q=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(n=D(this,t,[e]),"enableDepthAll",(function(){return!1})),U(n,"getIconUrl",(function(){var e=window.appData,t=e.isYuque,n=e.corp,r=e.organization,a={buc:"https://gw.alipayobjects.com/zos/bmw-prod/8d7f7670-2c26-4ba5-bb0f-fb124e7f9fc8.svg",dingtalk:"https://gw.alipayobjects.com/zos/bmw-prod/4c033358-95df-4e2a-b468-89fe697fc03d.svg",wechat:"https://gw.alipayobjects.com/zos/bmw-prod/8f2f3dae-cc7c-455c-9579-ed042085da7d.svg"};return t?n?a[n.type]:r&&r.logo:a.buc})),U(n,"getInitData",M(L().mark((function e(){var t,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.mine.department({self:!0});case 2:if((r=e.sent)&&0!==r.length){e.next=9;break}return e.next=6,n.getTopData();case 6:t=e.sent,e.next=10;break;case 9:t=n.getData(r[r.length-1]);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))),U(n,"fetchCache",function(){var e=M(L().mark((function e(t,r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.cacheFetch[t]){e.next=5;break}return e.next=4,r();case 4:n.cacheFetch[t]=e.sent;case 5:return e.abrupt("return",x()(n.cacheFetch[t]));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U(n,"getData",M(L().mark((function e(){var t,r,a,o,i,c,l,u=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a=(t=u.length>0&&void 0!==u[0]?u[0]:{}).id,!t.getTop){e.next=9;break}return e.next=6,n.getTopData();case 6:return o=e.sent,r.users=n.adpatUIListData(o),e.abrupt("return",r);case 9:if(!(n.enableDepthAll()&&n.isDepartment(t))&&!n.cacheDepthRes[a]){e.next=15;break}return e.next=13,n.getDataWithDepth(t);case 13:return i=e.sent,e.abrupt("return",i);case 15:return c={id:a},e.next=18,n.fetchCache(a,M(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.users.department(c);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))));case 18:return(l=e.sent).parents&&l.parents.forEach((function(e){e&&(n.cacheParent[e.id]=e)})),r=n.serialize(l),n.cacheDeps[a]=r,e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})))),U(n,"getDataWithDepth",M(L().mark((function e(){var t,r,a,o,i,c,l,u=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=u.length>0&&void 0!==u[0]?u[0]:{}).id,a={id:r,depth:"all"},o=x()(n.cacheDepthRes),o[r]){e.next=12;break}return e.next=8,N.a.users.department(a);case 8:i=e.sent,n.cacheDepthRes=x()(C(C({},n.cacheDepthRes),i)),e.next=13;break;case 12:i=x()(o);case 13:return n.includeUserCount(i),(c=Object.keys(i)).forEach((function(e){var t=i[e].parent;t&&(n.cacheParent[e]=t)})),c.forEach((function(e){var t=i[e];t.parent=n.cacheParent[e],n.cacheDeps[e]=n.serialize(t)})),l=n.cacheDeps[r],t.name&&(l._name=t._name||t.name,l.name="".concat(l._name," (").concat(l.user_count,")")),e.abrupt("return",l);case 20:case"end":return e.stop()}}),e)})))),U(n,"adpatUIListData",(function(e){return e.map((function(e){var t=n.cacheDeps[e.id];n.setUid(e);var r={uid:e.uid,id:e.id,avatar_url:e.avatar_url,name:e.name,_name:e._name||e.name,user_id:e.user_id,work_id:e.work_id,login:e.login,type:e.type||"User",provider_type:e.provider_type,provider_userid:e.provider_userid,iconName:e.iconName,isTop:e.isTop,lastName:e.lastName};return t&&"user_count"in t&&(r.user_count=t.user_count,r.name="".concat(r._name," (").concat(r.user_count,")")),!e.isTop&&n.isDepartment(e)?r.sub=e:e.manageDepartment&&(r.sub=e.manageDepartment),r}))})),U(n,"adpatUINavData",(function(e){if(e){var t=[];if(Array.isArray(e))t=e;else{t.push(e);var r=function(e){if(e.parentDepId){var a=n.cacheParent[e.parentDepId];if(!a)return;Array.isArray(a)?t=a.concat(t):(t.unshift(a),r(a))}};r(e)}return t.map((function(e){return e.manageDepartment?{uid:"nav_".concat(e.manageDepartment.id),id:e.manageDepartment.id,name:e.manageDepartment.name,type:"Department"}:{uid:"nav_".concat(e.id),id:e.id,name:e.name,type:"Department"}}))}})),U(n,"getTopData",M(L().mark((function e(){var t,n,r,a,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.mine.department({self:!0});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,window.appData.isYuque||(a=[],0===(null===(n=window.appData.me)||void 0===n?void 0:n.zone_id)&&(a=[{id:P.BUC_ROOT_DEPARTMENTS.ALIBABA,name:__("阿里巴巴"),iconName:"organization",type:"Department"}]),1===(null===(r=window.appData.me)||void 0===r?void 0:r.zone_id)&&(a=[{id:P.BUC_ROOT_DEPARTMENTS.ANTGROUP,name:__("蚂蚁集团"),iconName:"organization",type:"Department"},{id:P.BUC_ROOT_DEPARTMENTS.MYBANK,name:__("网商银行"),iconName:"organization",type:"Department"},{id:P.BUC_ROOT_DEPARTMENTS.OCEANBASE,name:__("OceanBase"),iconName:"organization",type:"Department"}]),(o=t[0])&&(o.iconName="department",o.type="Department",a.push(o)),t=a),t=t.map((function(e){return e.isTop=!0,e.type="Department",e})),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))),U(n,"getAllDepUsers",function(){var e=M(L().mark((function e(t){var r,a,o,i,c,l,u;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,!(a=n.cacheDeps[r])){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,N.a.user.searchAllDepUsers({id:r});case 6:for(o=e.sent,i=Object.keys(o.data),c=0,l=i;c<l.length;c++)u=l[c],n.cacheDeps[u]=o.data[u];return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U(n,"getDepUsers",function(){var e=M(L().mark((function e(t){var r,a,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,!(a=n.cacheDeps[r])){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,N.a.user.userServices.searchDepUsers({id:r});case 6:return o=e.sent,n.cacheDeps[r]=o.data,e.abrupt("return",o.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U(n,"getRealUsers",(function(e){return j()(e,"uid")})),n.cacheDeps={},n.cacheParent={},n.cacheFetch={},n.cacheDepthRes={},n.enable=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),n=t,r=[{key:"check",value:function(){A.a.enableAddressbook()&&!A.a.enableContacts()&&(this.enable=!0)}},{key:"includeUserCount",value:function(e){var t=this;Object.keys(this.cacheDeps).forEach((function(e){t.cacheDeps[e].user_count=0})),Object.keys(e).forEach((function(n){var r=e[n];if(!Array.isArray(r)){if(r.user_count=(r.user_count||0)+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.users.filter((function(e){return"user"===e.type}));if(!e.depthUsers||!e.depthUsers.length)return t.length;var n=e.depthUsers.reduce((function(e,t){return e[t.uid]=t,e}),{});return t.filter((function(e){return!n[e.uid]})).length}(r),r.parent){var a=e[r.parent.parentDepId]||t.cacheDeps[r.parent.parentDepId];a&&(a.user_count=(a.user_count||0)+r.user_count,a.depthUsers=(a.depthUsers||[]).concat(r.users.filter((function(e){return t.isUser(e)}))),e[r.parent.parentDepId]=a,t.cacheDeps[r.parent.parentDepId]=a)}t.cacheDeps[n]=r}}))}}],a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],r&&R(n.prototype,r),a&&R(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);U(q,"id","addrbook"),U(q,"title",__("组织架构")),U(q,"iconName","architecture");var G=q;function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(){V=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==W(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(W(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function H(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,c,"next",e)}function c(e){H(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,te(r.key),r)}}function Z(e,t,n){return t=$(t),function(e,t){if(t&&("object"==W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,X()?Reflect.construct(t,n||[],$(e).constructor):t.apply(e,n))}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(X=function(){return!!e})()}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function ee(e,t,n){return(t=te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}var ne=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(e=Z(this,t,[n]),"getIconUrl",(function(){return e.organization.logo})),ee(e,"getInitData",K(V().mark((function t(){var n;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))),ee(e,"getData",K(V().mark((function t(){var n,r;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cache){t.next=2;break}return t.abrupt("return",e.cache);case 2:return t.next=4,N.a.organizationUsers.find({organization_id:e.organization.id,user_role:2,status:1,offset:0,limit:500});case 4:return n=t.sent,r=e.serialize({users:n}),e.cache=r,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))),ee(e,"adpatUIListData",(function(t){return t.map((function(t){var n=t.user;return e.setUid(t),{uid:t.uid,id:t.id,avatar_url:n.avatar_url,name:n.name,user_id:n.id,work_id:n.work_id,login:n.login,type:n.type,provider_type:n.provider_type,provider_userid:n.provider_userid}}))})),e.organization=n.organization||window.appData.organization,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],(r=[{key:"check",value:function(){this.organization&&this.organization.abilities&&this.organization.abilities.read||(this.enable=!1)}}])&&Q(n.prototype,r),a&&Q(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);ee(ne,"id","outsourcer"),ee(ne,"title",__("外部联系人")),ee(ne,"iconName","external-contacts");var re=ne;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(){oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ae(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ae(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ie(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ie(o,r,a,i,c,"next",e)}function c(e){ie(o,r,a,i,c,"throw",e)}i(void 0)}))}}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pe(r.key),r)}}function ue(e,t,n){return t=fe(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,se()?Reflect.construct(t,n||[],fe(e).constructor):t.apply(e,n))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function me(e,t,n){return(t=pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}var he=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(e=ue(this,t,[n]),"getIconUrl",(function(){return e.organization.logo})),me(e,"getInitData",ce(oe().mark((function t(){var n;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))),me(e,"getData",ce(oe().mark((function t(){var n,r;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cache){t.next=2;break}return t.abrupt("return",e.cache);case 2:return t.next=4,N.a.organizationUsers.find({organization_id:e.organization.id,user_role:"0,1",status:1,offset:0,limit:500});case 4:return n=t.sent,r=e.serialize({users:n}),e.cache=r,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))),me(e,"adpatUIListData",(function(t){return t.map((function(t){var n=t.user;return e.setUid(t),{uid:t.uid,id:t.id,avatar_url:n.avatar_url,name:n.name,user_id:n.id,work_id:n.work_id,login:n.login,type:n.type,provider_type:n.provider_type,provider_userid:n.provider_userid}}))})),e.organization=n.organization||window.appData.organization,e.cache=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],(r=[{key:"check",value:function(){this.organization&&this.organization.abilities&&this.organization.abilities.read&&!A.a.enableContacts()||(this.enable=!1)}}])&&le(n.prototype,r),a&&le(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);me(he,"id","orgMember"),me(he,"title",__("空间成员"));var ye=he,ve=n(979),be=n(3619),ge=n(3384);function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function we(){we=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==_e(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_e(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ee(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ee(o,r,a,i,c,"next",e)}function c(e){Ee(o,r,a,i,c,"throw",e)}i(void 0)}))}}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function Se(e,t,n){return t=Ne(t),function(e,t){if(t&&("object"==_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,je()?Reflect.construct(t,n||[],Ne(e).constructor):t.apply(e,n))}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function Pe(e,t,n){return(t=ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:t+""}var Te=ge.memberSelectorType.SIMPLE_WITH_ROLE,Ce=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(e=Se(this,t,[n]),"getIconUrl",(function(){return e.group.avatar_url})),Pe(e,"getIconName",(function(){return e.group.name})),Pe(e,"getFilterRoles",(function(){var t=Object(be.c)("group");return t.unshift(e.allRoleObj),t})),Pe(e,"getInitData",Oe(we().mark((function t(){var n;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))),Pe(e,"getData",Oe(we().mark((function t(){var n,r,a,o,i,c=arguments;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="role_".concat((n=c.length>0&&void 0!==c[0]?c[0]:{}).role),!e.cache[r]){t.next=4;break}return t.abrupt("return",e.cache[r]);case 4:return a={id:e.group.id,offset:0,limit:500},"role"in n&&(a.role=n.role),t.next=8,N.a.groups.users(a);case 8:return o=t.sent,i=e.serialize({users:o}),e.cache[r]=i,t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})))),Pe(e,"adpatUIListData",(function(t){return t.map((function(t){var n=t.user;return e.setUid(t),{uid:t.uid,id:t.id,avatar_url:n.avatar_url,name:n.name,user_id:n.id,work_id:n.work_id,login:n.login,type:n.type,provider_type:n.provider_type,provider_userid:n.provider_userid}}))})),e.group=n.group||window.appData.group,e.cache={},e.allRoleObj={key:-1,label:__("全部")},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],(r=[{key:"check",value:function(){this.group&&this.group.abilities&&this.group.abilities.read&&this.type!==Te||(this.enable=!1)}}])&&xe(n.prototype,r),a&&xe(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);Pe(Ce,"id","groupuser"),Pe(Ce,"title",ve.a.isPublication(window.appData.group)?__("知识小组成员"):__("团队成员")),Pe(Ce,"iconName","nav-team1");var Le=Ce,Ie=n(88),Me=n(350);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Be(r.key),r)}}function ze(e,t,n){return(t=Be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}var Ye=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ze(this,"getUploadProps",(function(){return{name:"file",action:n.action,headers:{"x-csrf-token":Object(Me.a)(window,!0)},onChange:function(e){var t=this;if("done"===e.file.status){var n=e.file.response.data;r.a.success(__("通过 {mobiles} 手机号码成功邀请 {members} 位注册用户，还有 {temp_members} 位用户没有注册语雀",{mobiles:n.mobiles,members:n.members,temp_members:n.temp_members})),setTimeout((function(){window.location.href=t.goto}),3e3)}else"error"===e.file.status&&r.a.error(e.file.response.message||"".concat(e.file.name," file upload failed."))}}})),ze(this,"getBtnText",(function(){return n.btnText})),this.options=t,this.type=t.type,this.organization=t.organization,this.role=t.supportRoles&&t.supportRoles[0],this.target=t[this.type],this.enable=!1}return t=e,a=[{key:"create",value:function(t){var n=new e(t);return n.check(),n.enable&&n.init(),n}}],(n=[{key:"init",value:function(){if("organization"===this.type){this.action="/api/organization_users/import?role=".concat(this.role,"&organization_id=").concat(this.organization.id);var e=this.role===Ie.default.ROLE.outsourcer?"external":"all";this.goto="/r/organizations/dashboard/members?role=".concat(e),this.btnText=this.role===Ie.default.ROLE.outsourcer?__("批量导入外部联系人"):__("批量导入空间成员")}}},{key:"check",value:function(){this.target&&this.target.enableAdvancedFeature&&(this.enable=!0)}}])&&De(t.prototype,n),a&&De(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();ze(Ye,"id","import"),ze(Ye,"title",__("导入"));var Ue=Ye,Fe=n(345);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(){Ke=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qe(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qe(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Qe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qe(o,r,a,i,c,"next",e)}function c(e){Qe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rt(r.key),r)}}function $e(e,t,n){return t=et(t),function(e,t){if(t&&("object"==qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Je()?Reflect.construct(t,n||[],et(e).constructor):t.apply(e,n))}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Je=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e,t,n){return(t=rt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){var t=function(e,t){if("object"!=qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qe(t)?t:t+""}var at=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(n=$e(this,t,[e]),"getIconUrl",(function(){var e=window.appData.organization;return e&&e.logo})),nt(n,"enableDepthAll",(function(){return!0})),nt(n,"getInitData",Ze(Ke().mark((function e(){var t,r,a,o,i,c,l,u,s,f;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.appData.organization,e.next=3,N.a.mine.department({self:!0},{useOriginResp:!0});case 3:if(r=e.sent,a={id:0,name:t.name,type:"Department",parents:[],getTop:!0},r.length)for(a=r[0],null!==(o=r[0])&&void 0!==o&&o.dept_full_path&&(a.parents=null===(c=r[0])||void 0===c?void 0:c.dept_full_path),l=null===(i=a)||void 0===i?void 0:i.parents.findIndex((function(e){return e.id===a.id})),l>=0&&a.parents.splice(l,1),u=0;u<(null===(s=a)||void 0===s||null===(s=s.parents)||void 0===s?void 0:s.length);u++)a.parents[u].parents=a.parents.slice(0,u);return e.next=8,n.getData(a);case 8:return f=e.sent,e.abrupt("return",f);case 10:case"end":return e.stop()}}),e)})))),nt(n,"fetchCache",function(){var e=Ze(Ke().mark((function e(t,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.cacheFetch[t]){e.next=5;break}return e.next=4,r();case 4:n.cacheFetch[t]=e.sent;case 5:return e.abrupt("return",x()(n.cacheFetch[t]));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),nt(n,"getDepUsers",function(){var e=Ze(Ke().mark((function e(t){var r,a,o,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,a=t.organization_id,!(o=n.cacheDeps[r])){e.next=4;break}return e.abrupt("return",o);case 4:return e.next=6,N.a.departmentUser.find({department_id:r,organization_id:a,onlyMember:1});case 6:return i=e.sent,n.cacheDeps[r]=i.data,e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),nt(n,"getData",Ze(Ke().mark((function e(){var t,r,a,o,i,c,l,u,s,f=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=He({},t=f.length>0&&void 0!==f[0]?f[0]:{}),t){e.next=4;break}return e.abrupt("return",[]);case 4:if(a=t.id,t.getTop&&(a=0),!n.cacheDeps[a]){e.next=8;break}return e.abrupt("return",n.cacheDeps[a]);case 8:return o=window.appData.organization,i=void 0===o?{}:o,e.next=11,N.a.departments.find({parent_id:a,depth:1,withMemberCount:1});case 11:if(c=e.sent,l=t.users){e.next=17;break}return e.next=16,N.a.departmentUser.find({department_id:a,organization_id:i.id,onlyMember:1});case 16:l=e.sent;case 17:return e.next=19,Promise.all(c.map(function(){var e=Ze(Ke().mark((function e(n){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.type="Department",n.parents=t.parents.concat(t),void 0!==n.member_count&&(n._name=n.name,n.name="".concat(n.name),n.login="(".concat(__("{num} 人",{num:n.member_count}),")"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:u=Ge(l);try{for(u.s();!(s=u.n()).done;)s.value.type="User"}catch(e){u.e(e)}finally{u.f()}return r.users=c.concat(l),r.parents=t.parents.concat(t),r._name||void 0===r.member_count||(r._name=r.name,r.name="".concat(r.name,"(").concat(__("{num} 人",{num:r.member_count}),")")),((r=n.serialize(r)).member_count||0===a)&&(n.cacheDeps[a]=r),e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))),nt(n,"adpatUIListData",(function(e){return e.map((function(e){n.setUid(e);var t=n.isUser(e)&&void 0!==e.status&&e.status!==Ie.STATUS.joined;n.disableDepSelect&&n.isDepartment(e)&&(t=!0);var r={uid:n.isDepartment(e)?"nav_".concat(e.id):e.uid,id:e.id,avatar_url:n.isUser(e)?e.avatar||"//gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png?x-oss-process=image%2Fresize%2Cm_fill%2Cw_64%2Ch_64%2Fformat%2Cpng":Fe.avatar.department,name:e.name,_name:e._name,user_id:e.user_id,login:e.login,type:e.type||"User",iconName:e.iconName,isTop:e.isTop,disabled:t,parents:e.parents,_login:e.login,users:e.users,organization_id:e.organization_id,member_count:e.member_count};return!e.isTop&&n.isDepartment(e)?r.sub=e:e.manageDepartment&&(r.sub=e.manageDepartment),r}))})),nt(n,"adpatUINavData",(function(e){if(e){var t=[];if(Array.isArray(e))t=e;else{t.push(e);var r=function(e){if(e.parentDepId){var a=n.cacheParent[e.parentDepId];if(!a)return;Array.isArray(a)?t=a.concat(t):(t.unshift(a),r(a))}};r(e)}return t.map((function(e){return{uid:"nav_".concat(e.id),id:e.id,name:e._name||e.name,type:"Department",parents:e.parents}}))}})),nt(n,"getUserCount",(function(e){var t,r=0,a=Ge(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.isDepartment(o)?o.member_count&&(r+=o.member_count):r+=1}}catch(e){a.e(e)}finally{a.f()}return r})),nt(n,"getRealUsers",function(){var e=Ze(Ke().mark((function e(t){var r,a,o,i,c,l,u;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=Ge(t),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=22;break}if(i=o.value,!n.isDepartment(i)){e.next=19;break}if(!i.depthUsers&&!i.users){e.next=11;break}r=r.concat(i.depthUsers||i.users),e.next=17;break;case 11:return c=i.id,l=i.organization_id,e.next=14,N.a.departmentUser.getAllSubDepartmentUsers({department_id:c,organization_id:l});case 14:u=e.sent,n.setUid(u),r=r.concat(u);case 17:e.next=20;break;case 19:r.push(i);case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),a.e(e.t0);case 27:return e.prev=27,a.f(),e.finish(27);case 30:return e.abrupt("return",j()(r,"uid"));case 31:case"end":return e.stop()}}),e,null,[[2,24,27,30]])})));return function(t){return e.apply(this,arguments)}}()),n.cacheDeps={},n.cacheParent={},n.cacheFetch={},n.cacheDepthRes={},n.enable=!1,n.disableDepSelect=e.disableDepSelect,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n}}],(r=[{key:"check",value:function(){A.a.enableContacts()&&(this.enable=!0)}}])&&Xe(n.prototype,r),a&&Xe(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);nt(at,"id","yuque_contacts"),nt(at,"title",__("组织架构")),nt(at,"iconName","architecture");var ot=at,it=n(152);function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function lt(){lt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ct(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ct(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ut(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ut(o,r,a,i,c,"next",e)}function c(e){ut(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vt(r.key),r)}}function dt(e,t,n){return t=pt(t),function(e,t){if(t&&("object"==ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mt()?Reflect.construct(t,n||[],pt(e).constructor):t.apply(e,n))}function mt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mt=function(){return!!e})()}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}function ht(e,t){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ht(e,t)}function yt(e,t,n){return(t=vt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ct(t)?t:t+""}var bt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(n=dt(this,t,[e]),"getIconUrl",(function(){return n.group.avatar_url})),yt(n,"getIconName",(function(){return n.group.name})),yt(n,"getInitData",st(lt().mark((function e(){var t;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData({offset:0,limit:100});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),yt(n,"getData",st(lt().mark((function e(){var t,r,a=arguments;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,it.webProxy.users.dingTalkGroups(t);case 3:return r=e.sent,e.abrupt("return",{users:n.adaptUIListData(r)});case 5:case"end":return e.stop()}}),e)})))),yt(n,"adaptUIListData",(function(e){return e.map((function(e){return{uid:"".concat(e.origin_type,"_").concat(e.origin_id),id:"",avatar_url:e.avatar_url,name:e.name,user_id:"",work_id:"",login:"",type:"",origin_id:e.origin_id,origin_type:"AntDingTalkGroup"}}))})),n.type=e.type,n.role=e.supportRoles&&e.supportRoles[0],n.target=e[n.type],n.enable=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,e),n=t,a=[{key:"create",value:function(e){var n=new t(e);return n.check(),n.enable&&n.init(),n}}],(r=[{key:"init",value:function(){}},{key:"check",value:function(){return!0}},{key:"checkValid",value:function(e){return!0}}])&&ft(n.prototype,r),a&&ft(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(d.a);yt(bt,"id","ant_dingtalk_group"),yt(bt,"title",__("蚂蚁钉群")),yt(bt,"iconName","member");var gt=bt,_t=n(205),wt=n(3628);function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var At=ge.memberSelectorType.ORGANIZATION,Pt=ge.memberSelectorType.GROUP,kt=ge.memberSelectorType.BOOK,Tt=ge.memberSelectorType.DOC,Ct=ge.memberSelectorType.SIMPLE_WITH_ROLE,Lt=ge.memberSelectorType.LIST,It=ge.memberSelectorType.SIMPLE;var Mt=o.a.forwardRef((function(e,t){var n=o.a.useRef(null),i=function(e,t){var n,i={type:e.type};e.organization&&(i.organization=e.organization),e.group&&(i.group=e.group),e.book&&(i.book=e.book),e.doc&&(i.doc=e.doc),e.list&&(i.list=e.list),e.role&&(i.supportRoles=[e.role]),e.members&&(i.members=e.members),e.disableDepSelect&&(i.disableDepSelect=e.disableDepSelect);var c,l=jt(Object(a.useState)(null),2),u=l[0],d=l[1],m=jt(Object(a.useState)(null),2),p=m[0],h=m[1],y=!window.appData.isYuque,v=e.group&&"User"===e.group.type,b=Object(a.useMemo)((function(){return e.type===At?null:G.create(i)}),[i]),g=Object(a.useMemo)((function(){return e.type===At?null:ot.create(i)}),[i]),_=Object(a.useMemo)((function(){var t=xt(xt({},i),{},{dataSourceServices:[]});return b&&b.enable&&t.dataSourceServices.push(b),g&&g.enable&&t.dataSourceServices.push(g),e.type===Ct&&(t.me=e.me),s.a.create(t)}),[i]),w=Object(a.useMemo)((function(){return f.a.create(i)}),[i]),O=Object(a.useMemo)((function(){return E.create(i)}),[i]),x=Object(a.useMemo)((function(){return e.type===At?null:re.create(i)}),[i]),S=Object(a.useMemo)((function(){return e.type===At?null:ye.create(i)}),[i]),j=Object(a.useMemo)((function(){return e.type===Pt||e.type===At?null:Le.create(i)}),[i]),N=Object(a.useMemo)((function(){return e.type!==At?null:Ue.create(i)}),[i]),A=Object(a.useMemo)((function(){return gt.create(i)}),[i]),P=[],k=[];if(b&&b.enable&&(!e.disableSelectors||!e.disableSelectors.includes("addrbook"))){var T=null!=e.enableDepSelect?e.enableDepSelect:b.enableDepSelect();b.componentType="ListSelector",b.componentProps={id:G.id,title:G.title,iconName:G.iconName,getData:b.getData,getInitData:b.getInitData,getIconUrl:b.getIconUrl,getIconName:b.getIconName,enableDepthAll:b.enableDepthAll(),enableSelectNav:T,checkValid:_.checkValid,enableMemberTypeSwitch:!window.appData.isYuque},k.push(b)}if(!g||!g.enable||e.disableSelectors&&e.disableSelectors.includes("yuque_contacts_selector")||(g.componentType="ListSelector",g.componentProps={id:ot.id,title:ot.title,iconName:ot.iconName,getData:g.getData,getInitData:g.getInitData,getIconUrl:g.getIconUrl,getIconName:g.getIconName,enableDepthAll:g.enableDepthAll(),checkValid:_.checkValid,disableNavTop:!0},k.push(g)),S&&S.enable&&(S.componentType="ListSelector",S.componentProps={id:ye.id,title:ye.title,getData:S.getData,getInitData:S.getInitData,getIconUrl:S.getIconUrl,getIconName:S.getIconName,checkValid:_.checkValid},k.push(S)),x&&x.enable&&(x.componentType="ListSelector",x.componentProps={id:re.id,title:re.title,iconName:re.iconName,getData:x.getData,getInitData:x.getInitData,getIconUrl:x.getIconUrl,getIconName:x.getIconName,checkValid:_.checkValid},k.push(x)),j&&j.enable&&!v&&(j.componentType="ListSelector",j.componentProps={id:Le.id,title:Le.title,iconName:Le.iconName,getData:j.getData,getInitData:j.getInitData,getIconUrl:j.getIconUrl,getIconName:j.getIconName,getFilterRoles:j.getFilterRoles,checkValid:_.checkValid},k.push(j)),w&&w.enable&&(w.componentType="InviteSelector",w.componentProps={id:f.a.id,title:f.a.title,inviteSelectorType:e.type,inviteTarget:e[e.type],group:e.group,organization:e.organization,roleSelectorType:"radio",getJoinUrl:w.getUrl,getToken:w.getToken,updateToken:w.updateToken,deleteTokens:w.deleteTokens,roles:w.validRoles,inviteRoles:p,getCopyText:w.getCopyText,tipContent:u,actionTipText:"book"===e.type?__("访问链接即可获得权限："):null,moreSettingOptions:w.getMoreSettingOptions(),toggleTitle:function(e){t&&t.current&&t.current.toggleTitle(e)}},P.push(w)),_&&_.enable){var C;window.appData.organization&&(C=o.a.createElement(wt.a,null));var L=e.roleSelector;_.componentType="SearchSelector",_.componentProps={id:s.a.id,title:s.a.title,searchUser:_.searchUser,getUserCount:_.getUserCount,checkValid:_.checkValid,onSubmit:_.submit,roles:_.validRoles,inviteRoles:p,quickSelectors:k,notFoundContent:C,actionTipText:"book"===e.type?__("权限："):null,roleSelector:L,getDefaultUsers:e.getDefaultUsers||_.searchUsersByIds,afterSubmit:e.afterSubmit},e.type===It&&(_.componentProps.disableMeta=b.enableDepSelect(),_.componentProps.onSubmit=e.onSubmit),e.type===Ct&&(_.componentProps.title=e.title,_.componentProps.roles=e.roles,_.componentProps.onSubmit=e.onSubmit,e.initialValues&&(_.componentProps.initialValues=e.initialValues)),P.push(_)}return O&&y&&"doc"!==i.type&&O.enable&&(O.componentType="BatchSelector",O.componentProps={id:E.id,title:E.title,book:i.book,group:i.group,type:i.type,doc:i.doc},P.push(O)),N&&N.enable&&(N.componentType="ImportSelector",N.componentProps={id:Ue.id,title:Ue.title,role:N.role,getUploadProps:N.getUploadProps,getBtnText:N.getBtnText},P.push(N)),window.appData.isAntDingtalkUser&&A&&A.enable&&(A.componentType="DingTalkGroupSelector",A.componentProps={biz:A,id:A.id,title:gt.title,iconName:gt.iconName},k.push(A)),Object(a.useEffect)((function(){w&&w.enable&&(window.appData.organization&&[Pt,kt,Tt].includes(e.type)&&w.orgDataReady().then((function(){d(o.a.createElement("div",null,o.a.createElement("span",null,w.getOrgTipText()),o.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/csb5nu",target:"_blank"},w.canPublic?__("关闭邀请空间外人员?"):__("邀请空间外成员?"))))})),w.getInviteAddRoles().then((function(e){h(e)})).catch((function(e){r.a.error(e.message)})))}),[]),null!==(n=e.organization)&&void 0!==n&&n.id||!Object(_t.a)()||[It,Ct,Pt].includes(e.type)?c=s.a.id:[kt,Tt,At,Lt].includes(e.type)&&(c=f.a.id),{enableMemberTypeSwitch:y,selectors:P,quickSelectors:k,defaultTabKey:c,wideTabKey:s.a.id,addrbookSelectorBiz:b,searchSelectorBiz:_,inviteSelectorBiz:w,batchSelectorBiz:O,outsourcerSelectorBiz:x,orgMemberSelectorBiz:S,groupUserSelectorBiz:j,importSelectorBiz:N,yuqueContactsSelectorBiz:g}}(e,n),c=i.selectors,l=i.quickSelectors,d=i.defaultTabKey,m=i.wideTabKey,p=i.searchSelectorBiz;if(o.a.useImperativeHandle(t,(function(){return{searchSelectorBiz:p}}),[]),!c.length)return null;var h=c.map((function(e){var t=u.a[e.componentType];return t?(e.componentProps.quickSelectors&&(e.componentProps.quickSelectors=e.componentProps.quickSelectors.map((function(e){var t=u.a[e.componentType];return t?o.a.createElement(t,e.componentProps):null})).filter((function(e){return!!e}))),o.a.createElement(t,e.componentProps)):null})).filter((function(e){return!!e}));return o.a.createElement(u.a,{titleRef:n,selectors:h,getWidth:function(e){return e===m&&l&&l.length>0||"BatchSelector"===e?720:420},defaultTabKey:d,onCancel:e.onCancel,onClose:e.onClose,visible:e.visible})}));Mt.defaultProps={disableSelectors:[]},Mt.propTypes={type:c.a.string,organization:c.a.object,role:c.a.oneOf([0,1,2]),onCancel:c.a.func,onClose:c.a.func,visible:c.a.bool,disableSelectors:c.a.array,disableDepSelect:c.a.bool};t.a=Object(l.d)((function(e){return{organization:e.organization,group:e.group,book:e.book,doc:e.doc,me:e.me}}),null,null,{forwardRef:!0})(Mt)},3656:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return p}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(341),l=n(711);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}function s(e){var t=window.appData.zone,n=window.__CUSTOM_LOGO__||(e?l.DASHBOARD_LOGOS:l.LOGOS),r=n.public;return window.appData.isYuque||(r=n.internal[0],t&&(r=n.internal[t.id]||r)),r}var f=function(e){var t=e.height,n=void 0===t?32:t,r=e.className,o=void 0===r?"":r,i=e.useNewLogo,l=s(void 0!==i&&i);return a.a.createElement(c.a,{src:l.full,darkSrc:l.darkFull,style:{height:n},alt:l.alt,className:o})};f.propTypes={height:i.a.number,className:i.a.string,useNewLogo:i.a.bool};var d=function(e){var t=e.height,n=void 0===t?32:t,r=e.className,o=void 0===r?"":r,i=e.useNewLogo,c=s(void 0!==i&&i);return a.a.createElement("img",{src:c.icon,alt:c.alt,width:n,height:n,className:o})};d.propTypes={height:i.a.number,className:i.a.string,useNewLogo:i.a.bool};var m=function(e){var t=e.height,n=void 0===t?32:t,r=e.className,o=void 0===r?"":r,i=e.useNewLogo,c=void 0!==i&&i,l=e.organization,u=void 0===l?window.appData.organization:l,f=u?u.logo:s(c).icon,d=u?"语雀空间":s(c).alt;return a.a.createElement("img",{src:f,alt:d,width:n,height:n,className:o})};m.propTypes={height:i.a.number,className:i.a.string,useNewLogo:i.a.bool,organization:i.a.object};var p=function(e){var t=s(e);return a.a.createElement(c.a,u({},e,{src:t.text,darkSrc:t.darkText,style:{marginLeft:"2px",height:32},alt:t.alt}))}},3669:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n(908),o=n(59),i=n(6),c=n.n(i),l="index-module_actions_vhNlZ",u="index-module_actionItem_gm0UP",s="index-module_actionTitle_N9iRs",f="index-module_actionTitleLast_KuIDA",d="index-module_actionMore_8wkrV",m="index-module_actionMoreIcon_5FA3+",p="index-module_actionTitleIcon_XFMgq",h="index-module_actionTitleIconLast_2BO7h";function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.settings,n=e.onClick;return r.createElement("div",{className:l},t.map((function(e){return!e.hidden&&r.createElement("div",{className:u,key:e.type,onClick:function(){n(e.type,e.title)}},r.createElement("span",{className:e.noDetail?f:s},r.createElement(o.b,{name:e.icon,className:c()(p,v({},h,e.noDetail)),width:16}),e.title),!e.noDetail&&r.createElement("span",{className:d},e.defaultValue,e.hideArrow?null:r.createElement(a.default,{className:m,width:16,height:16})))})))}},3680:function(e,t,n){"use strict";var r=n(97),a=n(699),o=n(88),i=n(435),c=n(48);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",h="suspendedYield",y="executing",v="completed",b={};function g(){}function _(){}function w(){}var E={};f(E,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(E=x);var S=w.prototype=g.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var u=m(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=y;var u=m(t,n,r);if("normal"===u.type){if(a=r.done?v:h,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=m(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(l(t)+" is not iterable")}return _.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:_,configurable:!0}),_.displayName=f(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),f(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(d(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),f(S,s,"Generator"),f(S,i,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function s(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function d(e,t,n){return t=p(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var b=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return y(e=d(this,t,[].concat(c)),"getUrl",(function(t,n){if(e.joinToken=t||e.joinToken,e.joinToken){if("doc"===e.type){var r="".concat(window.location.origin,"/g/").concat(e.group.login,"/").concat(e.book.slug,"/").concat(e.doc.slug,"/collaborator/join?token=").concat(t.token,"&source=doc_collaborator"),a="/".concat(e.group.login,"/").concat(e.book.slug,"/").concat(e.doc.slug,"/edit");return n&&t.role===i.ROLE.edit?"".concat(r,"&goto=").concat(encodeURIComponent(a)):r}return"book"===e.type?"".concat(window.location.origin,"/g/").concat(e.group.login,"/").concat(e.book.slug,"/collaborator/join?token=").concat(t.token,"&source=book_collaborator"):"group"===e.type?"".concat(window.location.origin,"/groups/").concat(e.group.login,"/join?token=").concat(t.token,"&source=group_collaborator"):"organization"===e.type?"".concat(window.location.origin,"/r/organizations/").concat(e.organization.login,"/join?token=").concat(t.token,"&source=org"):"list"===e.type?"".concat(window.location.origin,"/r/list/").concat(e.list.id,"/join?token=").concat(t.token,"&source=list_collaborator"):null}})),y(e,"getCopyText",(function(t,n){var r=(e.target.name||e.target.title).replace(/%/g,"%25");return n===i.ROLE.edit?__("{url}# 邀请你共同编辑{typeName}《{targetName}》",{targetName:r,typeName:e.typeName,url:t}):__("{url}# 《{targetName}》",{targetName:r,url:t})})),y(e,"getOrgTipText",(function(){return e.organization?e.canPublic?"book"===e.type?__("获得链接的所有人（含空间外人员）可获得{type}的权限，空间外人员将自动成为{memberType}。",{type:e.typeName,memberType:r.a.isYuqueAddressBook()?__("空间成员"):__("空间外部联系人")}):__("获得链接的所有人（含空间外人员）可加入{type}，空间外人员将自动成为{memberType}。",{type:e.typeName,memberType:r.a.isYuqueAddressBook()?__("空间成员"):__("空间外部联系人")}):"book"===e.type?__("仅获得链接的空间成员可获得{type}的权限。",{type:e.typeName}):__("仅获得链接的空间成员可加入{type}。",{type:e.typeName}):""})),y(e,"getMoreSettingOptions",(function(){return e.organization&&e.organization.id?e.organization.isPremium&&r.a.isYuqueAddressBook()?[{value:o.ROLE.member,label:__("空间成员")},{value:o.ROLE.outsourcer,label:__("外部联系人")}]:e.organization.isPremium&&!r.a.isYuqueAddressBook()?[{value:o.ROLE.outsourcer,label:__("外部联系人")}]:[{value:o.ROLE.member,label:__("空间成员")}]:null})),y(e,"getToken",(function(t){var n=t.approve,r=t.force,i=t.role,c=t.allow_outsider,l=void 0===c?a.ALLOW_OUTSIDER.NORMAL:c,u=t.organization_user_role,s=void 0===u?o.ROLE.member:u;if(e.proxy){var f={id:e.target.id,allow_outsider:l,organization_user_role:s};return null!=n&&(f.approve=n),null!=r&&(f.force=r),null!=i&&(f.role=i),e.proxy.token(f).then((function(t){return e.joinToken=t,t}))}})),y(e,"updateToken",(function(t){var n=t.approve,r=t.role,i=t.allow_outsider,c=void 0===i?a.ALLOW_OUTSIDER.NORMAL:i,l=t.organization_user_role,u=void 0===l?o.ROLE.member:l;if(e.proxy){var s={id:e.target.id,allow_outsider:c,organization_user_role:u};return null!=n&&(s.approve=n),null!=r&&(s.role=r),e.proxy.updateToken(s).then((function(t){return e.joinToken=t,t}))}})),y(e,"deleteTokens",(function(){if(e.proxy)return e.proxy.deleteTokens({id:e.target.id}).then((function(e){return e}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,l=[{key:"init",value:function(){this.target&&(this.joinToken=this.target.joinToken),"organization"===this.type?this.proxy=c.a.organizations:"group"===this.type?this.proxy=c.a.groups:"book"===this.type?this.proxy=c.a.books:"doc"===this.type&&(this.proxy=c.a.docs)}},{key:"check",value:function(){this.target||(this.enable=!1)}},{key:"orgDataReady",value:(p=u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.organization){e.next=4;break}return e.next=3,r.a.canIndirectAddOrgMember(this.organization);case 3:this.canPublic=e.sent;case 4:case"end":return e.stop()}}),e,this)})),v=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=p.apply(e,t);function o(e){s(a,n,r,o,i,"next",e)}function i(e){s(a,n,r,o,i,"throw",e)}o(void 0)}))},function(){return v.apply(this,arguments)})}],m=[{key:"create",value:function(e){var n=new t(e);return n.check(),n.enable&&n.init(),n}}],l&&f(n.prototype,l),m&&f(n,m),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,m,p,v}(n(3345).a);y(b,"id","invite"),y(b,"title",__("邀请添加")),t.a=b},3683:function(e,t,n){"use strict";n(812);var r=n(340),a=(n(270),n(135)),o=(n(36),n(8)),i=(n(52),n(12)),c=(n(1031),n(813)),l=(n(693),n(379)),u=(n(43),n(10)),s=n(0),f=n.n(s),d=n(4),m=n.n(d),p=n(1491),h=n(6),y=n.n(h),v=n(59),b=n(185),g=n.n(b),_=n(406),w=n.n(_),E=n(141),O=n(271),x=n(3669),S=(n(170),n(70)),j=(n(187),n(34)),N=n(48),A=n(908),P=n(3364),k=n(699),T=n(3458);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t=e.organization,n=e.panelType,r=e.panelTitle,a=e.state,o=e.moreSettingOptions,i=e.handleRoleTypeChange,c=e.handleMemberTypeChange,u=e.handleAllowOutsiderChange,f=e.handleCheckChange,d=e.onBack,m=C(s.useState(!1),2),h=m[0],v=m[1];s.useEffect((function(){!(!t||null==t||!t.id)&&N.a.organizations.getPermissions({id:t.id}).then((function(e){v(e.indirect_add_org_member)}))}),[t]);var b;return s.createElement("div",{className:T.a.shareDetailSettingPanel},s.createElement("div",{className:T.a.title,onClick:d},s.createElement(A.default,{className:T.a.backIcon,width:20,height:20}),(b=r,"needCheckSet"===n?__("审批确认"):b)),function(e){switch(e){case"groupMemberSet":return r=P.b.actions,d=P.b.desc,s.createElement(s.Fragment,null,s.createElement("p",{className:T.a.titleDesc},d),r.map((function(e){return s.createElement("div",{className:y()(T.a.contentArea,T.a.selectorItem),key:e.key,onClick:function(){i(e.value)}},s.createElement("span",null,e.label),a.roleType===e.value&&s.createElement(p.default,{className:T.a.selectorIcon,width:16,height:16}))})));case"collaborationSet":return function(){var e=P.e.actions,t=P.e[a.targetType.toUpperCase()];return s.createElement(s.Fragment,null,s.createElement("p",{className:T.a.titleDesc},t),e.map((function(e){return s.createElement("div",{className:y()(T.a.contentArea,T.a.selectorItem),key:e.key,onClick:function(){i(e.value)}},s.createElement("span",null,e.label),a.roleType===e.value&&s.createElement(p.default,{className:T.a.selectorIcon,width:16,height:16}))})))}();case"allowOutsiderSet":return function(){var e,n=["Book","Doc"].includes(a.targetType)?P.j.descBookDoc:P.j.descGroup,r=j.a.Option;1===(null==o?void 0:o.length)?e=s.createElement("span",null,o[0].label):(null==o?void 0:o.length)>1&&(e=s.createElement(j.a,{defaultValue:a.memberType,bordered:!1,onChange:c},null==o?void 0:o.map((function(e){return s.createElement(r,{value:e.value},e.label)}))));var i=s.createElement("div",{className:T.a.contentArea},s.createElement("span",{className:T.a.switchTitle},P.j.action),s.createElement(l.a,{disabled:!h,onChange:u,checked:a.allowOutsider===k.ALLOW_OUTSIDER.ALLOW}));return s.createElement(s.Fragment,null,s.createElement("p",{className:T.a.titleDesc},n),s.createElement(S.a,{title:h?"":P.j.tip(t),placement:"bottomRight",autoAdjustOverflow:!0},i),(null==o?void 0:o.length)&&a.allowOutsider===k.ALLOW_OUTSIDER.ALLOW&&s.createElement("div",{className:T.a.selectOption},__("空间外人员将自动成为"),e))}();case"needCheckSet":return n=["Book","Doc"].includes(a.targetType)?P.l.descBookDoc:P.l.descGroup,s.createElement(s.Fragment,null,s.createElement("p",{className:T.a.titleDesc},n),s.createElement("div",{className:T.a.contentArea},s.createElement("span",{className:T.a.switchTitle},P.l.action),s.createElement(l.a,{onChange:f,checked:a.approve===k.APPROVE.need})));default:return null}var n,r,d}(n))},M=n(3475),R=n(511),D=n(696),z=n.n(D),B=n(435),Y=n(92),U=n(88),F=n(205),q=n(3384);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function W(){W=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==G(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(G(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function V(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,a){if("get"===e)try{return JSON.parse(E.a.get("joinToken"))["".concat(t,"-").concat(n,"-").concat(r)]}catch(e){return null}if("save"===e){var o=JSON.parse(E.a.get("joinToken"))||{},i=Object.keys(o);20!==i.length||"".concat(t,"-").concat(n,"-").concat(r)in o||delete o[i[0]],o["".concat(t,"-").concat(n,"-").concat(r)]=g()(a,["role","approve","allow_outsider","organization_user_role"]),E.a.set("joinToken",JSON.stringify(o))}}function Z(e){var t,n,r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.isEditing;if(t)return e.getJoinUrl(t,n)},a=w()(e.inviteSelectorType),o=null===(t=e.inviteTarget)||void 0===t?void 0:t.id,i=Q("get",a,o,e.inviteModalContent);n=e.inviteSelectorType===q.memberSelectorType.GROUP?Y.ROLE.member:e.isEditing||"inviteModal"===e.inviteModalContent?B.ROLE.edit:B.ROLE.readonly;var c=H(f.a.useState(i?i.role:n),2),l=c[0],s=c[1],d=H(f.a.useState(i?i.allow_outsider:k.ALLOW_OUTSIDER.NORMAL),2),m=d[0],p=d[1],h=k.APPROVE.noneed,y=H(f.a.useState(i?i.approve:h),2),v=y[0],b=y[1],g=H(f.a.useState(),2),_=g[0],E=g[1],O=H(f.a.useState(!1),2),x=O[0],S=O[1],j=H(f.a.useState(i?i.organization_user_role:U.ROLE.member),2),N=j[0],A=j[1],P=f.a.useRef(!1),T=function(t){return S(!0),e.getToken({approve:v,force:t,role:l,allow_outsider:m,organization_user_role:N}).then((function(t){return b(t.approve),s(t.role),p(t.allow_outsider),A(t.organization_user_role),E(r(t)),Q("save",a,o,e.inviteModalContent,t),S(!1),t})).catch((function(e){S(!1),u.a.error(e.message)}))};f.a.useEffect((function(){T()}),[]);var C=function(){var t,n=(t=W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,e.deleteTokens();case 3:return t.abrupt("return",T(!0).then((function(){setTimeout((function(){S(!1),u.a.success(__("重置邀请链接成功"))}),500)})).catch((function(){S(!1)})));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){V(o,r,a,i,c,"next",e)}function c(e){V(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return{state:{joinUrl:_,loading:x,targetType:a,roleType:l,allowOutsider:m,approve:v,memberType:N},onCopyUrl:function(t){var n=e.getCopyText(_,l);t.currentTarget&&t.currentTarget.setAttribute("data-url",n),z()(n,{format:"text/plain"}),u.a.success(__("链接已复制"))},onRefreshLink:C,onCheckChange:function(t){var n=t?k.APPROVE.need:k.APPROVE.noneed;e.updateToken({approve:n,role:l,allow_outsider:m,organization_user_role:N}).then((function(){b(n),Q("save",a,o,e.inviteModalContent,{allow_outsider:m,approve:n,organization_user_role:N,role:l}),P.current=!0})).catch((function(e){u.a.error(e.message)}))},onAllowOutsiderChange:function(t){var n=t?k.ALLOW_OUTSIDER.ALLOW:k.ALLOW_OUTSIDER.NORMAL;e.getToken({approve:v,role:l,allow_outsider:n,organization_user_role:N}).then((function(t){p(t.allow_outsider),E(r(t)),Q("save",a,o,e.inviteModalContent,t),P.current=!0})).catch((function(e){u.a.error(e.message)}))},onMemberTypeChange:function(t){e.getToken({approve:v,role:l,allow_outsider:m,organization_user_role:t}).then((function(t){A(t.organization_user_role),E(r(t)),Q("save",a,o,e.inviteModalContent,t),P.current=!0})).catch((function(e){u.a.error(e.message)}))},onRoleTypeChange:function(t){e.getToken({approve:v,role:t,allow_outsider:m,organization_user_role:N}).then((function(t){s(t.role),E(r(t)),Q("save",a,o,e.inviteModalContent,t),P.current=!0})).catch((function(e){u.a.error(e.message)}))},triggerFakeLoading:function(){P.current&&(S(!0),setTimeout((function(){S(!1)}),500),P.current=!1)}}}function X(e){var t,n,u,s,d,m=e.moreSettingOptions,h=e.inviteModalContent,b=e.onBackShare,g=e.toggleTitle,_=e.toggleCollaboratorList,w=e.organization,E=e.group,S=e.inviteSelectorType,j=Z(e),N=j.state,A=j.onCopyUrl,C=j.onRefreshLink,L=j.onCheckChange,D=j.onAllowOutsiderChange,z=j.onMemberTypeChange,U=j.onRoleTypeChange,G=j.triggerFakeLoading,W=H(f.a.useState(!1),2),V=W[0],K=W[1],Q=H(f.a.useState(""),2),X=Q[0],$=Q[1],J=H(f.a.useState(""),2),ee=J[0],te=J[1],ne=H(f.a.useState(!1),2),re=ne[0],ae=ne[1],oe=H(f.a.useState(!1),2),ie=oe[0],ce=oe[1],le=f.a.useMemo((function(){var e=null!=w&&w.id?R.a.ORG:R.a.PERSON;return Object(F.a)()?e:R.a.INTERNAL}),[w]),ue=[{type:"collaborationSet",title:__("协作权限"),defaultValue:N.roleType===B.ROLE.edit?__("可编辑"):__("可阅读"),icon:"icon-limits"},{type:"allowOutsiderSet",title:__("邀请空间外人员"),hidden:!(le===R.a.ORG&&S===q.memberSelectorType.BOOK),defaultValue:N.allowOutsider===k.ALLOW_OUTSIDER.NORMAL?__("关闭"):__("已开启"),icon:"icon-range"},{type:"needCheckSet",title:__("需要审批确认加入"),defaultValue:N.approve===k.APPROVE.need?__("已开启"):__("关闭"),icon:"icon-verify"},{type:"resetLinkSet",title:__("重置邀请链接"),noDetail:!0,icon:"antd-sync"}],se=[{type:"needCheckSet",title:__("需要审批确认加入"),defaultValue:f.a.createElement(l.a,{onChange:L,checked:N.approve===k.APPROVE.need}),icon:"icon-verify",hideArrow:!0},{type:"resetLinkSet",title:__("重置邀请链接"),noDetail:!0,icon:"antd-sync"}],fe=[{type:"groupMemberSet",title:__("人员角色"),defaultValue:N.roleType===Y.ROLE.member?__("成员"):__("只读成员"),icon:"icon-limits"},{type:"allowOutsiderSet",title:__("邀请空间外人员"),hidden:Object(O.h)(E,w)||le===R.a.INTERNAL,defaultValue:N.allowOutsider===k.ALLOW_OUTSIDER.NORMAL?__("关闭"):__("已开启"),icon:"icon-range"},{type:"needCheckSet",title:__("需要审批确认加入"),defaultValue:N.approve===k.APPROVE.need?__("已开启"):__("关闭"),icon:"icon-approval"},{type:"resetLinkSet",title:__("重置邀请链接"),noDetail:!0,icon:"antd-sync"}],de=Object(O.g)(E)?fe.filter((function(e){return"allowOutsiderSet"!==(null==e?void 0:e.type)})):fe,me=function(e,t){"inviteModal"===h&&g(!1),"collaboratorPanel"===h&&_(!1),K(!0),$(e),te(t)};return f.a.createElement("div",{className:M.a.sharePanel},V?f.a.createElement(I,{organization:w,panelType:X,panelTitle:ee,state:N,moreSettingOptions:m,handleRoleTypeChange:U,handleMemberTypeChange:z,handleAllowOutsiderChange:D,handleCheckChange:L,onBack:function(){"inviteModal"===h&&g(!0),"collaboratorPanel"===h&&_(!0),K(!1),G()}}):f.a.createElement(f.a.Fragment,null,"inviteModal"===h&&(n=S===q.memberSelectorType.GROUP,u=Object(O.g)(E)?__("拿到链接的人可成为公开页成员、只读成员"):__("拿到链接的人可成为团队成员、只读成员"),s=n?__("通过链接邀请添加成员"):__("通过链接邀请参与协作"),d=n?u:__("拿到链接的人可获得编辑、阅读等权限"),f.a.createElement("div",{className:M.a.main},f.a.createElement("div",{className:M.a.mainIntro},f.a.createElement(c.a.Item,{className:M.a.inviteItem},f.a.createElement(c.a.Item.Meta,{avatar:f.a.createElement(v.b,{className:y()(M.a.itemIcon,M.a.appointIcon),name:"nav-invite",width:40}),title:s,description:d}))),f.a.createElement("div",{className:M.a.moreConfigs},f.a.createElement(a.a,{spinning:N.loading,delay:150},f.a.createElement("div",{className:M.a.shareLinkSet},f.a.createElement(i.a,{className:M.a.shareLinkShow,disabled:!0,placeholder:N.joinUrl}),f.a.createElement(o.a,{className:M.a.shareButton,onClick:function(e){N.loading||A(e)}},__("复制链接")))),f.a.createElement(x.a,{settings:n?de:ue,onClick:function(e,t){"resetLinkSet"===e?C():me(e,t)}})))),"inviteSharePanel"===h&&(t=__("拿到链接的人可获得{linkAbility}权限",{linkAbility:N.roleType===B.ROLE.edit?__("编辑"):__("阅读")}),f.a.createElement("div",{className:T.a.shareDetailSettingPanel},f.a.createElement("div",{className:T.a.title,onClick:function(){return b()}},f.a.createElement(v.b,{className:T.a.backIcon,name:"arrow-down",width:20}),__("链接添加协作者")),f.a.createElement("p",{className:T.a.linkTitleDesc},t),f.a.createElement(a.a,{spinning:N.loading,delay:150},f.a.createElement("div",{className:T.a.linkContentArea},f.a.createElement(i.a,{className:T.a.copyLink,disabled:!0,placeholder:N.joinUrl}),f.a.createElement(o.a,{className:T.a.inviteCopyBtn,size:"large",type:"primary",onClick:function(e){N.loading||A(e)}},__("复制链接")))),f.a.createElement("div",{className:T.a.moreConfigSettings},f.a.createElement(x.a,{settings:ue,onClick:function(e,t){"resetLinkSet"===e?C():me(e,t)}})))),"collaboratorPanel"===h&&function(){var e,t=__("可{linkAbility}",{linkAbility:N.roleType===B.ROLE.edit?__("编辑"):__("阅读")});return f.a.createElement("div",{className:y()(T.a.shareDetailSettingPanel,M.a.inviteSelector),id:"collaborator"},f.a.createElement(r.a,{overlay:(e=P.e.actions,f.a.createElement(f.a.Fragment,null,e.map((function(e){return f.a.createElement("div",{className:y()(T.a.contentArea,T.a.selectorItem),key:e.key,onClick:function(){U(e.value)}},f.a.createElement("div",null,f.a.createElement("div",{className:T.a.label},e.label),f.a.createElement("div",{className:T.a.desc},e.desc)),N.roleType===e.value&&f.a.createElement(p.default,{className:T.a.selectorIcon,width:16,height:16}))})))),trigger:["click"],getPopupContainer:function(){return document.getElementById("collaborator")||document.body}},f.a.createElement("p",{className:T.a.linkTitleDesc,style:{marginTop:0},onClick:function(){return ce((function(e){return!e}))}},__("设置协作者权限")," ",f.a.createElement("span",null,t),f.a.createElement(v.b,{name:"arrow-down",className:y()(T.a.expandIcon,T.a.expandIconColor),"data-activated":ie,size:18}))),f.a.createElement(a.a,{spinning:N.loading,delay:150},f.a.createElement("div",{className:T.a.linkContentArea},f.a.createElement(i.a,{className:T.a.copyLink,disabled:!0,placeholder:N.joinUrl}),f.a.createElement(o.a,{className:T.a.inviteCopyBtn,size:"large",type:"primary",onClick:function(e){N.loading||A(e)}},__("复制链接")))),f.a.createElement("div",{className:T.a.moreConfigToggler},f.a.createElement("span",{className:T.a.moreConfigsTip,onClick:function(){return ae((function(e){return!e}))}},__("高级设置"),f.a.createElement(v.b,{name:"arrow-down",className:T.a.expandIcon,"data-activated":re,size:16}))),re&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:T.a.moreConfigSettings},f.a.createElement(x.a,{settings:se,onClick:function(e){"resetLinkSet"===e&&C()}}))))}()))}X.propTypes={getJoinUrl:m.a.func,getToken:m.a.func,updateToken:m.a.func,deleteTokens:m.a.func,getCopyText:m.a.func,inviteSelectorType:m.a.string,inviteModalContent:m.a.oneOf(["inviteModal","inviteSharePanel","collaboratorPanel"]),onBackShare:m.a.func,toggleCollaboratorList:m.a.func,toggleTitle:m.a.func,moreSettingOptions:m.a.array,organization:m.a.object,group:m.a.object,isEditing:m.a.bool,inviteTarget:m.a.object},X.defaultProps={inviteModalContent:"inviteModal"};t.a=X},3716:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e?(e=e.toLowerCase(),{organization:__("空间"),group:__("团队"),book:__("知识库"),doc:__("文档"),thread:__("话题"),sheet:__("表格"),resource:__("资源知识库"),design:__("图集"),column:__("专栏")}[e]||__("文档")):""}},379:function(e,t,n){"use strict";n(2717);var r=n(996);n(693);t.a=r.a},38:function(e,t,n){"use strict";n(1396);var r=n(519);n(126);t.a=r.a},40:function(e,t,n){"use strict";n(1639);var r=n(818);n(175);t.a=r.a},403:function(e,t,n){"use strict";var r=n(547);n.d(t,"a",(function(){return r.a}))},4055:function(e,t,n){"use strict";t.a={modal:"index-module_modal_pcaUs",content:"index-module_content_QzTkp",boldText:"index-module_boldText_fg3cF",footer:"index-module_footer_RFKYC",actionBtn:"index-module_actionBtn_3gX8b",actionBtnWrapper:"index-module_actionBtnWrapper_NTfX9",errorTip:"index-module_errorTip_Z14UW"}},4074:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n(1260),a=n.n(r),o=(n(15),n(141));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;return t&&a.a.parse(t)[e]||""}var c=window.self!==window.top;function l(){var e=i("mode"),t=o.a.get("topicsPageMode");return"clean"===e?(o.a.set("topicsPageMode","clean"),"clean"):"normal"===e?(o.a.remove("topicsPageMode"),"normal"):t&&"clean"===t&&c?"clean":"normal"}},4201:function(e,t,n){"use strict";n(36);var r=n(8),a=n(0),o=n.n(a),i=n(155),c=n(69),l=n(20),u=n(1353),s=n(910),f=n(4055);t.a=function(e){var t,n,d,m,p=e.limitType,h=e.organization,y=e.showBtn,v=e.onBtnClick,b=c.MEMBER_RULE.Organization,g=null===(t=h.abilities)||void 0===t?void 0:t.destroy,_=(n="",d="",m=s.a.isFree(h)?__("升级"):__("续费"),p===c.ORG_LIMIT_TYPE.address_book_limit&&(n=__("钉钉通讯录未解绑"),d=g?__("你的空间“{orgName}”付费权益已过期，请及时进行版本{actionText}或解绑钉钉通讯录。{helpUrl}",{orgName:h.name,helpUrl:o.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/wvcdiy","data-desktoptarget":"_browser",target:"_blank"},__("查看帮助文档")),actionText:m}):__("你的空间“{orgName}”付费权益已过期，{boldText}",{orgName:h.name,boldText:o.a.createElement("span",{className:f.a.boldText},__("请联系管理员及时进行版本{actionText}或解绑通讯录。",{actionText:m}))})),p===c.ORG_LIMIT_TYPE.group_count_limit&&(n=g?__("空间团队总数已达标准版上限，文档编辑功能已受限"):__("空间使用受限，请联系管理员处理"),d=g?__("你的空间 “{orgName}” 团队总数已达标准版上限 {groupMaxCount} 个，请升级空间版本，或到「{actionText}」中管理团队。{helpUrl}",{orgName:h.name,groupMaxCount:b[l.PAYMENT_TYPE.free][c.LIMIT_RULE_CODE.max_group_number],actionText:o.a.createElement("a",{href:"/r/organizations/dashboard/data",target:"_blank"},__("空间管理 - 团队")),helpUrl:o.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/wvcdiy",target:"_blank"},__("查看帮助文档"))}):__("你的空间 “{orgName}” 团队总数已达标准版上限 {groupMaxCount} 个，{boldText}",{orgName:h.name,groupMaxCount:b[l.PAYMENT_TYPE.free][c.LIMIT_RULE_CODE.max_group_number],boldText:o.a.createElement("span",{className:f.a.boldText},__("请联系管理员升级。"))})),p===c.ORG_LIMIT_TYPE.member_count_limit&&(n=__("空间人数已达标准版上限"),d=g?__("你的空间“{orgName}”人数已达标准版上限 {memberMaxCount} 人，请及时进行版本{actionText}。{helpUrl}",{orgName:h.name,memberMaxCount:b[l.PAYMENT_TYPE.free][c.LIMIT_RULE_CODE.max_member],actionText:m,helpUrl:o.a.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/wvcdiy",target:"_blank"},__("查看帮助文档"))}):__("你的空间“{orgName}”人数已达标准版上限 {memberMaxCount} 人，{boldText}",{orgName:h.name,memberMaxCount:b[l.PAYMENT_TYPE.free][c.LIMIT_RULE_CODE.max_member],boldText:o.a.createElement("span",{className:f.a.boldText},__("请联系管理员及时进行版本{actionText}。",{actionText:m}))})),{title:n,content:d});return Object(a.useEffect)((function(){Object(i.spmClick)(c.ORG_LIMIT_SPM.pay_limit,{pay_source:c.LIMIT_SCENE.org_limit_buy,org_id:(null==h?void 0:h.id)||0})}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:"//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Zm6QQJBBctAAAAAAAAAAAAAAARQnAQ",width:"100%"}),o.a.createElement("div",{className:f.a.content,"data-testid":"tip-content"},o.a.createElement("h1",null,_.title),o.a.createElement("p",null,_.content),y&&o.a.createElement("div",{className:f.a.footer},g?o.a.createElement("div",{className:f.a.footerOther},o.a.createElement(u.a,{organization:h,className:f.a.actionBtn,type:"primary",text:s.a.getPaymentActionGuide(h.payment_type),paySource:c.LIMIT_SCENE.org_limit_buy})):o.a.createElement(r.a,{onClick:v,type:"primary",className:f.a.actionBtn},__("我知道了")))))}},4240:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return P}));n(73);var r=n(32),a=(n(36),n(8)),o=(n(43),n(10)),i=n(0),c=n.n(i),l=n(6),u=n.n(l),s=n(4),f=n.n(s),d=n(1507),m=n(690),p=n(688),h=n(342),y=n(48),v=n(547),b=n(1253),g=n(843),_=n(1255),w={wrapper:"index-module_wrapper_mRIh5",card:"index-module_card_ZtsWp",header:"index-module_header_smdG-",actions:"index-module_actions_APVcN",btn:"index-module_btn_r+e7V",defaultBtn:"index-module_defaultBtn_LoLNP",orgWrapper:"index-module_orgWrapper_Gwl26",floatLeftBtn:"index-module_floatLeftBtn_idfaZ",orgLogo:"index-module_orgLogo_sYs6j",orgInfo:"index-module_orgInfo_Vy2Zq",orgName:"index-module_orgName_b29on",placeholer:"index-module_placeholer_tOo7B"};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(){O=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==n&&r.call(x,i)&&(_=x);var S=g.prototype=v.prototype=Object.create(_);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==E(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(E(t)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function x(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,c,"next",e)}function c(e){x(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A="orgSwitch",P=function(e,t){var n=e.organization,r=Object(b.a)(n),a=j(Object(i.useState)(r.current.leaving_info_enable),2),c=a[0],l=a[1],u=Object(v.a)(y.a.organizations.update),s=u.request,f=u.loading,d=Object(g.a)(c),m=Object(i.useCallback)(function(){var e=S(O().mark((function e(a){var i,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a?1:0,e.next=3,s({id:null===(i=r.current)||void 0===i?void 0:i.id,leaving_info_enable:c});case 3:l(c);try{n.leaving_info_enable=c}finally{(null==t?void 0:t.showSuccessMsg)&&o.a.success(__("更新成功"))}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r.current]),p=function(){var e=S(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loading:f,state:c,preLeavingState:d,onChange:m,close:p}},k=function(e){var t,n=e.organization,o=e.originalOrg,l=e.currentUser,s=e.defaultSpaceHost,f=e.onCancel,y=l.publicName||l.name,v=l.publicAvatar||l.avatar_url,b=n?n.host:s,g=o.host,E=P({organization:o}),x=function(){return Object(_.b)(b)},j=function(){var e=S(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(_.b)("".concat(g,"/r/organizations/dashboard/settings/preference?mark=").concat(A)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){E.state||setTimeout(x,150)}),[b]),E.state||E.preLeavingState?c.a.createElement("div",{className:w.wrapper},c.a.createElement(r.a,{className:w.card},c.a.createElement("h2",{className:w.header},n?__("确定切换空间吗？"):__("确定切换到个人吗？")),c.a.createElement("div",{className:w.body},n&&c.a.createElement("p",null,__("你正在切换空间。空间彼此数据隔离，请注意确认信息安全。点击确认进入 {location} 工作台。",{location:n.name})),!n&&c.a.createElement("p",null,__("你正在从空间切换到个人，请注意确认信息安全。点击确认进入 {location} 的个人工作台。",{location:y})),c.a.createElement("div",{className:w.orgWrapper},n?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.c,{src:n.logo,size:40,className:w.orgLogo}),c.a.createElement("div",{className:w.orgInfo},c.a.createElement(p.d,{organization:n,className:w.orgName}),c.a.createElement("p",null,n.member.name||y))):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{className:w.orgLogo,src:v,size:40,name:y}),c.a.createElement("div",{className:w.orgInfo},c.a.createElement("h6",{className:w.orgName},y))))),c.a.createElement("div",{className:w.actions},(null==o||null===(t=o.abilities)||void 0===t?void 0:t.update)&&c.a.createElement("button",{onClick:j,disabled:E.loading,className:w.floatLeftBtn,type:"button","data-testid":"leving_info_close"},c.a.createElement(d.default,null),c.a.createElement(h.a,{variant:"body",type:"secondary",ml:5},__("不再提示"))),c.a.createElement("span",{className:w.placeholer}),c.a.createElement(a.a,{onClick:f,className:u()(w.btn,w.defaultBtn)},__("取消")),c.a.createElement(a.a,{type:"primary",href:b,className:w.btn},__("确定"))))):null};k.propTypes={organization:f.a.object.isRequired,originalOrg:f.a.object.isRequired,currentUser:f.a.object.isRequired,defaultSpaceHost:f.a.string.isRequired,onCancel:f.a.func.isRequired};t.a=k},433:function(e,t,n){"use strict";var r=n(690);n.d(t,"a",(function(){return r.a}))},4349:function(e,t,n){"use strict";n(62);var r=n(31),a=n(0),o=n.n(a),i=n(4),c=n.n(i),l=n(48),u=n(4074),s=n(97),f=n(4055),d=n(4201),m=function(e){var t=e.visible,n=e.onClose,a=e.tip,i=e.organization,c=e.limitType;if("/r/organizations/dashboard/cashier"===window.location.pathname&&Object(u.b)("action"))return null;var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).showPayModel;n(e),a&&l.a.mine.readUserTip({id:a.id,type:a.type})};return o.a.createElement(r.a,{className:f.a.modal,visible:t,onCancel:s,header:null,footer:null,width:480,maskClosable:!1,centered:!0,zIndex:1001},o.a.createElement(d.a,{limitType:c,organization:i,showBtn:!0,onBtnClick:s}))};m.propTypes={organization:c.a.object.isRequired,limitType:c.a.string.isRequired,tip:c.a.object.isRequired,visible:c.a.bool.isRequired,onClose:c.a.func.isRequired},m.isExpiredAndShow=function(e,t){var n=s.a.isExpired(e);return n&&t({type:"error/toggleOrgLimitTip",payload:{orgExpiredModalVisible:!0}}),n},t.a=m},436:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n(26),a="RC_TABLE_KEY";function o(e){return null==e?[]:Array.isArray(e)?e:[e]}function i(e,t){if(!t&&"number"!=typeof t)return e;for(var n=o(t),r=e,a=0;a<n.length;a+=1){if(!r)return null;r=r[n[a]]}return r}function c(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,c=r.dataIndex,l=i||o(c).join("-")||a;n[l];)l="".concat(l,"_next");n[l]=!0,t.push(l)})),t}function l(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(a){var o=n[a];o&&"object"===Object(r.a)(o)?(e[a]=e[a]||{},t(e[a],o)):e[a]=o}))}for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return a.forEach((function(n){t(e,n)})),e}function u(e){return null!=e}},4411:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=n(6),l=n.n(c),u=n(59),s=n(97),f={orgVersionLabel:"index-module_orgVersionLabel_NC34L",pro:"index-module_pro_jMq9U",expired:"index-module_expired_weUIR",container:"index-module_container_ppuQD"},d=function(e){var t=e.organization,n=e.className;return!t||s.a.isFree(t)?null:a.a.createElement("div",{className:l()(f.container,n)},a.a.createElement(u.b,{name:s.a.getIconName(t),className:f.icon,width:20,height:20}))};d.propTypes={className:i.a.any,organization:i.a.object.isRequired};t.a=d},4498:function(e,t,n){"use strict";n(543);var r=n(104),a=n(0),o=n.n(a),i=n(6),c=n.n(i),l=n(1259),u=n(1492),s=n(59),f=n(4411),d=n(690),m=n(688),p=n(155),h=n(97),y=(n(2847),n(20)),v=(n(73),n(32)),b=(n(36),n(8)),g=(n(905),n(542)),_=n(4),w=n.n(_),E=n(524),O=n(30),x=n(88),S=n(280),j=n(1493),N=n(3637),A=n(48),P=n(1479),k=n(4349),T=n(1353),C={container:"OrgPreview-module_container_Z1Y1L",titleLink:"OrgPreview-module_titleLink_hfEOU",header:"OrgPreview-module_header_4Q4Yw",titleRow:"OrgPreview-module_titleRow_p1nDH",title:"OrgPreview-module_title_pASRb",version:"OrgPreview-module_version_BKzn6",usage:"OrgPreview-module_usage_i2Dfu",totalUsage:"OrgPreview-module_totalUsage_AYod6",trafficExchange:"OrgPreview-module_trafficExchange_JmDGN",expireTip:"OrgPreview-module_expireTip_47wKl",members:"OrgPreview-module_members_2XXzV",membersTip:"OrgPreview-module_membersTip_248Wp",membersCont:"OrgPreview-module_membersCont_bHrcp",usageBarItem:"OrgPreview-module_usageBarItem_ipU84",usageBar:"OrgPreview-module_usageBar_RimBB",ownerList:"OrgPreview-module_ownerList_0f-ev",ownerWrapper:"OrgPreview-module_ownerWrapper_chW91",orgManage:"OrgPreview-module_orgManage_nouoD",settingIcon:"OrgPreview-module_settingIcon_RPpMH",wrapper:"OrgPreview-module_wrapper_pl9jP",moreOwner:"OrgPreview-module_moreOwner_nKdeY",moreOwnerNum:"OrgPreview-module_moreOwnerNum_VzpfU",ownerTitle:"OrgPreview-module_ownerTitle_4jGqP",allAwnerWarp:"OrgPreview-module_allAwnerWarp_0jZVW"};function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t=e.organization,n=L(Object(a.useState)([]),2),r=n[0],i=n[1];Object(a.useEffect)((function(){A.a.organizations.owners({id:t.id}).then(i)}),[t]);var c=null==r?void 0:r.slice(0,3);return o.a.createElement("div",{className:C.wrapper},o.a.createElement("div",{className:C.ownerTitle},__("管理员")),o.a.createElement("div",{className:C.ownerList},c.map((function(e){var t=e.user;return o.a.createElement(j.a,{user:t,key:t.id},o.a.createElement(O.Link,{to:"/".concat(null==t?void 0:t.login),target:"_blank"},o.a.createElement(d.a,{src:t.avatar_url||t.avatar,size:16,name:t.name})))})),r.length>3&&o.a.createElement(g.a,{overlayStyle:{width:210},placement:"bottom",content:o.a.createElement("div",{className:C.allAwnerWarp},o.a.createElement("p",null,__("全部管理员")),r.map((function(e){var t=e.user;return o.a.createElement(j.a,{user:t,key:t.id},o.a.createElement(O.Link,{to:"/".concat(null==t?void 0:t.login),target:"_blank"},o.a.createElement(d.a,{src:t.avatar_url||t.avatar,size:16,name:t.name})))})))},o.a.createElement("span",{className:C.moreOwner},o.a.createElement("span",{className:C.moreOwnerNum},"...")))))}function R(e){var t,n,r=L(Object(a.useState)(!1),2),i=r[0],l=r[1],u=e.organization,f=e.className,d=u.members_count,m=u.max_member,p=Object(P.getInterest)(),y=d||(null==p||null===(t=p.usage)||void 0===t?void 0:t.member_count),g=h.a.isPremium(u)?m:null==p||null===(n=p.limit)||void 0===n?void 0:n.max_member,_=h.a.isOwner(u);return o.a.createElement("div",{className:c()(C.container,f)},o.a.createElement(v.a,{transparentHead:!0},_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(T.d,{organization:u,className:C.expireTip}),o.a.createElement("div",{className:C.members,"data-testid":"org-preview-members"},o.a.createElement("div",{className:C.membersCont},o.a.createElement("span",{className:C.membersTip},__("成员数")),o.a.createElement("span",null,o.a.createElement("b",null,y),"/",g)),o.a.createElement("a",{href:"/r/organizations/dashboard/contacts#inviteUserToken",target:"_blank",style:{whiteSpace:"nowrap"}},__("邀请成员#abbr"))),o.a.createElement("div",{className:C.usageBarItem},o.a.createElement("div",{className:C.usageBar,style:{width:"".concat(Math.min(parseInt(y/g*100,10)||0,100),"%")}}))),o.a.createElement("div",{className:C.ownerWrapper},o.a.createElement(M,{organization:u}),_&&o.a.createElement(b.a,{className:C.orgManage,href:"/r/organizations/dashboard",target:"_blank"},o.a.createElement(s.b,{className:C.settingIcon,name:"setting",width:16,height:16}),__("空间管理")))),o.a.createElement(N.a,{type:"organization",visible:i,role:x.ROLE.member,organization:u,onCancel:function(){return t=!1,void(k.a.isExpiredAndShow(u,e.dispatch)||l(t));var t}}))}M.propTypes={organization:w.a.object.isRequired},R.propTypes={organization:w.a.object.isRequired,dispatch:w.a.any,className:w.a.string};var D=Object(S.b)(Object(E.d)((function(e){return{organization:e.organization}}))(R)),z=n(33),B=n(1490),Y={"ellipsis-text":"index-module_ellipsis-text_yJMGK",userMenu:"index-module_userMenu_mAS13",menuItem:"index-module_menuItem_of+Lq",menuDivider:"index-module_menuDivider_vBChm",userInfoMenuItem:"index-module_userInfoMenuItem_B3mlE",orgListItem:"index-module_orgListItem_5450y",newOrgItem:"index-module_newOrgItem_5fzW9",orgPreviewMenuItem:"index-module_orgPreviewMenuItem_-JvgX",orgPreviewDivider:"index-module_orgPreviewDivider_GpVcy",userItemWrapper:"index-module_userItemWrapper_LtScn",orgPreviewContainer:"index-module_orgPreviewContainer_8oTEL",userInfoAvatar:"index-module_userInfoAvatar_D5E2q",orgUserInfoAvatar:"index-module_orgUserInfoAvatar_dN5mv",orgInfoWrapper:"index-module_orgInfoWrapper_0V0CU",orgTitle:"index-module_orgTitle_myAbM",orgName:"index-module_orgName_B-8Tu",orgIcons:"index-module_orgIcons_CIrl3",orgDesc:"index-module_orgDesc_5bO3-",orgListWarp:"index-module_orgListWarp_OUdwf",orgItemWarp:"index-module_orgItemWarp_zbj4w",orgItemPic:"index-module_orgItemPic_aoZ-Z",orgItemDesc:"index-module_orgItemDesc_RKM3z",name:"index-module_name_jMswI",desc:"index-module_desc_bOxEB",orgItemSelectedIcon:"index-module_orgItemSelectedIcon_zyD7Q",disableMenuItemWrapper:"index-module_disableMenuItemWrapper_dz9np",menuItemWrapper:"index-module_menuItemWrapper_NVGN2",newOrgWrapper:"index-module_newOrgWrapper_VCVNL",text:"index-module_text_1Itv9",addContent:"index-module_addContent_6rrez",userInfoDesc:"index-module_userInfoDesc_iq30m",disableLink:"index-module_disableLink_1Pgkx",menuGroup:"index-module_menuGroup_F07Eb",organizationItems:"index-module_organizationItems_f1bLt",personal:"index-module_personal_0ZY2c",organization:"index-module_organization_LhMB7"};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t,n,a,i,v,b,g=e.me,_=e.organization,w=e.handleSwitchOrg,E=window.appData,O=E.isYuque,x=E.organizations,S=E.defaultSpaceHost,j="dashboard"===(null===(t=appData.matchCondition)||void 0===t?void 0:t.page),N=_&&_.id,A=g.publicAvatar||g.avatar_url||g.avatar,P=g.publicName||g.name,k=h.a.genCreateFromKey(y.CREATE_FROM.sidebar_avatar_org_switch_create),T="".concat(S,"/r/organizations/new?create_from=").concat(k),C="/".concat(g.login),L=o.a.createElement("div",{className:Y.headerUser,"data-aspm-click":"d73387"},o.a.createElement(d.a,{bordered:!0,src:A,size:36,name:P}));return o.a.createElement(r.a,{className:Y.userMenu,"data-testid":"sidebar-switch-org-menu",selectable:!1},o.a.createElement(r.a.Item,{className:c()("user-info-menu-item",Y.menuItem,Y.userInfoMenuItem)},function(){if(!O)return o.a.createElement("div",{className:Y.userInfoAvatar},L,o.a.createElement("a",{href:C},o.a.createElement("p",{className:c()(Y.userInfoDesc,Y.larkUserInfoDesc)},o.a.createElement("p",{className:Y.userInfoName},o.a.createElement("span",{className:Y.uname},"".concat(g.name)),g.full_name?o.a.createElement("span",{className:Y.fullname},"(".concat(g.full_name,")")):null))));if(N&&j){var e=(null==_?void 0:_.certification_type)>0;return o.a.createElement("div",{className:c()(Y.userInfoAvatar,Y.orgUserInfoAvatar,F({},Y.orgUserInfoWelfare,e))},_.logo?o.a.createElement(m.c,{src:_.logo,size:40,className:"".concat(Y.logo," org-logo-img")}):o.a.createElement(s.b,{name:"IconOrganization",width:40,height:40,className:"".concat(Y.logo," org-logo-img")}),o.a.createElement("div",{className:Y.orgInfoWrapper},o.a.createElement("div",{className:Y.orgTitle},o.a.createElement("p",{className:Y.orgName,title:g.name},_.name),o.a.createElement("div",{className:Y.orgIcons},o.a.createElement(f.a,{className:Y.version,organization:_}),e&&o.a.createElement(s.b,{name:"WelfareNormal",size:20}))),o.a.createElement("p",{className:Y.orgDesc},__("享受{payment_type}空间权益",{payment_type:h.a.getPayment(_)}))))}return null}()),o.a.createElement(r.a.Item,{className:c()(Y.menuItem,Y.orgPreviewMenuItem)},!N||(v=window.appData,b=v.canReadOrg,403===v.status&&_&&!b||z.c||!N||[429].includes(_.id)||!j)?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{className:Y.orgPreviewContainer}),o.a.createElement(r.a.Divider,{className:Y.orgPreviewDivider}))),(n=o.a.createElement("div",{className:Y.menuGroup},o.a.createElement("h4",null,__("个人")),o.a.createElement("div",{className:c()(Y.orgItemWarp,Y.menuItemWrapper),onClick:function(e){e.stopPropagation(),w()}},o.a.createElement("div",{className:Y.orgItemPic},o.a.createElement(d.a,{bordered:!0,src:A,size:32,name:P})),o.a.createElement("div",{className:Y.orgItemDesc},o.a.createElement("p",{className:Y.name},P),o.a.createElement("p",{className:Y.desc},__("我自己"))),!N&&o.a.createElement("div",null,o.a.createElement(l.default,null)))),a=o.a.createElement(r.a.Item,{className:c()(Y.menuItem,Y.newOrgItem)},o.a.createElement("a",{href:T,target:"_blank","data-desktoptarget":"_browser",className:c()(Y.newOrgWrapper,Y.menuItemWrapper),onClick:function(){return Object(p.spmClick)("c36328.d73386_2")}},o.a.createElement("p",{className:Y.addContent},o.a.createElement(u.default,{width:16,height:16})),o.a.createElement("span",{className:Y.text},__("创建空间")))),i=o.a.createElement("div",{className:Y.menuGroup},o.a.createElement("h4",null,__("空间")),null!=x&&x.length?o.a.createElement("div",{className:Y.organizationItems},null==x?void 0:x.map((function(e){var t=o.a.createElement("div",{className:c()(Y.orgItemWarp,Y.menuItemWrapper),onClick:function(t){t.stopPropagation(),w(e)},key:e.id},o.a.createElement("div",{className:Y.orgItemPic},e.logo?o.a.createElement(m.c,{src:e.logo,size:32}):o.a.createElement(s.b,{name:"IconOrganization",size:32})),o.a.createElement("div",{className:Y.orgItemDesc},o.a.createElement(m.d,{organization:e,className:Y.name}),void 0!==e.members_count&&o.a.createElement("p",{className:Y.desc},__("{count} 成员",{count:e.members_count}))),e.id===(null==_?void 0:_.id)&&o.a.createElement("div",{className:Y.orgItemSelectedIcon},o.a.createElement(l.default,null)));return o.a.createElement(B.a,null,t)}))):null,a),o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a.Item,{className:c()(Y.menuItem,Y.orgListItem)},o.a.createElement("div",{className:Y.orgListWarp},N?o.a.createElement("div",{className:Y.organization},i,n):o.a.createElement("div",{className:Y.personal},n,i))))))}},4557:function(e,t,n){"use strict";n.r(t);n(270);var r=n(135),a=(n(905),n(542)),o=n(0),i=n.n(o),c=n(80),l=n.n(c),u=n(524),s=n(30),f=n(4),d=n.n(f),m=n(6),p=n.n(m),h=n(59),y=n(3656),v=n(4240),b=n(688),g=n(281),_=n(4498),w="index-module_wrapper_O84qd",E="index-module_logo_iT2c+",O="index-module_headNewPopover_Y-15k",x="index-module_name_6Agvj",S="index-module_trigger_V+NvJ",j="index-module_triggerArrow_WBX6P",N="index-module_switchModal_7NmTl",A="index-module_guideContainer_JCOCp",P="index-module_logoTrigger_nzDcd",k="index-module_triggerNav_OAipt",T="index-module_navIcon_55JAU",C="index-module_orgLogo_X9R4y",L="index-module_wrapperHidden_GOiq1",I="index-module_switchOrgPopover_c0tT5";function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var B=Object(g.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(1414)]).then(n.bind(null,8006))}),{suspense:!0}),Y=["/","/about","/yuque/story","/yuque/help","/about/products","/about/security","/about/templates","/about/groups","/about/personal","/about/organization","/explore","/about/price","/template","/install/desktop","/download","/about/help","/about/careers","/about/welfare"],U=function(){return Y.includes(window.location.pathname)};function F(e){var t,n,c=e.theme,u=e.organization,s=e.logoSize,f=void 0===s?32:s,d=e.switchMore,m=void 0===d||d,g=e.hideName,M=void 0!==g&&g,z=e.isMiniNav,Y=void 0!==z&&z,q=e.isSimpleNav,G=void 0!==q&&q,W=e.me,V=window.appData,H=V.defaultSpaceHost,K=V.me,Q=V.isYuque,Z=(V.settings||{}).is_via_custom_domain,X=u&&u.id,$=D(Object(o.useState)(!1),2),J=$[0],ee=$[1],te=D(Object(o.useState)(!1),2),ne=te[0],re=te[1],ae=D(Object(o.useState)(null),2),oe=ae[0],ie=ae[1],ce=D(Object(o.useState)(!1),2),le=ce[0],ue=ce[1],se=function(e){window.appData.organization?e&&e.id===u.id||(re(!0),ie(e),document.querySelector("body").style.overflowY="hidden",ee(!0),setTimeout((function(){ee(!1)}),300)):window.location.href=e?e.host:H},fe=function(){ie(null),re(!1),document.querySelector("body").style.overflowY="auto"},de=null!==(t=window.appData.me)&&void 0!==t&&t.mobile||null!==(n=window.appData.me)&&void 0!==n&&n.work_id?"/dashboard":"/about";function me(){return i.a.createElement("a",{href:de,className:p()(w,{"org-logo":X})},"organization"===c&&X?i.a.createElement(i.a.Fragment,null,u.logo?i.a.createElement(b.c,{src:u.logo,size:f,className:"".concat(E," ").concat(C)}):i.a.createElement(h.b,{name:"icon-organization",width:f,height:f,className:"".concat(E," ").concat(C)}),i.a.createElement(b.d,{organization:u,className:x})):i.a.createElement(y.d,{height:f,className:E}))}function pe(e){ue(e)}function he(){var e;return window.h5||U()||"dashboard"===(null===(e=window.appData.matchCondition)||void 0===e?void 0:e.page)&&!window.appData.hideSidebar?me():i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{type:"menu",content:i.a.createElement(B,{isNavigation:!0}),placement:"bottomLeft",visible:le,onVisibleChange:pe,overlayClassName:O,getPopupContainer:function(e){return e.parentNode},mouseLeaveDelay:.3},i.a.createElement("div",{className:P},i.a.createElement("div",{"data-aspm-click":"",className:k,onClick:function(){window.location.href="/dashboard"}},i.a.createElement(h.b,{name:"nav-menu",className:T,width:12})),i.a.createElement("div",{className:p()(w,R({},L,le))},"organization"===c&&X?i.a.createElement(i.a.Fragment,null,u.logo?i.a.createElement(b.c,{src:u.logo,size:f,className:"".concat(E," ").concat(C)}):i.a.createElement(h.b,{name:"icon-organization",width:f,height:f,className:"".concat(E," ").concat(C)})):i.a.createElement(y.b,{className:E})))),!M&&i.a.createElement("a",{href:"/"},"organization"===c&&X?i.a.createElement(b.d,{organization:u,className:x}):i.a.createElement(y.c,null)))}return Q?K&&K.id&&m?Y?i.a.createElement(i.a.Fragment,null,null!=u&&u.id?i.a.createElement(i.a.Fragment,null,he()):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"head"},i.a.createElement("div",{className:"yuque-header-container"},i.a.createElement("div",{className:"logo","data-testid":"yuque-logo"},i.a.createElement(F,{hideName:!0})))))):i.a.createElement(i.a.Fragment,null,he(),!G&&!window.h5&&!U()&&!Z&&m&&!M&&i.a.createElement(a.a,{overlayClassName:I,placement:"bottom",overlayInnerStyle:{marginLeft:"106px"},getPopupContainer:function(e){return e.parentNode},content:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{me:W,organization:u,handleSwitchOrg:se}),ne&&l.a.createPortal(i.a.createElement("div",{className:N},J?i.a.createElement(r.a,null):i.a.createElement(v.a,{organization:oe,originalOrg:u,currentUser:K,defaultSpaceHost:H,onCancel:fe})),document.querySelector("body")))}},i.a.createElement("a",{className:S,"data-aspm-click":"d73395","data-aspm-param":"organization=".concat(u?u.id:0)},i.a.createElement("span",{className:A},i.a.createElement(h.b,{name:"arrow-down",className:j,width:16}))))):me():he()}F.propTypes={theme:d.a.string,organization:d.a.object,me:d.a.object,logoSize:d.a.number,switchMore:d.a.bool,hideName:d.a.bool,isMiniNav:d.a.bool,isSimpleNav:d.a.bool};t.default=Object(s.withRouter)(Object(u.d)((function(e){return e}))(F))},488:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},490:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},511:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e.NOTE="NOTE",e.BOOK="BOOK",e.DOC="DOC",e.GROUP="GROUP",e}({}),a=function(e){return e.PERSON="PERSON",e.ORG="ORG",e.PUBLIC_PAGE="PUBLIC_PAGE",e.INTERNAL="INTERNAL",e}({})},547:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){switch(t.type){case"init":return{response:null,error:null,loading:!0};case"success":return{response:t.response,error:null,loading:!1};case"error":return{response:null,error:t.error,loading:!1};default:return{response:null,error:null,loading:!1}}}function c(e){var t=Object(r.useRef)(0),n=a(Object(r.useReducer)(i,{response:null,loading:!1,error:null}),2),o=n[0],c=n[1];return{data:o.response,loading:o.loading,request:function(n,r){var a=++t.current;return c({type:"init"}),e(n,r).then((function(e){return a===t.current&&c({type:"success",response:e}),e})).catch((function(e){if(c({type:"error",error:e}),null!=r&&r.ignoreGlobalMessage)throw e;console.error(e)}))},error:o.error}}},60:function(e,t,n){"use strict";n(2719);var r=n(997);n(179);t.a=r.a},688:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=(n(6),n(59)),l=n(97),u=n(690),s=(n(342),n(205));function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,r=e.organization,o=e.department,i=e.className,c=null!=r&&r.id?[r.name]:[];null!=o&&null!==(t=o.dept_full_path)&&void 0!==t&&t.length&&(c=[].concat(f(c),f(null==o||null===(n=o.dept_full_path)||void 0===n?void 0:n.map((function(e){return e.name})))));var l=c.join(" - ");return a.a.createElement("span",{title:l,className:i},l)}function p(e){var t=e.organization,n=e.suffix,r=e.className;return a.a.createElement("span",{title:t.name,className:r},t.name," ",n)}function h(e){var t=e.organization;e.className;return a.a.createElement("a",{href:t.host,title:t.name},t.name)}function y(e){var t=e.src,n=e.size,r=e.radius,o=e.name,i=e.className,l=e.organization,s=t||(null==l?void 0:l.logo);return s?a.a.createElement(u.a,{src:s,size:n,radius:r||4,name:o,className:i}):a.a.createElement(c.b,{name:"icon-organization",width:n,radius:r||4,className:i})}function v(e){var t,n,r,o=e.className,i=e.organization,u=(t="en-us"===Object(s.d)(),n=l.a.isPro(i),r=l.a.isEnterprise(i),n?t?"icon-spacepayment-en":"spacepayment-pro":r?t?"en-spacepayment-business":"spacepayment-business":null);return u?a.a.createElement(c.b,{name:u,width:48,height:16,className:o}):null}m.propTypes={organization:i.a.any,department:i.a.any,className:i.a.string},p.propTypes={organization:i.a.object.isRequired,suffix:i.a.node,className:i.a.string},h.propTypes={organization:i.a.object.isRequired,className:i.a.string},y.propTypes={src:i.a.string,name:i.a.string,radius:i.a.oneOfType([i.a.string,i.a.number]),size:i.a.oneOfType([i.a.string,i.a.node]),className:i.a.string,organization:i.a.object},v.propTypes={className:i.a.string,organization:i.a.object},i.a.array.isRequired,i.a.string.isRequired,i.a.string,i.a.bool},690:function(e,t,n){"use strict";n(698);var r=n(346),a=n(0),o=n.n(a),i=n(4),c=n.n(i),l=n(59),u=n(6),s=n.n(u),f=n(432),d=n(345),m=n(819),p=n(1038),h=d.avatar.user,y=d.avatar.userDark,v=function(e){var t=e.src,n=e.icon,a=e.size,i=e.className,c=e.name,u=e.useLetterAvatar,d=e.radius,v=e.bordered,b=e.onPreviewImage,g=e.enableLarkUIImage,_=e.iconSize,w=Object(f.a)().isDarkMode,E={lg:128,md:64,sm:32,contributorAvatar:28,xs:16}[a]||a,O={width:E,minWidth:E,height:E,borderRadius:d||E/2};v&&(O.borderColor="rgba(0,0,0,0.06)",O.borderWidth=1,O.borderStyle="solid");var x=t&&t.indexOf("rmsportal/SZXCSCJTuhRSmAggBlVp")>-1;if(x&&!n||u&&!t&&!n)return o.a.createElement(p.a,{size:E,text:c,style:O,className:i,isGroup:x});if(t&&!x){var S=t;w&&t===h&&(S=y);var j=Object(m.a)(S,{width:2*E,height:2*E,fill:!0,format:"png"});S.indexOf("work.alibaba-inc.com")>-1?j=E&&E<=32?S.replace(".220x220.",".64x64.xz."):S:S.includes("/avatar_buc/")&&E&&E>64?j="".concat(S).concat(S.indexOf("?")>-1?"&":"?","size=large"):S.indexOf(".svg")>-1&&(j=S);return g?o.a.createElement(r.a,{"data-testid":"img-avatar",src:j,className:i,style:O,alt:c||"",preview:!1,onError:function(e){e.target.src!==h&&(e.target.alt="",e.target.src=h)}}):o.a.createElement("img",{"data-testid":"img-avatar",onError:function(e){e.target.src!==h&&(e.target.alt="",e.target.src=h)},onClick:b?function(){return b({src:S,msrc:j})}:void 0,src:j,className:s()(i,"img"),style:O,alt:c||""})}return n?o.a.createElement(l.b,{className:i,name:e.icon,width:_||E,height:_||E}):null};v.defaultProps={size:"sm"},v.propTypes={className:c.a.string,src:c.a.string,icon:c.a.string,name:c.a.string,useLetterAvatar:c.a.bool,radius:c.a.oneOfType([c.a.string,c.a.number]),size:c.a.oneOfType([c.a.string,c.a.node,c.a.number]),onPreviewImage:c.a.func,enableLarkUIImage:c.a.bool,bordered:c.a.bool,iconSize:c.a.number},t.a=v},691:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(2),a=n(29),o=(n(41),["expandable"]),i="RC_TABLE_INTERNAL_COL_DEFINE";function c(e){var t=e.expandable,n=Object(a.a)(e,o);return"expandable"in e?Object(r.a)(Object(r.a)({},n),t):n}function l(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)||(t[n]=e[n]),t}),{})}},692:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=n(549),i=o.RAW_EXTNAMES,c=o.IMAGE_EXTNAMES,l=o.VIDEO_EXTNAMES,u=o.AUDIO_EXTNAMES,s=o.PRESENTATION_EXTNAMES,f=o.SHEET_EXTNAMES,d=o.MMAP_EXTNAMES,m=o.ZIP_EXTNAMES,p=o.ALLOW_RESOURCE_EDIT_EXTNAMES,h=n(184).FileUtils,y=n(114),v=n(115),b="#eef4fd",g="#eef7f1",_="#f5f2fb",w="#fef8ec",E="#fcf1ec";function O(e){return!!(e=e.toLowerCase()).endsWith(".mindnode.zip")||(!!e.endsWith(".xmind.zip")||(!!e.endsWith(".mpp.zip")||!!e.endsWith(".mmap.zip")))}function x(e){return h.getFileExtname(e)}function S(e,t){if(!t)return!1;switch(t.ext=t.ext?t.ext.toLowerCase():x(t),e){case"raw":return i.includes(t.ext);case"image":return c.includes(t.ext);case"video":return l.includes(t.ext);case"audio":return u.includes(t.ext);case"presentation":return s.includes(t.ext);case"sheet":return f.includes(t.ext);case"rp":return["rp","rplib"].includes(t.ext);case"zip":return m.includes(t.ext);case"mmap":return d.includes(t.ext);case"ppt":return["ppt","pptx"].includes(t.ext);case"office":return[].concat(r(y),r(v)).map((function(e){return e.substr(1)})).includes(t.ext);default:return t.ext===e}}function j(e){return S("image",e)}function N(e){return S("video",e)}function A(e){return S("audio",e)}function P(e){return S("presentation",e)}function k(e){return S("sheet",e)}function T(e){return S("sketch",e)}function C(e){return S("rp",e)}function L(e){return S("pdf",e)}e.exports={isPreviewableZipFiles:O,getExtname:x,getFilename:function(e){if(!e||!e.name)return"";var t=e.name,n=t.split(".");return n.pop(),O(t)&&n.pop(),n.join(".")},isRaw:function(e){return S("raw",e)},isImage:j,isVideo:N,isAudio:A,isPresentation:P,isSheet:k,isSketch:T,isRP:C,isPDF:L,isPpt:function(e){return S("ppt",e)},isOffice:function(e){return S("office",e)},getFileIcon:function(e){if("folder"===e.type)return"file-folder";var t=e.ext;return t=t?t.toLowerCase():x(e),j(e)?"file-image":N(e)?"file-video":A(e)?"file-audio":["doc","docx","dot","dotx"].includes(t)?"file-word":L(e)?"file-pdf":S("txt",e)?"file-txt":["pages","md","markdown","rtf"].includes(t)?"file-doc":S("numbers",e)?"file-numbers":["xls","xlsx","xlsm","xltx","xlt"].includes(t)?"file-excel":k(e)?"file-sheet":S("key",e)?"file-keynote":P(e)?"file-ppt":["xmind","xmind.zip"].includes(t)?"file-xmind":["mindnode","mindnode.zip"].includes(t)?"file-mindnode":S("mmap",e)?"file-mindmap":T(e)?"file-sketch":C(e)?"file-axure":S("psd",e)?"file-psd":S("ai",e)?"file-ai":S("graffle",e)?"file-graffle":S("zip",e)?"file-rar":S("lake",e)?"doc-type-default":S("lakesheet",e)?"doc-type-sheet":"file-default"},allowResourceEdit:function(e){var t=e.ext||x(e);return!!t&&p.includes(t.toLowerCase())},getFileBgColor:function(e){if("folder"===e.type)return b;var t=e.ext;return t=t?t.toLowerCase():"",j(e)?w:N(e)?_:A(e)||["doc","docx","dot","dotx"].includes(t)?b:L(e)?E:S("txt",e)||["pages","md","markdown","rtf"].includes(t)?b:S("numbers",e)||["xls","xlsx","xlsm","xltx","xlt"].includes(t)||k(e)?g:S("key",e)?b:P(e)||["xmind","xmind.zip"].includes(t)?E:["mindnode","mindnode.zip"].includes(t)||S("mmap",e)?_:T(e)?w:C(e)?_:S("psd",e)?b:S("ai",e)?w:S("graffle",e)?g:S("zip",e)?_:S("lake",e)?b:S("lakesheet",e)?g:b}}},694:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(0),a=n(288),o=n(1266),i=r.createContext({});t.c=function(e){var t=e.children,n=e.stickyOffsets,o=e.flattenColumns,c=r.useContext(a.a).prefixCls,l=o.length-1,u=o[l],s=r.useMemo((function(){return{stickyOffsets:n,flattenColumns:o,scrollColumnIndex:(null==u?void 0:u.scrollbar)?l:null}}),[u,o,l,n]);return r.createElement(i.Provider,{value:s},r.createElement("tfoot",{className:"".concat(c,"-summary")},t))};var c=o.a},696:function(e,t,n){"use strict";var r=n(1363),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,c,l,u,s=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),c.selectNodeContents(u),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),u&&document.body.removeChild(u),i()}return s}},702:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},813:function(e,t,n){"use strict";n(2873);var r=n(915),a=n(57),o=n.n(a),i=n(50),c=n.n(i),l=n(1262),u=n.n(l),s=n(65),f=n.n(s),d=n(143),m=n.n(d),p=n(0),h=n.n(p),y=n(4),v=n.n(y),b=n(6),g=n.n(b),_=n(66),w=n.n(_),E=n(162),O=n.n(E);var x=n(55),S=n.n(x)()("useInifiniteScroll"),j=function(e,t){var n,r,a,o,i,c,l=(n=!1,r=Object(p.useState)(n),a=O()(r,2),o=a[0],i=a[1],(c=Object(p.useRef)(o)).current=o,[o,i,Object(p.useCallback)((function(){return c.current}),[])]),s=O()(l,3),f=s[0],d=s[1],h=s[2],y=Object(p.useRef)(null);y.current=e;var v=Object(p.useCallback)(function(){var e=u()(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=O()(t,1),r=n[0],!h()){e.next=3;break}return e.abrupt("return");case 3:if(null==r||!r.isIntersecting){e.next=12;break}return S("entry?.isIntersecting",null==r?void 0:r.isIntersecting),e.prev=5,d(!0),e.next=9,y.current();case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[5,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[y]);return{loading:f,refCallback:Object(p.useCallback)((function(e){S("ref",e);var n,r=null;if(e&&!r&&window.IntersectionObserver)return S("enter"),r=new IntersectionObserver(v,{threshold:(null==t?void 0:t.threshold)||.1,root:(null===(n=t.root)||void 0===n?void 0:n.current)||null}),S("observe",e),r.observe(e),function(){return r.unobserve(e)}}),[t.threshold])}},N=n(485),A=n(135),P=(n(1031),["className","emptyView","onLoadMore","dataSource","renderItem","loading","showLoadingMore","pagination","children","justify","customItem","loadOnScroll","listContainer"]);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=h.a.forwardRef((function(e,t){var n=e.className,a=e.emptyView,o=e.onLoadMore,i=e.dataSource,l=e.renderItem,s=e.loading,d=e.showLoadingMore,p=e.pagination,y=e.children,v=e.justify,b=e.customItem,_=e.loadOnScroll,w=e.listContainer,E=f()(e,P),O=e.loadMoreText,x=void 0===O?Object(N.a)("查看更多"):O,S=s;"boolean"==typeof S&&(S={spinning:S});var k=S&&S.spinning,C=j(u()(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_||!o){e.next=3;break}return e.next=3,o();case 3:case"end":return e.stop()}}),e)}))),{root:w}),L=C.loading,I=C.refCallback;_&&(x=Object(N.a)("到底了"));var M=i.length&&d?h.a.createElement("div",{className:"larkui-list-block-more"},k&&h.a.createElement(A.a,c()({justify:"block"},S)),!k&&h.a.createElement("a",{className:"larkui-list-block-more-btn",ref:I,onClick:function(e){e.preventDefault(),o&&o()}},L?Object(N.a)("加载中"):x)):null;if(k&&!M)return h.a.createElement("div",{className:g()("larkui-list","larkui-list-loading")},h.a.createElement(A.a,c()({justify:"block"},S)));var R=p;return R&&(R=p.total<=p.pageSize?null:T({showSizeChanger:!1},R)),h.a.createElement(r.b,c()({ref:t,className:g()(n,"larkui-list",{"larkui-list-justify-block":"block"===v}),loading:!1,loadMore:M,pagination:R,dataSource:i.length>0?i:e.emptyView?["empty"]:[],renderItem:function(e,t){if("empty"===e)return h.a.createElement("div",{className:"blankslate"},a);var n=l(e,t);return n?b?n:h.a.createElement(r.b.Item,{key:e.id},n):h.a.createElement("div",null)}},E),y)}));C.defaultProps={dataSource:[],loading:!1,showLoadingMore:!1,justify:"flex"},C.propTypes=T(T({},r.b.ListProps),{},{className:v.a.string,emptyView:v.a.node,onLoadMore:v.a.func,dataSource:v.a.array,renderItem:v.a.func,loading:v.a.oneOfType([v.a.bool,v.a.object]),showLoadingMore:v.a.bool,pagination:v.a.object,children:v.a.node,justify:v.a.oneOf(["block","flex"]),customItem:v.a.bool,loadOnScroll:v.a.bool,listContainer:v.a.node}),w()(C,r.b);t.a=C},814:function(e,t,n){"use strict";var r=n(3),a=n(2),o=n(29),i=n(26),c=n(0),l=n(6),u=n.n(l),s=n(86),f=n(436),d=["colSpan","rowSpan","style","className"];function m(e,t){var n,l,m,p,h=e.prefixCls,y=e.className,v=e.record,b=e.index,g=e.dataIndex,_=e.render,w=e.children,E=e.component,O=void 0===E?"td":E,x=e.colSpan,S=e.rowSpan,j=e.fixLeft,N=e.fixRight,A=e.firstFixLeft,P=e.lastFixLeft,k=e.firstFixRight,T=e.lastFixRight,C=e.appendNode,L=e.additionalProps,I=void 0===L?{}:L,M=e.ellipsis,R=e.align,D=e.rowType,z=e.isSticky,B="".concat(h,"-cell");if(w)m=w;else{var Y=Object(f.b)(v,g);if(m=Y,_){var U=_(Y,v,b);!(p=U)||"object"!==Object(i.a)(p)||Array.isArray(p)||c.isValidElement(p)?m=U:(m=U.children,l=U.props)}}"object"!==Object(i.a)(m)||Array.isArray(m)||c.isValidElement(m)||(m=null),M&&(P||k)&&(m=c.createElement("span",{className:"".concat(B,"-content")},m));var F=l||{},q=F.colSpan,G=F.rowSpan,W=F.style,V=F.className,H=Object(o.a)(F,d),K=void 0!==q?q:x,Q=void 0!==G?G:S;if(0===K||0===Q)return null;var Z={},X="number"==typeof j,$="number"==typeof N;X&&(Z.position="sticky",Z.left=j),$&&(Z.position="sticky",Z.right=N);var J,ee={};R&&(ee.textAlign=R);var te=!0===M?{showTitle:!0}:M;te&&(te.showTitle||"header"===D)&&("string"==typeof m||"number"==typeof m?J=m.toString():c.isValidElement(m)&&"string"==typeof m.props.children&&(J=m.props.children));var ne,re=Object(a.a)(Object(a.a)(Object(a.a)({title:J},H),I),{},{colSpan:K&&1!==K?K:null,rowSpan:Q&&1!==Q?Q:null,className:u()(B,y,(n={},Object(r.a)(n,"".concat(B,"-fix-left"),X),Object(r.a)(n,"".concat(B,"-fix-left-first"),A),Object(r.a)(n,"".concat(B,"-fix-left-last"),P),Object(r.a)(n,"".concat(B,"-fix-right"),$),Object(r.a)(n,"".concat(B,"-fix-right-first"),k),Object(r.a)(n,"".concat(B,"-fix-right-last"),T),Object(r.a)(n,"".concat(B,"-ellipsis"),M),Object(r.a)(n,"".concat(B,"-with-append"),C),Object(r.a)(n,"".concat(B,"-fix-sticky"),(X||$)&&z),n),I.className,V),style:Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},I.style),ee),Z),W),ref:(ne=O,"string"==typeof ne||Object(s.c)(ne)?t:null)});return c.createElement(O,re,C,m)}var p=c.forwardRef(m);p.displayName="Cell";var h=c.memo(p,(function(e,t){return!!t.shouldCellUpdate&&!t.shouldCellUpdate(t.record,e.record)}));t.a=h},816:function(e,t,n){"use strict";t.a={contactInfoTitle:"receipt-module_contactInfoTitle_+WTvl",receiptButtons:"receipt-module_receiptButtons_tBTuB",cancelButton:"receipt-module_cancelButton_1xXKN"}},819:function(e,t,n){"use strict";var r=n(906);n.d(t,"a",(function(){return r.a}))},822:function(e,t,n){"use strict";n(36);var r=n(8),a=(n(126),n(38)),o=(n(136),n(28)),i=(n(217),n(49)),c=(n(52),n(12)),l=n(0),u=n.n(l),s=n(4),f=n.n(s),d=n(816);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}function y(e,t,n){return t=b(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=y(this,t,[e]);var r=void 0===e.isFinished||!e.isFinished;return n.state={editing:r,btnLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(l=[{key:"render",value:function(){var e=this,t=this.props.form,n=t.getFieldDecorator,l=t.validateFields,s=t.resetFields,f=this.props,m=f.handleClickReceiptConfirm,p=f.handleApplyReceiptCancel,h=f.handleReceiptChange,y=f.data,v=f.isFinished,b=f.submitButtonText,g=y||{},_=this.state,w=_.editing,E=_.btnLoading;return u.a.createElement(i.a,{layout:"vertical"},u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("发票抬头")},n("title",{initialValue:g.title,rules:[{required:!0,message:__("请填写发票抬头")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写发票抬头")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("税号")},n("tax_no",{initialValue:g.tax_no,rules:[{required:!0,message:__("请填写税号")},{validator:function(e,t,n){if(t&&t.length>32)return n("不能超过 32 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写税号")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("公司注册电话")},n("telephone",{initialValue:g.telephone,rules:[{required:!0,message:__("请填写公司注册电话")},{validator:function(e,t,n){if(t&&t.length>32)return n("不能超过 32 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写公司注册电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("开户行")},n("bank_name",{initialValue:g.bank_name,rules:[{required:!0,message:__("请填写开户行")},{validator:function(e,t,n){if(t&&t.length>42)return n("不能超过 42 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写开户行")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("银行账户")},n("bank_account",{initialValue:g.bank_account,rules:[{required:!0,message:__("请填写银行账户")},{validator:function(e,t,n){if(t&&t.length>64)return n("不能超过 64 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写银行账户")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("公司注册地址")},n("address",{initialValue:g.address,rules:[{required:!0,message:__("请填写公司注册地址")},{validator:function(e,t,n){if(t&&t.length>170)return n("不能超过 170 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写公司注册地址")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24,className:d.a.contactInfoTitle})),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("收件人")},n("contact_name",{initialValue:g.contact_name,rules:[{required:!0,message:__("请填写收件人姓名")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写收件人姓名")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("收件人电话")},n("contact_telephone",{initialValue:g.contact_telephone,rules:[{required:!0,message:__("请填写收件人电话")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写收件人电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("邮箱")},n("email",{initialValue:g.email,rules:[{required:!0,type:"email",message:__("请填写正确的邮箱地址")}]})(u.a.createElement(c.a,{disabled:!w,maxLength:255,placeholder:__("请填写邮箱")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("快递地址")},n("detail_address",{initialValue:g.detail_address})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写快递地址")}))))),!v&&u.a.createElement(a.a,{className:d.a.receiptButtons},u.a.createElement(o.a,{span:24},u.a.createElement(r.a,{type:"primary",onClick:function(){return function(){if(!w)return e.setState({btnLoading:!0}),m(e.props,"special"),void e.setState({btnLoading:!1});l((function(t){t?e.setState({btnLoading:!1}):(h(!1),e.setState({editing:!1,btnLoading:!1}))}))}()},loading:E},w?__("下一步"):b||__("确认开票")),u.a.createElement(r.a,{className:d.a.cancelButton,onClick:function(){return function(){if(w)return p(),void s();h(!0),e.setState({editing:!0})}()}},w?__("取消"):__("返回修改")))))}}])&&p(n.prototype,l),s&&p(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,s}(u.a.PureComponent);_.propTypes={handleClickReceiptConfirm:f.a.func.isRequired,handleApplyReceiptCancel:f.a.func.isRequired,handleReceiptChange:f.a.func.isRequired,form:f.a.object.isRequired,data:f.a.object,isFinished:f.a.bool,submitButtonText:f.a.string},t.a=_},823:function(e,t,n){"use strict";n(36);var r=n(8),a=(n(126),n(38)),o=(n(136),n(28)),i=(n(217),n(49)),c=(n(52),n(12)),l=n(0),u=n.n(l),s=n(4),f=n.n(s),d=n(816);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}function y(e,t,n){return t=b(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=y(this,t,[e]);var r=void 0===e.isFinished||!e.isFinished;return n.state={editing:r,btnLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),n=t,(l=[{key:"render",value:function(){var e=this,t=this.props.form,n=t.getFieldDecorator,l=t.validateFields,s=t.resetFields,f=this.props,m=f.handleClickReceiptConfirm,p=f.handleApplyReceiptCancel,h=f.handleReceiptChange,y=f.data,v=f.isFinished,b=f.submitButtonText,g=y||{},_=this.state,w=_.editing,E=_.btnLoading;return u.a.createElement(i.a,{layout:"vertical"},u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("发票抬头")},n("title",{initialValue:g.title,rules:[{required:!0,message:__("请填写发票抬头")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写发票抬头")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("税号(国内企业必填)")},n("tax_no",{initialValue:g.tax_no,rules:[{required:!1,message:__("国际商户可不填开具形式发票, 国内无法计税")},{validator:function(e,t,n){if(t&&t.length>32)return n("不能超过 32 个字符");n()}}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("国际商户可不填开具形式发票, 国内无法计税")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24,className:d.a.contactInfoTitle})),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("收件人")},n("contact_name",{initialValue:g.contact_name,rules:[{required:!0,message:__("请填写收件人姓名")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写收件人姓名")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("收件人电话")},n("contact_telephone",{initialValue:g.contact_telephone,rules:[{required:!0,message:__("请填写收件人电话")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写收件人电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("邮箱")},n("email",{initialValue:g.email||g.detail_address,rules:[{required:!0,type:"email",message:__("请填写正确的邮箱地址")}]})(u.a.createElement(c.a,{disabled:!w,placeholder:__("请填写邮箱")}))))),!v&&u.a.createElement(a.a,{className:d.a.receiptButtons},u.a.createElement(o.a,{span:24},u.a.createElement(r.a,{type:"primary",onClick:function(){return function(){if(!w)return e.setState({btnLoading:!0}),m(e.props),void e.setState({btnLoading:!1});l((function(t){t?e.setState({btnLoading:!1}):(h(!1),e.setState({editing:!1,btnLoading:!1}))}))}()},loading:E},w?__("下一步"):b||__("确认开票")),u.a.createElement(r.a,{className:d.a.cancelButton,onClick:function(){return function(){if(w)return p(),void s();h(!0),e.setState({editing:!0})}()}},w?__("取消"):__("返回修改")))))}}])&&p(n.prototype,l),s&&p(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,s}(u.a.PureComponent);_.propTypes={handleClickReceiptConfirm:f.a.func.isRequired,handleApplyReceiptCancel:f.a.func.isRequired,handleReceiptChange:f.a.func.isRequired,form:f.a.object.isRequired,data:f.a.object,isFinished:f.a.bool,submitButtonText:f.a.string,isOrganization:f.a.bool},t.a=_},83:function(e,t,n){"use strict";n(1391);var r=n(829);n(272);t.a=r.a},903:function(e,t){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},904:function(e,t,n){const r=n(1481),a=n(1482);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return a.testNumeric(e)?t.NUMERIC:a.testAlphanumeric(e)?t.ALPHANUMERIC:a.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},906:function(e,t,n){"use strict";var r=n(207);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,a=t.height,o=t.fill,i=t.format,c=t.quality,l=t.blur;if(e){if(e.startsWith("/r/avatar_buc/"))return e;if(e.startsWith("/__workers/r/avatar_buc/"))return e;if(e.includes(".svg"))return e;if(!e.includes(window.location.host)&&r.a.every((function(t){return!e.includes(t)})))return e;try{var u=new URL(e),s=u.searchParams,f=u.pathname,d=function(e,t){s.get("x-oss-process")?s.set("x-oss-process","".concat(s.get("x-oss-process"),"/").concat(e,",").concat(t)):s.append("x-oss-process","image/".concat(e,",").concat(t))};if(f.endsWith(".gif")&&(n||a)&&!i&&(i="jpeg",c="Q_85"),n||a){var m=[];o&&m.push("m_fill"),n&&m.push("w_".concat(n)),a&&m.push("h_".concat(a)),d("resize",m.join(","))}return i&&d("format",i),c&&d("quality",c),l&&d("blur",l),u.toString()}catch(t){return e}}}},908:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-arrow-down",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"M57.297 102.865c3.834-3.834 10.007-3.904 13.927-.21l.215.21 48.99 48.99c3.834 3.834 10.007 3.904 13.927.209l.215-.21 48.99-48.99c3.905-3.904 10.237-3.904 14.142 0 3.834 3.835 3.904 10.008.21 13.928l-.21.215-48.99 48.99c-11.598 11.599-30.331 11.714-42.073.348l-.353-.348-48.99-48.99c-3.905-3.905-3.905-10.237 0-14.142Z",fill:"currentColor",fillRule:"nonzero"}))},910:function(e,t,n){"use strict";var r=n(97);t.a=r.a},913:function(e,t,n){"use strict";var r=n(2),a=n(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},i=n(14),c=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},l=a.forwardRef(c);t.a=l},97:function(e,t,n){"use strict";var r,a=n(344),o=n.n(a),i=n(20),c=n(88),l=n(283),u=n(404),s=n(69),f=n(141),d=n(48),m=n(47);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var g,_=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(){E=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:A(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==n&&r.call(x,i)&&(_=x);var S=g.prototype=v.prototype=Object.create(_);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==w(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=P(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(w(t)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(N.prototype),u(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function O(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=_,v(_,"getFeatureBelongsPayment",(function(e){var t=m.ORG_PRO_FEATURE[e],n=m.ORG_ENTERPRISE_FEATURE[e];return t?i.PAYMENT_TYPE.pro:n?i.PAYMENT_TYPE.enterprise:i.PAYMENT_TYPE.free})),v(_,"paymentCheck",(function(e,t){switch(r.getFeatureBelongsPayment(e)){case i.PAYMENT_TYPE.pro:return[i.PAYMENT_TYPE.enterprise,i.PAYMENT_TYPE.pro].includes(t);case i.PAYMENT_TYPE.enterprise:return i.PAYMENT_TYPE.enterprise===t;case i.PAYMENT_TYPE.free:default:return!0}}));var j={},N=S(S(S(S(S({},c.STATUS.applying,__("待审批")),c.STATUS.invited,__("待加入")),c.STATUS.imported,__("待加入")),c.STATUS.terminated,__("已离职")),c.STATUS.waiting,__("待处理")),A=S(S(S({},c.ROLE.owner,__("管理员")),c.ROLE.member,__("成员")),c.ROLE.outsourcer,__("外部联系人")),P=S(S(S({},i.PAYMENT_TYPE.free,__("标准版")),i.PAYMENT_TYPE.pro,__("专业版")),i.PAYMENT_TYPE.enterprise,__("旗舰版")),k={free:0,paid:1,welfare:2},T=S(S(S({},k.free,{name:__("免费版"),desc:__("50 人以下，享受基础权益"),testId:"mode-free"}),k.paid,{name:__("付费版"),desc:__("999 元/年/50 人 起"),testId:"mode-pro",help:{text:__("试用到期后可降为免费版继续使用。"),linkText:__("查看详细版本对比"),link:"/about/price#team"}}),k.welfare,{name:__("公益版"),desc:__("支持公益、教育、初创企业"),testId:"mode-welfare",help:{text:__("非营利性公益组织、教育机构及初创企业可申请免费使用付费版权益。"),linkText:__("查看版本介绍"),link:"/about/welfare"}}),C=S(S(S({},i.CERTIFICATION_TYPE.welfare,{name:__("公益组织"),desc:__("从事公益事业的非营利组织")}),i.CERTIFICATION_TYPE.education,{name:__("教育机构"),desc:__("公办或非营利的学校或机构")}),i.CERTIFICATION_TYPE.startup,{name:__("初创企业"),desc:__("创办三年内且小于 100 人")}),L=[{name:__("资质证明"),desc:__("需提供营业执照、事业单位法人证明或其他相关证明材料，支持jpg、jpeg、png、bmp 格式，大小不超过 5MB"),helpList:[{text:__("查看示例"),link:"https://www.yuque.com/yuque/rvzzxz/gf443f#b5fb6957"}]},{name:__("申请公函"),desc:__("申请函红色部分需要填写，签名需手写，支持jpg、jpeg、png、pdf、bmp 格式，大小不超过 5MB"),helpList:[{text:__("下载模板"),link:"https://gw.alipayobjects.com/os/bmw-prod/5e485a34-3b78-4248-9fe4-1d8607cfc53e.docx"},{text:__("查看帮助"),link:"https://www.yuque.com/yuque/rvzzxz/gf443f#b5fb6957"}]}],I=(S(S(S(S(S(S(S(S(S(S(g={},m.INTEREST_CODE.book_statistics,__("知识库统计可以查看知识库内容数据统计和阅读、点赞、评论等访问数据统计。")),m.INTEREST_CODE.book_security,__("知识库安全设置可设置文档水印等安全信息")),m.INTEREST_CODE.thirdpart_address,__("标准版空间不支持钉钉、企业微信通讯录绑定，请及时进行版本升级")),m.INTEREST_CODE.group_department,__("绑定部门后，部门成员访问该团队时将自动成为团队成员。")),m.INTEREST_CODE.organization_statistics,__("可查看贡献榜，查看导出成员和团队明细等空间统计信息。")),m.INTEREST_CODE.group_statistics,__("可查看贡献榜，查看导出成员和团队明细等团队统计信息。")),m.INTEREST_CODE.group_security_logs,__("记录团队内成员变更，内容创建、删除、分享、导出等信息，让行为可查询追溯。")),m.INTEREST_CODE.group_webhook,__("可通过 Webhook 向钉钉群等发送团队动态")),m.INTEREST_CODE.group_handover,__("团队管理员离职后，允许空间管理员接管团队，整理内容。")),m.INTEREST_CODE.open_ocr,__("升级专业版、旗舰版空间可享受识图搜索等功能优先体验权")),S(S(S(S(S(S(S(S(g,m.INTEREST_CODE.organization_security_operation_logs,__("记录空间内成员变更，内容创建、删除、分享、导出等信息，以供查询，升级付费版即可立即使用")),m.INTEREST_CODE.organization_security_visite_logs,__("展示空间最近访问记录，包括到访用户、时间、IP 地址、被访问地址信息，升级付费版即可立即使用")),m.INTEREST_CODE.open_api,__("记录空间内成员变更，内容创建、删除、分享、导出等信息，以供查询，升级付费版即可立即使用")),m.INTEREST_CODE.organization_security_warning,__("安全预警可以帮助管理员及时识别风险。支持高频操作（如导出、删除、分享等）、账号密码泄漏风险等预警设置")),m.INTEREST_CODE.outsourcer,__("外部联系人用于外部合作场景，管理员可将外部客户或合作伙伴添加为外部联系人。")),m.INTEREST_CODE.organization_security_share_logs,__("记录空间中所有分享行为，包括所有正在分享的文档或知识库内容，管理员可作统一管理，关闭不必要的分享")),m.INTEREST_CODE.organization_webhook,__("可通过 Webhook 向钉钉群等发送空间动态")),m.INTEREST_CODE.public_page,__("空间公开页适用于企业对外的帮助手册、更新日志、技术博客等面向互联网公开分享场景。"))),M={free:0,downgrade:1,vip:2,trial:3,expired:4},R=S(S(S({},M.free,{title:__("免费版空间"),guideText:__("试用付费版，享更多专属权益"),controlText:__("试用"),guideLink:"/r/organizations/dashboard/cashier?action=tryout"}),M.vip,{title:__("付费版空间"),guideText:__("续费"),guideLink:"/r/organizations/dashboard/cashier?action=renew"}),M.expired,{title:__("付费版空间"),guideText:__("付费"),guideLink:"/r/organizations/dashboard/cashier?action=renew"}),D="page_dashboard_org_wiki_redirect",z={isOwner:function(e){var t;return null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy},isOutsourcer:function(e){return!!e&&(e.abilities&&!e.abilities.read&&e.abilities.read_home)},isTopLevel:function(e){var t;return null==e||null===(t=e.owner)||void 0===t?void 0:t.isTopLevel},enableAddressbook:function(){if(!window.appData.isYuque)return!0;var e=window.appData.organization,t=void 0===e?{}:e;return!(!t||t.address_book_type!==i.ADDRESS_BOOK_TYPE.yuque)||!!window.appData.corp&&(!!this.isWeixin()||!this.isTeambition())},disableRegistry:function(e){return!!e&&!(!e.id||e.enable_registry)},isWeixin:function(){return window.appData.corp&&"weixin"===window.appData.corp.type},isDingtalk:function(){return window.appData.corp&&"dingtalk"===window.appData.corp.type},isTeambition:function(){return window.appData.corp&&"teambition"===window.appData.corp.type},isYuqueAddressBook:function(){var e=window.appData,t=e.organization,n=void 0===t?{}:t;return e.isYuque&&(null==n?void 0:n.address_book_type)===i.ADDRESS_BOOK_TYPE.yuque},enableContacts:function(){var e=window.appData,t=e.organization,n=void 0===t?{}:t;return e.isYuque&&[i.ADDRESS_BOOK_TYPE.dingtalk,i.ADDRESS_BOOK_TYPE.weixin,i.ADDRESS_BOOK_TYPE.yuque,i.ADDRESS_BOOK_TYPE.custom].includes(n.address_book_type)},isWeixinAddressBook:function(){var e=window.appData,t=e.organization,n=void 0===t?{}:t;return e.isYuque&&i.ADDRESS_BOOK_TYPE.weixin===n.address_book_type},userNameEditable:function(){var e=window.appData,t=e.organization,n=void 0===t?{}:t,r=e.isYuque;return this.isWeixinAddressBook()||this.isYuqueAddressBook()||r&&1!==n.corp_sync_name_enable},isInOrg:function(){var e=window.appData,t=e.organization,n=void 0===t?{}:t;return!(!e.isYuque||null==n||!n.id)},isExpired:function(e){return!!e&&(!z.isFree(e)&&new Date(e.expired_at)<Date.now())},isFree:function(e){return!e||e.payment_type===i.PAYMENT_TYPE.free},isTrial:function(e){return!(!e||z.isFree(e))&&e.trialStatus===u.TRIAL_STATUS.on},isWelfareOrg:function(e){return!z.isExpired(e)&&e.certification_type>i.CERTIFICATION_TYPE.normal},isPremium:function(e){return!!e&&(z.isPaidVersion(e)&&!z.isExpired(e))},isPaidVersion:function(e){var t=e.payment_type;return t===i.PAYMENT_TYPE.enterprise||t===i.PAYMENT_TYPE.pro},isPro:function(e){return!(!e||z.isExpired(e))&&e.payment_type===i.PAYMENT_TYPE.pro},isEnterprise:function(e){return!(!e||z.isExpired(e))&&e.payment_type===i.PAYMENT_TYPE.enterprise},getIconName:function(e){var t="icon-overpaid";return z.isPro(e)&&(t="icon-org-pro"),z.isEnterprise(e)&&(t="icon-org-enterprise"),t},buildOrgPayLink:function(e){var t=e.action,n=e.targetLevel,r=e.paySource,a=new URL("r/organizations/dashboard/cashier",window.location.origin);return t&&a.searchParams.set("action",t),n&&a.searchParams.set("targetLevel",n),r&&a.searchParams.set("paySource",r),a.toString()},canIndirectAddOrgMember:function(e){return x(E().mark((function t(){var n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j[e.id]){t.next=4;break}return t.next=3,d.a.organizations.getPermissions({id:e.id});case 3:j[e.id]=t.sent;case 4:return n=j[e.id],t.abrupt("return",n&&n.indirect_add_org_member);case 6:case"end":return t.stop()}}),t)})))()},getMemberRoleName:function(e){return e===c.ROLE.owner?__("空间管理员"):e===c.ROLE.member?__("空间成员"):e===c.ROLE.outsourcer?__("外部联系人"):""},getPaymentAction:function(e){return i.PAYMENT_TYPE.free===e?__("升级付费版"):__("续费")},getPaymentActionGuide:function(e){return i.PAYMENT_TYPE.free===e?__("立即升级"):__("立即续费")},getPaymentFeatureDesc:function(e){return S(S({},i.PAYMENT_TYPE.pro,__("专业版、旗舰版空间专属功能")),i.PAYMENT_TYPE.enterprise,__("旗舰版空间专属功能"))[z.getFeatureBelongsPayment(e)]},getFeatureBelongsPayment:_.getFeatureBelongsPayment,paymentCheck:_.paymentCheck,getFeatureIntro:function(e){return I[e]},getCorpType:function(e){if(!e)return null;switch(l.TYPE[e.type]){case l.TYPE.dingtalk:case l.TYPE.dingtalk_selfcorp:return{addressBookName:__("钉钉通讯录"),corpName:__("钉钉")};case l.TYPE.teambition:case l.TYPE.aone_teambition:return{addressBookName:__("Teambition"),corpName:__("Teambition")};case l.TYPE.weixin:return{addressBookName:__("企业微信通讯录"),corpName:__("企业微信")};default:return null}},getStatusLabel:function(e){var t=e.status;return N[t]},getPaymentBoardStatus:function(e){var t,n=z.isFree(e),r=z.isExpired(e);if(!n&&r)return M.expired;switch(e.payment_type){case i.PAYMENT_TYPE.free:t=M.free;break;case i.PAYMENT_TYPE.enterprise:t=M.vip;break;default:t=M.free}return t},getInviteUrl:function(){var e=arguments;return x(E().mark((function t(){var n,r,a,o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:{},r=e.length>1&&void 0!==e[1]?e[1]:window.appData.organization,a=window.appData.defaultSpaceHost,o=null,null!=n&&n.token&&(o="".concat(a,"/r/organizations/").concat(r.login,"/join?token=").concat(n.token,"&source=org").concat(n.extraParams?"&extra=".concat(n.extraParams):"")),null==r||!r.id){t.next=10;break}return t.next=8,d.a.organizations.getCurrentCorp();case 8:t.sent&&(o=r.host);case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()},getRule:function(e){var t=z.isPremium(e)?e.payment_type:i.PAYMENT_TYPE.free;return s.MEMBER_RULE.Organization[t]},getRuleSize:function(e,t){var n;return null===(n=z.getRule(e))||void 0===n?void 0:n[t]},getMonthMaxUploadSize:function(e,t){return z.isPremium(e)&&null!=t&&t.max_upload_size_month?null==t?void 0:t.max_upload_size_month:z.getRuleSize(e,s.LIMIT_RULE_CODE.max_resource_month_size)},orgWikiRedirect:{redirectToWiki:function(e,t,n){var r;if(null!=e&&e.id&&null!=t&&t.id&&n){var a="".concat(D,"_").concat(t.id,"_").concat(e.id);!f.a.get(a)&&(o()(e.created_at).isSameOrAfter(new Date("2022-10-12"))||o()(t.created_at).isSameOrAfter(new Date("2022-10-12")))&&null!=t&&null!==(r=t.abilities)&&void 0!==r&&r.read_wiki&&(f.a.set(a,!0),n.push({pathname:"/dashboard/org_wiki",hash:window.location.hash,search:window.location.search}))}},setRedirected:function(e,t){if(null!=e&&e.id&&null!=t&&t.id){var n="".concat(D,"_").concat(t.id,"_").concat(e.id);return f.a.set(n,!0),!0}}},getInterestLimitMsg:function(e,t,n){var r=S(S(S(S(S({},s.LIMIT_RULE_CODE.max_group_number,__("团队数量")),s.LIMIT_RULE_CODE.max_member,__("成员数量")),s.LIMIT_RULE_CODE.max_book_collaborator_number,__("协作人数")),s.LIMIT_RULE_CODE.max_doc_collaborator_number,__("协作人数")),s.LIMIT_RULE_CODE.max_resource_month_size,__("本月上传流量"))[e],a=z.getPayment(t),o=z.getInterestActionText(e,t,n);return __("".concat(r,"已达到").concat(a,"上限，").concat(o,"。"),{desc:r,payment:a,actionText:o})},getPayment:function(e){return z.isExpired(e)?z.PAYMENT_MAP[i.PAYMENT_TYPE.free]:z.PAYMENT_MAP[null==e?void 0:e.payment_type]},getInterestActionText:function(e,t,n){var r,a,o={owner:{upgrade:__("请及时进行版本升级"),renew:__("请及时进行版本续费"),expand:__("请及时增加席位")},member:{upgrade:__("请联系管理员进行版本升级"),renew:__("请联系管理员进行版本续费"),expand:__("请联系管理员增加席位")}},i={owner:{upgrade:__("请及时进行版本升级"),renew:__("请及时进行版本续费"),help:__("请及时联系语雀进行处理")},member:{upgrade:__("请联系管理员进行版本升级"),renew:__("请联系管理员进行版本续费"),help:__("请及时联系语雀进行处理")}},c=null==t||null===(r=t.abilities)||void 0===r?void 0:r.destroy,l=null==n||null===(a=n.owner)||void 0===a?void 0:a.isTopLevel,u=e===s.LIMIT_RULE_CODE.max_member,f=z.isExpired(t),d=z.isPremium(t),m=c?"owner":"member";return u?o[m][f?"renew":d?"expand":"upgrade"]:i[m][f?"renew":l?"help":"upgrade"]},genCreateFromKey:function(e){var t,n,r;if(null!==(t=window.appData)&&void 0!==t&&t.isDesktopApp)return e;var a=null===(n=window.location)||void 0===n||null===(r=n.pathname)||void 0===r?void 0:r.split("/").join("_").substring(0,50);return"_"===a?e:"".concat(e,":").concat(a)},ROLE_MAP:A,PAYMENT_BOARD_STATUS:M,PAYMENT_BOARD_STATUS_MAP:R,CREAT_MODE:k,CREAT_MODE_MAP:T,PAYMENT_MAP:P,CERTIFICATION_TYPE_MAP:C,CERTIFICATION_MATERIAL_LIST:L};t.a=z},979:function(e,t,n){"use strict";var r=n(271);n.d(t,"a",(function(){return r.c}))},980:function(e,t,n){"use strict";n(43);var r=n(10),a=n(0),o=n.n(a),i=n(4),c=n.n(i),l=n(20),u=n(97),s=(n(62),n(31)),f=n(6),d=n.n(f),m=n(155),p=n(69),h=(n(689),n(225)),y=(n(170),n(70)),v=(n(36),n(8)),b=(n(52),n(12)),g=(n(187),n(34)),_=n(15),w=n.n(_),E=n(1258),O=n.n(E),x=n(524),S=n(1030),j=n.n(S),N=n(93),A=n(59),P=n(1252),k=n(48),T=(n(311),n(101)),C="index-module_right_3Ce8Y",L="index-module_detailsWrapper_rnkfa",I="index-module_detailTitle_-gjun",M="index-module_details_E5fEt",R="index-module_detailRow_e7YNK",D="index-module_summary_TYNAM",z="index-module_left_m83qX",B="index-module_summaryTitle_FTeFf",Y="index-module_price_5CyQB",U="index-module_divider_Rppou",F=function(e){var t=e.totalAmount,n=e.discountAmount,r=e.details;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:L},o.a.createElement("div",{className:I},__("费用明细")),o.a.createElement("div",{className:M},(null==r?void 0:r.length)>0&&r.map((function(e){return o.a.createElement("div",{className:R},o.a.createElement("span",null,null==e?void 0:e.label),o.a.createElement("span",null,null==e?void 0:e.price))}))),o.a.createElement(T.a,{className:U}),o.a.createElement("div",{className:D},o.a.createElement("div",{className:z},o.a.createElement("div",{className:B},__("总计")),o.a.createElement("span",{style:{fontSize:"14px"}},__("支持电子发票或专用发票开具"))),o.a.createElement("div",{className:C},o.a.createElement("span",{className:Y},"¥",n||t)))))};F.propTypes={totalAmount:c.a.number,discountAmount:c.a.number,details:c.a.number};var q=F,G=(n(126),n(38)),W=(n(136),n(28)),V=n(404),H=n(910),K={paymentSelector:"index-module_paymentSelector_60wvq",paymentItem:"index-module_paymentItem_86B2e",header:"index-module_header_KM0S4",title:"index-module_title_87CwY",icon:"index-module_icon_sjp+e",paymentType:"index-module_paymentType_rBxoj",price:"index-module_price_n7XGL",priceNumber:"index-module_priceNumber_6EuVJ",priceUnit:"index-module_priceUnit_xqqPQ",oldMemberPrice:"index-module_oldMemberPrice_4QJhr",desc:"index-module_desc_5wzpx",active:"index-module_active_HZTq5",disable:"index-module_disable_+DYkl",tooltip:"index-module_tooltip_lMvUZ"};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}w.a.extend(O.a);var J=Object(x.d)((function(e){return e}))((function(e){var t,n=e.className,r=e.actionType,i=e.paymentType,c=e.onPaymentChange,u=e.organization,s=r===l.PAY_MODAL_ACTION.upgrade,f=r===l.PAY_MODAL_ACTION.trial,m=r===l.PAY_MODAL_ACTION.renew,p=H.a.isExpired(u),h=window.appData.organization.memberPrice,v=(t=H.a.isFree(u)?null:u.payment_type,f?t?[t]:[l.PAYMENT_TYPE.pro,l.PAYMENT_TYPE.enterprise]:s?[l.PAYMENT_TYPE.enterprise]:[l.PAYMENT_TYPE.pro,l.PAYMENT_TYPE.enterprise]),b=X(Object(a.useState)(i),2),g=b[0],_=b[1],E=function(e){var t=Math.max(w()(u.expired_at).diff(Date.now(),"day"),1)<=N.MAX_ORG_ALLOW_DOWNGRADE_DAYS;return e===l.PAYMENT_TYPE.pro&&!t&&m&&H.a.isEnterprise(u)},O=Z(Z(Z(Z({},l.PAY_MODAL_ACTION.trial,__("选择适合你的空间版本")),l.PAY_MODAL_ACTION.buy,__("选择适合你的空间版本")),l.PAY_MODAL_ACTION.upgrade,__("版本升级")),l.PAY_MODAL_ACTION.renew,__("当前为{payment}，{memberCount}人，有效期至 {expiredAt}",{payment:H.a.PAYMENT_MAP[u.payment_type],memberCount:u.max_member,expiredAt:w()(u.expired_at).format("YYYY-MM-DD")}));return o.a.createElement("div",{className:d()(K.paymentSelector,n)},o.a.createElement("h4",null,p?O[l.PAY_MODAL_ACTION.buy]:O[r]),o.a.createElement(G.a,{className:K.paymentList,gutter:[8,0]},v.map((function(e,t){var n=N.ORG_AMOUNT_MAP[e],r=E(e),a=(null==u?void 0:u.trialStatus)===V.TRIAL_STATUS.on,i=H.a.isPremium(u),s=e===l.PAYMENT_TYPE.enterprise&&i&&!a?h:0,f=o.a.createElement("div",{className:d()(K.paymentItem,Z({},K.active,e===g),Z({},K.disable,r)),onClick:function(){return function(e){E(e)||(_(e),null==c||c(e))}(e)}},o.a.createElement("div",{className:K.header},o.a.createElement("div",{className:K.title},o.a.createElement(A.b,{name:n.icon,size:18}),o.a.createElement("span",{className:K.paymentType},H.a.PAYMENT_MAP[e])),o.a.createElement("div",{className:K.price},o.a.createElement("span",{className:K.priceNumber},"¥",s>0?s:n.price),o.a.createElement("span",{className:K.priceUnit},__("/人/年")))),s>0&&o.a.createElement("span",{className:K.oldMemberPrice},n.price,__("/人/年")));return o.a.createElement(W.a,{span:24/v.length,key:t},r?o.a.createElement(y.a,{title:o.a.createElement("div",{className:K.tooltip},o.a.createElement("span",null,__("旗舰版到期前 30 天开放选择")),o.a.createElement("a",{href:"https://www.yuque.com/yuque/ng1qth/member-privilege#p5KMh"},__("查看帮助"))),overlayInnerStyle:{display:"inline-block"}},f):f)}))))})),ee={row:"BuyModal-module_row_k9bGD",left:"BuyModal-module_left_U5aM7",right:"BuyModal-module_right_-+dqF",payModal:"BuyModal-module_payModal_RkJau",channel:"BuyModal-module_channel_aD1hq",payBtn:"BuyModal-module_payBtn_JujzZ",promoCode:"BuyModal-module_promoCode_IT7ha",tips:"BuyModal-module_tips_fuHYC",pricingContainer:"BuyModal-module_pricingContainer_tqVEA",pro:"BuyModal-module_pro_J6mfJ",enterprise:"BuyModal-module_enterprise_KQPTt",pricingLeft:"BuyModal-module_pricingLeft_X4ns6",payment:"BuyModal-module_payment_jheFG",icon:"BuyModal-module_icon_UPf-t",paymentDesc:"BuyModal-module_paymentDesc_7e1Uv",paymentCaption:"BuyModal-module_paymentCaption_sAndL",benefitItem:"BuyModal-module_benefitItem_4iuZe",iconWarpper:"BuyModal-module_iconWarpper_j2vhb",title:"BuyModal-module_title_aoygt",desc:"BuyModal-module_desc_nWmKR",pricingRight:"BuyModal-module_pricingRight_p54lJ",avatar:"BuyModal-module_avatar_SRhTt",termsContainer:"BuyModal-module_termsContainer_i187T",statsWrapper:"BuyModal-module_statsWrapper_ZDvF1",statsDesc:"BuyModal-module_statsDesc_1iKOA",compact:"BuyModal-module_compact_qVAW5",active:"BuyModal-module_active_SC0g+",settle:"BuyModal-module_settle_6sm-p",name:"BuyModal-module_name_bL3Ia",memberSizeInput:"BuyModal-module_memberSizeInput_xIYHO",errorMsg:"BuyModal-module_errorMsg_ZbqFE",footer:"BuyModal-module_footer_eF3uw"};function te(){return o.a.createElement("span",null,__("正在准备账户信息，请5分钟后再尝试，如一直未成功，请"),o.a.createElement("a",{href:"/feedbacks/new",target:"_blank"},__("联系语雀")),__("进行处理。"))}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ne(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ne(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function oe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oe(o,r,a,i,c,"next",e)}function c(e){oe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}w.a.extend(O.a);var ue=g.a.Option,se=function(e){var t,n,i,c=e.targetLevel,s=e.actionType,f=e.buyLoading,m=e.handleSubmitBuy,_=e.subAccountInfo,E=e.organization,O=e.paySource,x=s===l.PAY_MODAL_ACTION.upgrade,S=s===l.PAY_MODAL_ACTION.trial,T=u.a.isExpired(E),C=window.appData.interest.usage.member_count,L=function(e,t){var n=window.appData.organization,r=l.PAYMENT_TYPE.pro,a=0;return e===l.PAY_MODAL_ACTION.buy&&(r=t||(n.payment_type===l.PAYMENT_TYPE.free?l.PAYMENT_TYPE.pro:n.payment_type),a=window.appData.interest.usage.member_count),e===l.PAY_MODAL_ACTION.upgrade&&(r=l.PAYMENT_TYPE.enterprise,a=n.max_member),e===l.PAY_MODAL_ACTION.renew&&(r=n.payment_type,a=n.max_member),e===l.PAY_MODAL_ACTION.trial&&(r=(u.a.isFree(n)?null:n.payment_type)||l.PAYMENT_TYPE.pro),{initOrgPayment:r,initMemberSize:a}}(s,c),I=L.initOrgPayment,M=L.initMemberSize,R=ce(Object(a.useState)(I),2),D=R[0],z=R[1],B=ce(Object(a.useState)(N.PAYMENT_TYPE.normal),2),Y=B[0],U=B[1],F=ce(Object(a.useState)(M),2),G=F[0],W=F[1],V=ce(Object(a.useState)(M),2),H=V[0],K=V[1],Q=ce(Object(a.useState)(!1),2),Z=Q[0],X=Q[1],$=ce(Object(a.useState)(1),2),ne=$[0],oe=$[1],le=(t=E.expired_at,n=w()(t).diff(Date.now(),"day")||1,i=t&&n>=0?t:w()().endOf("day"),w()(i).add(ne,"year")),se=ce(Object(a.useState)(),2),fe=se[0],de=se[1],me=ce(Object(a.useState)(),2),pe=me[0],he=me[1],ye=ce(Object(a.useState)(),2),ve=ye[0],be=ye[1],ge=ce(Object(a.useState)(!1),2),_e=ge[0],we=ge[1],Ee=Object(a.useRef)(null),Oe=function(){_e?Z||m({memberSize:G,duration:ne,promoCode:pe,paymentType:Y,packageType:D,orderType:T?l.PAY_MODAL_ACTION.buy:s}):r.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},xe=function(){var e=ie(ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e){e.next=3;break}return r.a.info(__("需阅读并同意《语雀空间服务协议》后才能试用")),e.abrupt("return");case 3:if(!Z){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,k.a.organizations.trial({id:E.id,trial_type:D},{ignoreGlobalMessage:!0});case 8:e.sent&&(window.location.search=""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r.a.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Se=function(e){U(e)},je=function(e){var t="",n=e.target.value;if(!n)return W("");if(/^[0-9]*$/g.test(n)){var r=Math.max(w()(E.expired_at).diff(Date.now(),"day"),1)<=N.MAX_ORG_ALLOW_DOWNGRADE_DAYS;n<C&&(t="购买人数应大于等于空间人数"),u.a.isEnterprise(E)&&!r&&n<E.max_member&&(t="旗舰版到期前 30 天可降级人数"),X(t||null),W(Math.min(n,l.MAX_MEMBER_LIMIT)),t||K(Math.min(n,l.MAX_MEMBER_LIMIT))}},Ne=Object(a.useCallback)(j()(function(){var e=ie(ae().mark((function e(t){var n,a,o,i,c,l,u;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.actionType,a=t.orderPayment,o=t.orgPayment,i=t.duration,c=t.memberSize,l=t.validPromoCode,!(S||c<=0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,k.a.pay.amount({order_type:n,payment_type:a,package_type:o,duration:i,member_size:c,promo_code:l});case 6:u=e.sent,be(u),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r.a.warn(__("加载失败"));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),500),[]);Object(a.useEffect)((function(){Ne({actionType:s,orderPayment:Y,orgPayment:D,duration:ne,memberSize:H,validPromoCode:pe})}),[D,Y,H,ne,pe]),Object(a.useEffect)((function(){Ne({actionType:s,orderPayment:Y,orgPayment:D,duration:ne,memberSize:H,validPromoCode:pe})}),[]);var Ae,Pe,ke;return o.a.createElement("div",{className:d()(ee.pricingContainer,ee.payModal,re(re({},ee.pro,D===l.PAYMENT_TYPE.pro),ee.enterprise,D===l.PAYMENT_TYPE.enterprise)),"data-testid":"renew-package",ref:Ee},o.a.createElement("div",{className:ee.pricingLeft},(Ae=D,Pe=N.ORG_AMOUNT_MAP[Ae],ke=u.a.PAYMENT_MAP[Ae],o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:ee.payment},ke,__("空间"),o.a.createElement(A.b,{name:null==Pe?void 0:Pe.icon,className:ee.icon,size:28})),o.a.createElement("div",{className:ee.paymentDesc},Pe.desc),o.a.createElement("a",{className:ee.paymentCaption,href:"https://www.yuque.com/about/price",target:"_blank"},__("查看完整权益介绍"),o.a.createElement(A.b,{name:"arrow-right",size:16,className:ee.icon})),o.a.createElement("ul",{className:ee.benefitList},Pe.introList.map((function(e,t){return o.a.createElement("li",{className:ee.benefitItem,key:null==e?void 0:e.title},o.a.createElement("div",{className:ee.iconWarpper},o.a.createElement(A.b,{className:ee.icon,name:null==e?void 0:e.icon,size:24})),o.a.createElement("h4",{className:ee.title},null==e?void 0:e.title),o.a.createElement("p",{className:ee.desc},null==e?void 0:e.desc))})))))),o.a.createElement("div",{className:ee.pricingRight},o.a.createElement(J,{actionType:s,paymentType:D,onPaymentChange:function(e){return z(e)}}),o.a.createElement("div",{className:ee.row,style:{alignItems:"flex-start"}},x?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ee.left},o.a.createElement("div",null,__("空间人数"))),o.a.createElement("div",{className:ee.right},o.a.createElement("div",null,__("{memberSize} 人",{memberSize:E.max_member})))):S?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ee.left},o.a.createElement("div",null,__("试用人数")),o.a.createElement("p",{className:ee.tips},__("当前空间 {memberSize} 人",{memberSize:C}))),o.a.createElement("div",{className:ee.right},o.a.createElement("div",null,__("{memberSize} 人",{memberSize:u.a.isFree(E)?l.TRAIL_MAX_MEMBER:E.max_member})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ee.left},o.a.createElement("div",null,o.a.createElement("div",null,__("购买人数")),o.a.createElement("p",{className:ee.tips},__("当前空间席位 {memberSize} 人",{memberSize:E.maxMember})))),o.a.createElement("div",{className:ee.right},o.a.createElement("div",{className:ee.memberSizeInput},o.a.createElement(b.a,{value:G,onChange:je,style:{width:100},suffix:__("人")}),Z&&o.a.createElement("div",{className:ee.errorMsg},Z))))),S&&o.a.createElement("div",{className:ee.row,style:{alignItems:"flex-start"}},o.a.createElement("div",{className:ee.left},__("试用期限")),o.a.createElement("div",{className:ee.right},__("可使用至 {date}",{date:w()().add(l.TRIAL_DAYS,"day").format("YYYY-MM-DD")}))),!S&&!x&&o.a.createElement("div",{className:ee.row},o.a.createElement("div",{className:ee.left},__("购买时长"),o.a.createElement("p",{className:ee.tips},__("可使用至")," ",le.format("YYYY-MM-DD"))),o.a.createElement("div",{className:ee.right},o.a.createElement("div",{className:ee.inputNumber},o.a.createElement(g.a,{className:ee.select,defaultValue:1,value:ne,onChange:function(e){return oe(e)},style:{width:100}},[1,2,3].map((function(e){return o.a.createElement(ue,{value:e,key:e},e,__("年"))})))))),!S&&o.a.createElement("div",{className:ee.row},o.a.createElement("div",{className:ee.left},__("支付方式")),o.a.createElement("div",{className:ee.right},o.a.createElement(v.a,{className:d()(ee.channel,re({},ee.active,Y===N.PAYMENT_TYPE.normal)),onClick:function(){return Se(N.PAYMENT_TYPE.normal)},icon:o.a.createElement(A.b,{name:"icon-zhi",size:16})},__("支付宝")),_?o.a.createElement(v.a,{className:d()(ee.channel,ee.settle,re({},ee.active,Y===N.PAYMENT_TYPE.settle)),onClick:function(){return Se(N.PAYMENT_TYPE.settle)},icon:o.a.createElement(A.b,{name:"icon-bank",size:16})},__("银行转账")):o.a.createElement(y.a,{title:o.a.createElement(te,null),placement:"top"},o.a.createElement(v.a,{className:d()(ee.channel,ee.settle),icon:o.a.createElement(A.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),!S&&!x&&o.a.createElement("div",{className:ee.row},o.a.createElement("div",{className:ee.left},__("优惠码#upper")),o.a.createElement("div",{className:ee.right},o.a.createElement("div",{style:{width:172},className:ee.promoCode},o.a.createElement(P.a,{value:fe,orderType:s,packageType:D,promoUsage:"organization",onChange:function(e){return de(e)},onVerifySuccess:function(e){return he(null==e?void 0:e.code)}})))),!S&&ve&&o.a.createElement(q,{totalAmount:ve.totalAmount,discountAmount:ve.discountAmount,details:ve.details}),o.a.createElement("div",{className:ee.footer},S?o.a.createElement(v.a,{"data-testid":"buy-button",type:"primary",onClick:xe,className:ee.payBtn},__("免费试用 15 天")):o.a.createElement(v.a,{"data-aspm-click":p.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(O,"^org_id=").concat(null==E?void 0:E.id,"^org_payment_type=").concat(null==E?void 0:E.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:f,onClick:Oe,className:ee.payBtn},f?__("购买中"):__("确认购买")),o.a.createElement("p",{className:ee.termsContainer},o.a.createElement(h.a,{onChange:function(){return we(!_e)},checked:_e,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》"))))))};se.propTypes={actionType:c.a.number,buyLoading:c.a.bool,handleSubmitBuy:c.a.func,max_member:c.a.number,subAccountInfo:c.a.object,targetLevel:c.a.oneOf([l.PAYMENT_TYPE.pro,l.PAYMENT_TYPE.enterprise]),organization:c.a.object,paySource:c.a.string};var fe=Object(x.d)((function(e){return e}))(se),de={row:"BuyMember-module_row_9srYf",left:"BuyMember-module_left_kE3og",right:"BuyMember-module_right_Oni7O",payModal:"BuyMember-module_payModal_ID058",channel:"BuyMember-module_channel_oCioT",payBtn:"BuyMember-module_payBtn_2QBqR",promoCode:"BuyMember-module_promoCode_3q8my",tips:"BuyMember-module_tips_0MaeW",pricingContainer:"BuyMember-module_pricingContainer_oSImw",expiredDesc:"BuyMember-module_expiredDesc_kyKaA",active:"BuyMember-module_active_hyrgK"};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(){he=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new k(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function b(){}function g(){}var _={};u(_,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==n&&r.call(E,i)&&(_=E);var O=g.prototype=v.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==me(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function j(t,n,r){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var l=N(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(me(t)+" is not iterable")}return b.prototype=g,a(O,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ye(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ge=function(e){var t,n=e.buyLoading,i=e.handleSubmitBuy,c=e.subAccountInfo,s=e.organization,f=e.paySource,m=l.ORDER_TYPE.buyMember,g=ve(Object(a.useState)(!1),2),_=g[0],E=g[1],O=ve(Object(a.useState)(1),2),x=O[0],S=O[1],j=Object(a.useRef)(null),P=ve(Object(a.useState)(N.PAYMENT_TYPE.normal),2),T=P[0],C=P[1],L=ve(Object(a.useState)(),2),I=L[0],M=L[1],R=(null==s?void 0:s.max_member)+Number(x),D=function(){var e,t=(e=he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,k.a.pay.amount({order_type:m,payment_type:T,package_type:s.payment_type,member_size:R});case 5:t=e.sent,M(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r.a.warn(__("加载失败"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ye(o,r,a,i,c,"next",e)}function c(e){ye(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[x]),Object(a.useEffect)((function(){D()}),[]),o.a.createElement("div",{className:d()(de.pricingContainer,de.payModal),"data-testid":"buy-member-modal",ref:j},o.a.createElement("h2",null,__("人数扩容")),o.a.createElement("p",{className:de.expiredDesc},__("扩容后有效期至：{date}",{date:w()(null==s?void 0:s.expired_at).format("YYYY-MM-DD")})),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},__("当前版本")),o.a.createElement("div",{className:de.right},null===(t=u.a.PAYMENT_MAP)||void 0===t?void 0:t[null==s?void 0:s.payment_type])),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},o.a.createElement("div",null,o.a.createElement("div",null,__("增购人数")),o.a.createElement("p",{className:de.tips},__("已购空间席位 {memberSize} 人，购买后共 {newMemberSize} 人",{memberSize:s.maxMember,newMemberSize:R})))),o.a.createElement("div",{className:de.right},o.a.createElement("div",{className:de.memberSizeInput},o.a.createElement(b.a,{value:x,onChange:function(e){var t=e.target.value;if(!t)return S("");!/^[0-9]*$/g.test(t)||t<0||S(Math.min(t,l.MAX_MEMBER_LIMIT))},style:{width:100},suffix:__("人")})))),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},__("支付方式")),o.a.createElement("div",{className:de.right},o.a.createElement(v.a,{className:d()(de.channel,pe({},de.active,T===N.PAYMENT_TYPE.normal)),onClick:function(){return C(N.PAYMENT_TYPE.normal)},icon:o.a.createElement(A.b,{name:"icon-zhi",size:16})},__("支付宝")),c?o.a.createElement(v.a,{className:d()(de.channel,pe({},de.active,T===N.PAYMENT_TYPE.settle)),style:{marginLeft:"12px"},onClick:function(){return C(N.PAYMENT_TYPE.settle)},icon:o.a.createElement(A.b,{name:"icon-bank",size:16})},__("银行转账")):o.a.createElement(y.a,{title:o.a.createElement(te,null),placement:"top"},o.a.createElement(v.a,{className:de.channel,icon:o.a.createElement(A.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),I&&o.a.createElement(q,{totalAmount:I.totalAmount,discountAmount:I.discountAmount,details:I.details}),o.a.createElement("div",{className:de.footer},o.a.createElement(v.a,{"data-aspm-click":p.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(f,"^org_id=").concat(null==s?void 0:s.id,"^org_payment_type=").concat(null==s?void 0:s.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:n,onClick:function(){_?x<=0||i({memberIntrement:x,paymentType:T,orderType:m}):r.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},className:de.payBtn},n?__("购买中"):__("确认升级")),o.a.createElement("p",{className:de.termsContainer},o.a.createElement(h.a,{onChange:function(){E(!_)},checked:_,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》")))))};ge.propTypes={buyLoading:c.a.bool,handleSubmitBuy:c.a.func,subAccountInfo:c.a.object,organization:c.a.object,paySource:c.a.string};var _e=Object(x.d)((function(e){return e}))(ge),we=(n(175),n(40)),Ee=n(1520),Oe=n.n(Ee),xe=n(1489),Se="Pay-module_left_u3-Jq",je="Pay-module_totalInfo_YM7Fb",Ne="Pay-module_footer_MsuSK",Ae="Pay-module_termsContainer_MMlAf",Pe="Pay-module_pricingContainer_hjkUd",ke="Pay-module_desc_a1fXI",Te="Pay-module_dashline_y-S0k",Ce="Pay-module_inputNumber_Uaz26",Le="Pay-module_priceTag_ot6Kz",Ie="Pay-module_hasDiscount_KLNoP",Me="Pay-module_discountPrice_HbCLz",Re="Pay-module_discountPriceValue_CUsg2",De="Pay-module_uploadPackages_VO59r",ze="Pay-module_uploadPackageCard_6UXsL",Be="Pay-module_selectedUploadCard_yWd2Y",Ye="Pay-module_uploadSize_WpwBc",Ue="Pay-module_uploadPackagePrice_zQPrm",Fe="Pay-module_promo_sD6ap";function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var We=function(e){var t=e.buyLoading,n=e.handleSubmitBuy,i=e.promoCode,c=e.setPromoCode,u=e.handlePaymentTypeChange,s=e.subAccountInfo,f=qe(Object(a.useState)(!1),2),d=f[0],m=f[1],p=qe(Object(a.useState)(!1),2),b=p[0],g=p[1],_=qe(Object(a.useState)(N.ORG_UPLOAD_SIZE_MAP["100G"].value),2),w=_[0],E=_[1],O=Oe()({order_type:l.ORDER_TYPE.data,upload_size:w}),x=Object(xe.a)({totalAmount:O,setPromoCode:c}),S=x.totalAmountWithPromo,j=x.onVerifySuccess,k=x.handlePromoChange,T=window.appData.organization,C=void 0===T?{}:T;return o.a.createElement("div",{className:Pe,"data-testid":"buy-upload"},o.a.createElement("div",{className:ke},__("流量购买后对{orgName}空间账户长期有效",{orgName:C.name})),o.a.createElement("h3",null,__("流量包")),o.a.createElement("div",{className:De},Object.keys(N.ORG_UPLOAD_SIZE_MAP).map((function(e){return o.a.createElement("div",{key:N.ORG_UPLOAD_SIZE_MAP[e].value,className:"".concat(ze," ").concat(w===N.ORG_UPLOAD_SIZE_MAP[e].value?Be:""),onClick:function(){return E(N.ORG_UPLOAD_SIZE_MAP[e].value)}},o.a.createElement("div",{className:Ye},e),o.a.createElement("div",{className:Ue},N.ORG_UPLOAD_SIZE_MAP[e].price," ",__("元")))}))),o.a.createElement("h3",null,__("支付方式")),o.a.createElement(we.a.Group,{defaultValue:N.PAYMENT_TYPE.normal,onChange:function(e){return u(e.target.value)},style:{marginTop:8}},o.a.createElement(we.a.Button,{value:N.PAYMENT_TYPE.normal},__("支付宝")),s?o.a.createElement(we.a.Button,{value:N.PAYMENT_TYPE.settle},__("银行转账")):o.a.createElement(y.a,{title:o.a.createElement(te,null),placement:"top"},o.a.createElement(we.a.Button,{value:N.PAYMENT_TYPE.settle,disabled:!0},__("银行转账")))),o.a.createElement("div",{className:Fe,style:{marginTop:24}},o.a.createElement("div",{className:Se,onClick:function(){m(!d)}},o.a.createElement(A.b,{name:"promo",width:18})," ",__("优惠码")),d&&o.a.createElement("div",{style:{width:240},className:Ce},o.a.createElement(P.a,{value:i,promoUsage:"organization",onChange:k,onVerifySuccess:j}))),o.a.createElement("p",{className:Te}),o.a.createElement("h3",null,__("费用总计"),"："),o.a.createElement("div",{className:je},o.a.createElement("span",{className:"".concat(Le," ").concat(S?Ie:"")},O)," ",__("元"),S&&o.a.createElement("span",{className:Me},__("优惠价")," ",o.a.createElement("span",{className:Re},S||O)," ",__("元"))),o.a.createElement("div",{className:Ne},o.a.createElement(v.a,{"data-testid":"buy-button",type:"primary",loading:t,onClick:function(){b?n({uploadSize:w,total_amount:O}):r.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))}},t?__("购买中"):__("立即支付")),o.a.createElement("p",{className:Ae},o.a.createElement(h.a,{onChange:function(){g(!b)},checked:b,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},"《语雀空间服务协议》"))))};We.propTypes={buyLoading:c.a.bool,handleSubmitBuy:c.a.func,promoCode:c.a.string,setPromoCode:c.a.func,handlePaymentTypeChange:c.a.func,subAccountInfo:c.a.object};var Ve=We,He="Qrcode-module_qrcodeImageCon_yy+Gi",Ke="Qrcode-module_alipayIconInQrCode_5Ng19",Qe="Qrcode-module_qrcodeContainer_c79eX",Ze="Qrcode-module_qrcodeImage_UEIyZ",Xe="Qrcode-module_desc1_ArZR9",$e="Qrcode-module_desc2_E5sDl",Je="Qrcode-module_qrcodeTitleCon_-LJr2",et="Qrcode-module_qrcodeTitleDesc_OOQby",tt="Qrcode-module_qrcodeTitleValue_PBwE+",nt=function(e){var t=e.qrcodeUrl,n=e.totalAmount;return o.a.createElement("div",{className:Qe,"data-testid":"qrcode"},o.a.createElement("div",{className:Je},o.a.createElement("div",{className:et},__("扫一扫付款 (元)")),o.a.createElement("div",{className:tt},n)),o.a.createElement("div",{className:He},o.a.createElement("div",{className:Ke},o.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*GE2FQLYZ4kAAAAAAAAAAAABjARQnAQ"})),o.a.createElement("img",{className:Ze,src:t})),o.a.createElement("div",{className:Xe},__("打开手机支付宝，扫一扫继续付款")),o.a.createElement("div",{className:$e},__("付款后可在线申请发票")))};nt.propTypes={qrcodeUrl:c.a.string,totalAmount:c.a.number};var rt=nt,at="PayModal-module_noLineModal_r4djn",ot="PayModal-module_payModal_1VmRL",it="PayModal-module_largeModal_reIw0";function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ct(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st,ft=function(e){var t=e.type,n=e.targetLevel,r=e.qrcodeUrl,i=e.visible,c=e.onCancel,u=e.buyLoading,f=e.memberSize,h=e.max_member,y=e.handleMemberChange,v=e.handleSubmitBuy,b=e.handleSelectPackage,g=e.duration,_=e.handleDurationChange,w=e.remaining,E=e.totalAmount,O=e.organizationInfo,x=void 0===O?{}:O,S=e.promoCode,j=e.setPromoCode,N=e.currentMember,A=e.subAccountInfo,P=e.paySource,k=null,T=[l.PAY_MODAL_ACTION.upgrade,l.PAY_MODAL_ACTION.renew,l.PAY_MODAL_ACTION.trial,l.PAY_MODAL_ACTION.buy].includes(t);switch(t){case"qrcode":k=o.a.createElement(rt,{qrcodeUrl:r,totalAmount:E});break;case l.PAY_MODAL_ACTION.buy:case l.PAY_MODAL_ACTION.upgrade:case l.PAY_MODAL_ACTION.renew:case l.PAY_MODAL_ACTION.trial:k=o.a.createElement(fe,{actionType:t,targetLevel:n,handleSelectPackage:b,remaining:w,max_member:h,memberSize:f,handleMemberChange:y,duration:g,handleDurationChange:_,buyLoading:u,handleSubmitBuy:v,organizationInfo:x,promoCode:S,setPromoCode:j,currentMember:N,subAccountInfo:A,paySource:P});break;case l.PAY_MODAL_ACTION.buyMember:k=o.a.createElement(_e,{max_member:h,memberSize:f,handleMemberChange:y,buyLoading:u,handleSubmitBuy:v,organizationInfo:x,promoCode:S,setPromoCode:j,currentMember:N,subAccountInfo:A,paySource:P});break;case l.PAY_MODAL_ACTION.data:k=o.a.createElement(Ve,{buyLoading:u,handleSubmitBuy:v,promoCode:S,setPromoCode:j,subAccountInfo:A})}var C=[l.PAY_MODAL_ACTION.renew,l.PAY_MODAL_ACTION.buyMember].includes(t)?"":at,L=ut(ut(ut(ut(ut({},l.PAY_MODAL_ACTION.upgrade,860),l.PAY_MODAL_ACTION.renew,860),l.PAY_MODAL_ACTION.trial,860),l.PAY_MODAL_ACTION.buy,860),l.PAY_MODAL_ACTION.buyMember,420);return Object(a.useEffect)((function(){var e=[l.PAY_MODAL_ACTION.trial].includes(t);if(i&&e)Object(m.spmClick)(p.ORG_LIMIT_SPM.start_trial,{pay_source:P,org_id:x.id,org_payment_type:x.payment_type});else{var n=[l.PAY_MODAL_ACTION.buy,l.PAY_MODAL_ACTION.renew,l.PAY_MODAL_ACTION.upgrade,l.PAY_MODAL_ACTION.buyMember].includes(t);i&&n&&Object(m.spmClick)(p.ORG_LIMIT_SPM.start_pay,{pay_source:P,order_type:t,org_id:x.id,org_payment_type:x.payment_type,org_trial_status:x.trialStatus})}}),[]),o.a.createElement(s.a,{visible:i,maskClosable:!1,onCancel:c,footer:null,width:L[t]||560,centered:!0,className:d()(C,ot,ut({},it,T))},o.a.createElement("div",{"data-testid":"pay-modal"},k))};ft.propTypes={type:c.a.oneOf(["qrcode"].concat((st=Object.values(l.PAY_MODAL_ACTION),function(e){if(Array.isArray(e))return lt(e)}(st)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(st)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}(st)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),visible:c.a.bool,qrcodeUrl:c.a.string,onCancel:c.a.func,buyLoading:c.a.bool,memberSize:c.a.number,max_member:c.a.number,handleMemberChange:c.a.func,handleSubmitBuy:c.a.func,handleSelectPackage:c.a.func,duration:c.a.number,handleDurationChange:c.a.func,remaining:c.a.number,totalAmount:c.a.number,organizationInfo:c.a.object,promoCode:c.a.string,setPromoCode:c.a.func,handlePaymentTypeChange:c.a.func,currentMember:c.a.number,subAccountInfo:c.a.object,paySource:c.a.string};var dt=ft,mt="ProcessingModal-module_processContainer_dOZ9t",pt="ProcessingModal-module_processImg_Fl+7o",ht="ProcessingModal-module_processInfo_VPh0u",yt=function(e){var t=e.visible;return o.a.createElement(s.a,{title:null,visible:t,maskClosable:!1,closable:!1,footer:null,centered:!0,width:480},o.a.createElement("div",{className:mt,"data-testid":"processing-modal"},o.a.createElement("img",{className:pt,src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*7q7fR4_EUQQAAAAAAAAAAABjARQnAQ"}),o.a.createElement("p",{className:ht},__("付费更新中，请稍后..."))))};yt.propTypes={visible:c.a.bool};var vt=yt,bt=n(341),gt=n(308),_t="PaidSuccessModal-module_successModalContainer_gb6Iw",wt="PaidSuccessModal-module_successModalInfoCon_aLoy0",Et="PaidSuccessModal-module_successModalButtonCon_BP8Ns",Ot="PaidSuccessModal-module_applyReceiptButton_BrptN",xt="PaidSuccessModal-module_checkUploadButton_n0Sct",St="PaidSuccessModal-module_successModalSubTitle_Hq8oy",jt="PaidSuccessModal-module_successModalItem_EBnTl",Nt="PaidSuccessModal-module_successModalBlank_3ENdm",At=function(e){var t,n=e.organizationInfo,r=void 0===n?{}:n,a=e.visible,i=e.onClose,c=e.onClickApplyReceipt,f=window.appData.me,d=r.name,m=r.expired_at,p=r.order_id,h=r.order_type,y=r.package_type,b=r.duration,g=r.upload_size,_=r.max_member,E=r.member_increment,O=r.amount,x=r.order_updated_at,S="",j="",N="",A=!1,P=!1,k=!1,T=!1,C="",L="";switch(h){case l.ORDER_TYPE.buy:S=__(__("恭喜你，语雀空间成功升级为{payment}",{payment:u.a.PAYMENT_MAP[y]})),j=__("套餐"),N=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[y],max_member:_}),A=!0,P=!0,k=!1,C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",L="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case l.ORDER_TYPE.renew:S=__("恭喜你，语雀空间{action}成功",{action:u.a.getPaymentAction(null===(t=window.appData.organization)||void 0===t?void 0:t.payment_type)}),j=__("套餐"),N=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[y],max_member:_}),A=!0,P=!0,k=!1,C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",L="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case l.ORDER_TYPE.upgrade:S=__("恭喜你，语雀空间升级成功"),j=__("套餐"),N=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[y],max_member:_}),A=!0,P=!1,k=!1,C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",L="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case l.ORDER_TYPE.buyMember:S=__("恭喜你，空间人数规模升级成功"),k=!1,T=!0,C="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",L="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case l.ORDER_TYPE.data:S=__("恭喜你，上传流量购买成功"),j=__("上传流量"),N="".concat(Object(gt.getSizeValue)(g).value).concat(Object(gt.getSizeValue)(g).unit),C="https://gw.alipayobjects.com/zos/basement_prod/39563d69-6bdd-4ee3-8844-0f549452d13f.svg"}return o.a.createElement(s.a,{className:"paid-success-modal",title:null,visible:a,maskClosable:!1,onCancel:i,footer:null,centered:!0,width:480},o.a.createElement("div",{className:_t,"data-testid":"paid-success-modal"},o.a.createElement(bt.a,{src:C,darkSrc:L}),o.a.createElement("div",{className:wt},o.a.createElement("h1",{style:{fontSize:"18px"}},S),o.a.createElement("p",{className:Nt}),o.a.createElement("p",{className:St},__("订单信息")),o.a.createElement("p",{className:jt},__("空间名称"),"：",d),o.a.createElement("p",{className:jt},__("订单号"),"：",p),j&&o.a.createElement("p",{className:jt},j,"：",N),P&&o.a.createElement("p",{className:jt},__("购买时长"),"：",b," ",__("年")),k&&o.a.createElement("p",{className:jt},__("人数规模"),"：",__("{max_member}人",{max_member:_})),T&&o.a.createElement("p",{className:jt},__("增购人数"),"：",__("{member_increment} 人",{member_increment:E})),o.a.createElement("p",{className:jt},__("付款金额"),"：",O," ",__("元")),o.a.createElement("p",{className:jt},__("付款人"),"：",f&&f.name),o.a.createElement("p",{className:jt},__("付款时间"),"：",w()(x).format("YYYY-MM-DD HH:mm:ss")),A&&o.a.createElement("p",{className:jt},__("到期时间"),"：",w()(m).format("YYYY-MM-DD HH:mm:ss")),o.a.createElement("div",{className:Et},o.a.createElement(v.a,{type:"primary",onClick:i,"data-testid":"close-button"},__("立即使用")),o.a.createElement(v.a,{className:Ot,onClick:function(){return c()}},__("申请开票")),h===l.ORDER_TYPE.data&&o.a.createElement(v.a,{className:xt,href:"/r/organizations/dashboard/cashier"},__("查看上传流量"))))))};At.propTypes={organizationInfo:c.a.object.isRequired,visible:c.a.bool,onClose:c.a.func,onClickApplyReceipt:c.a.func};var Pt=At,kt=(n(217),n(49)),Tt=n(823),Ct=n(822),Lt={contactTips:"ReceiptModal-module_contactTips_f0fAJ",receiptTypeTitle:"ReceiptModal-module_receiptTypeTitle_mZi8G",receiptTypeTitleText:"ReceiptModal-module_receiptTypeTitleText_QQBhY",receiptDesc:"ReceiptModal-module_receiptDesc_fY2bw"};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=It(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==It(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yt=kt.a.create()(Tt.a),Ut=kt.a.create()(Ct.a),Ft=function(e){var t=e.visible,n=e.organizationInfo,i=e.handleApplyReceiptCancel,c=e.hasReceipt,l=e.setHasReceipt,u=(window.appData||{}).organization,f=void 0===u?{}:u,d=(window.appData.paymentInfo||{}).receipt,m=d&&void 0!==d.type?d.type:1,p=zt(Object(a.useState)(m),2),h=p[0],y=p[1],v=zt(Object(a.useState)(!0),2),b=v[0],g=v[1],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";(0,e.form.validateFields)((function(e,a){if(!e){var o=N.RECEIPT_TYPES[t];k.a.organizationReceipts.create(Rt(Rt({},a),{},{type:o,order_id:n.order_id,organization_id:f.id})).then((function(e){r.a.success(__("已成功提交发票申请")),l(!0),i()}))}}))};return o.a.createElement(s.a,{className:"receipt-success-modal",title:o.a.createElement(o.a.Fragment,null,c?__("已提交申请"):__("申请发票"),o.a.createElement("p",{className:Lt.receiptDesc},__("发票将在申请后的 7 个工作日内开具，目前处于升级数电发票的过渡期，详情请查看"),o.a.createElement("a",{href:"https://www.yuque.com/yuque/qa/ul74ukuugy5wvuqd",target:"_blank"},__("关于开具数电发票的通知")))),visible:t,maskClosable:!1,closable:c,onCancel:i,footer:null,centered:!0,width:500},o.a.createElement("div",{className:Lt.receiptContainer,"data-testid":"receipt-modal"},c?o.a.createElement("p",{className:Lt.contactTips},__("如需帮助请联系"),"：support@yuque.com"):o.a.createElement("div",{className:Lt.receiptTypeTitle},o.a.createElement(we.a.Group,{disabled:c||!b,onChange:function(){y(0===h?1:0)},value:h},o.a.createElement(we.a,{value:1},__("专用发票")),o.a.createElement(we.a,{value:0},__("普通电子发票")))),0===h?o.a.createElement(Yt,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:g,data:d,isFinished:c,isOrganization:!0}):o.a.createElement(Ut,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:g,data:d,isFinished:c})))};Ft.propTypes={visible:c.a.bool,organizationInfo:c.a.object,handleApplyReceiptCancel:c.a.func,hasReceipt:c.a.bool,setHasReceipt:c.a.func};var qt=Ft,Gt=(n(179),n(60)),Wt=n(1355),Vt={wrapper:"SubAccountInfoModal-module_wrapper_P6mlj",infoField:"SubAccountInfoModal-module_infoField_IMZ6p",infoFieldTitle:"SubAccountInfoModal-module_infoFieldTitle_tgwmv",infoFieldPaymentAlert:"SubAccountInfoModal-module_infoFieldPaymentAlert_UOLk7",buttons:"SubAccountInfoModal-module_buttons_rfW-e",btn:"SubAccountInfoModal-module_btn_WuNy4",loading:"SubAccountInfoModal-module_loading_sNKQL",loadingIcon:"SubAccountInfoModal-module_loadingIcon_M7IJr",loadingCircle:"SubAccountInfoModal-module_loadingCircle_mPmQ5",loadingDesc:"SubAccountInfoModal-module_loadingDesc_QHGbP"};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ht(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=$t($t($t($t($t($t({},l.ORDER_TYPE.buy,__("购买空间")),l.ORDER_TYPE.upgrade,__("升级空间")),l.ORDER_TYPE.renew,__("续费空间")),l.ORDER_TYPE.buyMember,__("购买空间人数")),l.ORDER_TYPE.data,__("购买空间流量")),l.ORDER_TYPE.downgrade,__("降级空间")),en=function(e){var t,n=(window.appData.paymentInfo||{}).order_type,r=function(e){var t=void 0!==e.orderTypeFromAppData,n=Zt(Object(a.useState)(!t),2),r=n[0],o=n[1],i=Jt[e.orderTypeFromAppData]||"";return{state:Qt(Qt({},e),{},{showExistedTips:t,showMainField:r,orderTypeName:i}),setShowMainField:o}}(Qt(Qt({},e),{},{orderTypeFromAppData:n})),i=r.state,c=i.visible,l=i.subAccountInfo,u=i.closeSettleOrder,f=i.closeAccountInfoModal,d=i.showExistedTips,m=i.showMainField,p=i.orderTypeName,h=r.setShowMainField;return o.a.createElement(s.a,{title:__("购买空间套餐"),visible:c,maskClosable:!1,closable:!0,footer:null,centered:!0,width:550,onCancel:f},l&&l.order?o.a.createElement("div",{className:Vt.wrapper,"data-testid":"subaccount-modal"},d&&!m&&o.a.createElement("div",{className:Vt.tips},o.a.createElement("div",null,__("你有订单尚未完成，请先完成订单或取消订单")),o.a.createElement("div",{className:Vt.buttons},o.a.createElement(v.a,{type:"primary",onClick:function(){return h(!0)},className:Vt.btn},__("去查看")))),m&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Vt.infoField},n&&o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("订单类型")),p),o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("转账金额")),l.order.amount," ",__("元")),o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("收款公司")),l.local_account_name),o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("收款账户")),l.account_no_4_credit_transfer),o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("开户行")),l.local_bank_name_4_transfer)),o.a.createElement("div",{className:Vt.infoField},o.a.createElement("p",null,o.a.createElement("span",{className:Vt.infoFieldTitle},__("订单号")),l.order.order_id),o.a.createElement("div",null,__("请于 10 日内转账付款，银行转账有延迟，稍后将以短信形式通知您开通情况。")),o.a.createElement("div",null,__("如有任何疑问，请发邮件到")," ",o.a.createElement("a",{href:"mailto:support@yuque.com"},"support@yuque.com")," ",__("，会有专人协助您解决。"))),o.a.createElement("div",{className:Vt.buttons},o.a.createElement(Gt.a,{title:__("你确定取消订单吗？"),onConfirm:u,okText:__("取消订单"),cancelText:__("再想想")},o.a.createElement(v.a,{type:"danger",className:Vt.btn},__("取消订单")))))):(t=__("正在准备相关信息，可能需等待 1-5 分钟"),o.a.createElement("div",{className:Vt.loading},o.a.createElement(Wt.default,{className:Vt.loadingIcon}),t&&o.a.createElement("div",{className:Vt.loadingDesc},t))))};en.propTypes={visible:c.a.bool,subAccountInfo:c.a.object,closeSettleOrder:c.a.func,closeAccountInfoModal:c.a.func};var tn=en,nn=n(1260),rn=n.n(nn),an=n(1486),on=n.n(an),cn=n(94),ln=n.n(cn);function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==un(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn,yn=!1,vn=function(e,t){if(e.max_member<t){var n=l.PRICE_STAGES.find((function(e){return e.member>t}));if(n)return n.member}return e.max_member},bn=k.a.pay,gn=bn.create,_n=bn.buyMember,wn=bn.buyUpload,En=bn.downgrade,On=bn.upgrade,xn=bn.renew,Sn=pn(pn(pn(pn(pn(pn({},l.ORDER_TYPE.buy,gn),l.ORDER_TYPE.upgrade,On),l.ORDER_TYPE.renew,xn),l.ORDER_TYPE.buyMember,_n),l.ORDER_TYPE.data,wn),l.ORDER_TYPE.downgrade,En),jn=function(e){var t,n=e.organization,r=void 0===n?{}:n,o=e.visible,i=void 0!==o&&o,c=e.type,u=void 0===c?"buyModal":c,s=e.actionType,f=e.onClose,d=window.appData.paymentInfo||{},m=d.order_id,p=d.receipt,h=d.isSettleOrder,y=dn(Object(a.useState)(!1),2),v=y[0],b=y[1],g=dn(Object(a.useState)(!1),2),_=g[0],E=g[1],O=dn(Object(a.useState)(!1),2),x=O[0],S=O[1],j=dn(Object(a.useState)(!1),2),A=j[0],P=j[1],T=dn(Object(a.useState)(!1),2),C=T[0],L=T[1],I=dn(Object(a.useState)(null),2),M=I[0],R=I[1],D=dn(Object(a.useState)(!!p),2),z=D[0],B=D[1],Y=dn(Object(a.useState)(!1),2),U=Y[0],F=Y[1],q=dn(Object(a.useState)(fn(fn({},r),{},{order_id:m})),2),G=q[0],W=q[1],V=dn(Object(a.useState)(1===r.payment_type),2),H=V[0],K=V[1],Q=dn(Object(a.useState)(null),2),Z=Q[0],X=Q[1],$=dn(Object(a.useState)(null),2),J=$[0],ee=$[1],te=dn(Object(a.useState)(r.members_count||r.max_member),2),ne=te[0],re=te[1],ae=s===l.ORDER_TYPE.renew?vn(G,ne):null===(t=l.PRICE_STAGES.find((function(e){return e.member>=r.max_member})))||void 0===t?void 0:t.member,oe=dn(Object(a.useState)(ae),2),ie=oe[0],ce=oe[1],le=dn(Object(a.useState)(1),2),ue=le[0],se=le[1],fe=dn(Object(a.useState)(0),2),de=fe[0],me=fe[1],pe=dn(Object(a.useState)(),2),he=pe[0],ye=pe[1],ve=Object(a.useRef)(null),be=function(){S(!1),P(!0)},ge=function(e){k.a.pay.query({order_id:e}).then((function(t){return t.isFinished?(b(!1),E(!1),S(!0),K(!0),void W(t)):(t.isPaid&&(b(!1),E(!0),K(!0)),t.isClosed?(b(!1),E(!1),void S(!1)):void((t.isPaid||t.needQuery)&&(ve.current=setTimeout((function(){return ge(e)}),3e3))))}))},_e=function(e){k.a.pay.query({order_id:e}).then((function(t){return t.isFinished?(b(!1),E(!1),S(!0),K(!0),void W(t)):t.isClosed?(b(!1),E(!1),void S(!1)):(t.account_no&&(R(t),b(!1),L(!0)),void(t.needQuery&&(b(!1),L(!0),ve.current=setTimeout((function(){return _e(e)}),3e3))))}))},we=function(){if(hn||h)return L(!0),void _e(hn||m);if(s===l.ORDER_TYPE.buyMember){var e=l.PRICE_STAGES.find((function(e){return e.member>r.max_member}));ce(e?e.member:l.MAX_MEMBER_LIMIT)}X(null),F(!1),b(!0)};Object(a.useEffect)((function(){if(i){switch(u){case"buyModal":we();break;case"receiptModal":be()}k.a.organizations.membersCount({id:r.id}).then(re),M||k.a.pay.getSettleAccount({order_id:hn||m}).then(R)}}),[i]),Object(a.useEffect)((function(){if(!yn&&(yn=!0,!H&&window.appData.paymentInfo&&!h)){var e=rn.a.parse(window.location.search).order_id,t=window.appData.paymentInfo,n=t.orderExpired,r=t.isFinished;if(m&&!r)return function(e){var t=window.location,n="".concat(t.protocol,"//").concat(t.host).concat(t.pathname,"?order_id=").concat(e);t.href=n}(m);n?window.location.href=window.location.pathname:e&&(E(!0),ge(e))}}),[v]),Object(a.useEffect)((function(){return function(){ve.current&&(clearTimeout(ve.current),ve.current=null)}}),[]);var Ee=r.max_member;if(Object(a.useEffect)((function(){if(s===l.ORDER_TYPE.renew){var e=vn(G,ne);ce(e)}}),[ae]),!window.appData.paymentInfo)return{};var Oe=function(e,t){f&&f(),e&&window.location.assign(t||window.location.origin+window.location.pathname)},xe=G.expired_at,Se=w()(xe).diff(Date.now(),"day")||1;return{payModalVisible:v,processModalVisible:_,successModalVisible:x,receiptModalVisible:A,subAccountInfoModalVisible:C,subAccountInfo:M,startToApplyReceipt:be,buyLoading:U,organizationInfo:G,payModalType:Z?"qrcode":s,qrcodeUrl:J,handleSubmitBuy:function(e){var t=e.orderType||l.ORDER_TYPE.buy;if(!U){F(!0);var n={member_increment:null==e?void 0:e.memberIntrement,member_size:null==e?void 0:e.memberSize,duration:null==e?void 0:e.duration,promo_code:null==e?void 0:e.promoCode,payment_type:null==e?void 0:e.paymentType,package_type:null==e?void 0:e.packageType};(null==e?void 0:e.paymentType)===N.PAYMENT_TYPE.settle?Sn[t](n).then((function(e){F(!1);var t=e.order_id;me(+e.amount),hn=t,_e(t)})).catch((function(){F(!1)})):Sn[t](n).then((function(e){F(!1);var t=e.out_trade_no;X({orderId:t,url:e.qr_code}),on.a.toDataURL(e.qr_code,(function(e,t){ee(t)})),me(+e.totalAmount),ge(t)})).catch((function(){F(!1)}))}},handlePayModalCancel:function(){b(!1),Oe(!1)},handleApplyReceiptCancel:function(){P(!1),Oe(!0,"/r/organizations/dashboard/cashier/orders")},handleMemberChange:function(e){ce(e)},closePaidSuccessModal:function(){S(!1),Oe(!0)},memberSize:ie,hasReceipt:z,setHasReceipt:B,duration:ue,handleDurationChange:function(e){se(e)},remaining:Se,totalAmount:de,promoCode:he,setPromoCode:ye,closeAccountInfoModal:function(){f&&f(),ve.current&&(clearTimeout(ve.current),ve.current=null),L(!1)},closeSettleOrder:function(){var e=ln()(M,"order.order_id");e&&k.a.pay.close({order_id:e}).then((function(){window.location.reload()}))},currentMember:ne,maxMember:Ee}},Nn=function(e){var t=e.organization,n=e.visible,a=e.type,i=e.actionType,c=e.targetLevel,s=e.onClose,f=e.paySource,d=jn({organization:t,visible:n,type:a,actionType:i,onClose:s}),m=d.payModalVisible,p=d.processModalVisible,h=d.successModalVisible,y=d.receiptModalVisible,v=d.subAccountInfoModalVisible,b=d.subAccountInfo,g=d.startToApplyReceipt,_=d.buyLoading,w=d.organizationInfo,E=void 0===w?{}:w,O=d.payModalType,x=d.qrcodeUrl,S=d.handleSubmitBuy,j=d.handlePayModalCancel,N=d.handleApplyReceiptCancel,A=d.handleMemberChange,P=d.closePaidSuccessModal,k=d.hasReceipt,T=d.setHasReceipt,C=d.duration,L=d.handleDurationChange,I=d.remaining,M=d.totalAmount,R=d.closeAccountInfoModal,D=d.closeSettleOrder,z=u.a.isPremium(t),B=u.a.isFree(t);return i===l.PAY_MODAL_ACTION.buy&&z?(r.a.warning(__("已付费空间不允许重复购买")),null):i!==l.PAY_MODAL_ACTION.upgrade||z?i===l.PAY_MODAL_ACTION.renew&&B?(r.a.warning(__("标准版空间无法续费，请直接购买")),null):o.a.createElement("div",{"data-testid":"org-pay-flow"},o.a.createElement(dt,{key:"pay-modal-".concat(m),visible:m,type:O,targetLevel:c,qrcodeUrl:x,onCancel:j,buyLoading:_,handleMemberChange:A,handleSubmitBuy:S,duration:C,handleDurationChange:L,remaining:I,organizationInfo:E,totalAmount:M,subAccountInfo:b,paySource:f}),o.a.createElement(vt,{key:"process-modal-".concat(p),visible:p}),o.a.createElement(Pt,{key:"success-modal-".concat(h),visible:h,organizationInfo:E,onClose:P,onClickApplyReceipt:g}),o.a.createElement(qt,{key:"receipt-modal-".concat(y),visible:y,organizationInfo:E,handleApplyReceiptCancel:N,hasReceipt:k,setHasReceipt:T}),o.a.createElement(tn,{key:"subaccount-modal-".concat(v),visible:v,subAccountInfo:b,closeAccountInfoModal:R,closeSettleOrder:D})):(r.a.warning(__("非付费空间无法升级")),null)};Nn.propTypes={organization:c.a.object.isRequired,type:c.a.oneOf(["buyModal","receiptModal"]),actionType:c.a.oneOf(Object.values(l.PAY_MODAL_ACTION)),visible:c.a.bool,onClose:c.a.func,targetLevel:c.a.oneOf([l.PAYMENT_TYPE.pro,l.PAYMENT_TYPE.enterprise]),paySource:c.a.string};t.a=Nn},981:function(e,t,n){var r=n(328);e.exports=function(e,t){return r(e,t)}},982:function(e,t,n){"use strict";function r(e,t,n,r,a){var o,i,c=n[e]||{},l=n[t]||{};"left"===c.fixed?o=r.left[e]:"right"===l.fixed&&(i=r.right[t]);var u=!1,s=!1,f=!1,d=!1,m=n[t+1],p=n[e-1];if("rtl"===a){if(void 0!==o)d=!(p&&"left"===p.fixed);else if(void 0!==i){f=!(m&&"right"===m.fixed)}}else if(void 0!==o){u=!(m&&"left"===m.fixed)}else if(void 0!==i){s=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:i,lastFixLeft:u,firstFixRight:s,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}n.d(t,"a",(function(){return r}))},990:function(e,t,n){"use strict";var r=n(26),a=n(3),o=n(7),i=n(5),c=n(0),l=n(6),u=n.n(l),s=n(72),f=n(1037),d=n(1265),m=n(1264),p=n(208),h=n(382),y=n(172),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b=10;function g(e,t,n){var a=t&&"object"===Object(r.a)(t)?t:{},l=a.total,u=void 0===l?0:l,s=v(a,["total"]),f=Object(c.useState)((function(){return{current:"defaultCurrent"in s?s.defaultCurrent:1,pageSize:"defaultPageSize"in s?s.defaultPageSize:b}})),d=Object(o.a)(f,2),m=d[0],p=d[1],h=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(m,s,{total:u>0?u:e}),y=Math.ceil((u||e)/h.pageSize);h.current>y&&(h.current=y||1);var g=function(){p({current:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,pageSize:(arguments.length>1?arguments[1]:void 0)||h.pageSize})};return!1===t?[{},function(){}]:[Object(i.a)(Object(i.a)({},h),{onChange:function(e,r){var a;t&&(null===(a=t.onChange)||void 0===a||a.call(t,e,r)),g(e,r),n(e,r||(null==h?void 0:h.pageSize))}}),g]}var _=n(836),w=n(22),E=n(488),O=n(140),x=n(526),S=n(166),j=n(74),N=n(486),A=n(236),P=n(206),k=n(818),T=n(61),C="SELECT_ALL",L="SELECT_INVERT",I="SELECT_NONE";function M(e){return e&&e.fixed}function R(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===Object(r.a)(e)&&t in e&&(n=[].concat(Object(w.a)(n),Object(w.a)(R(e[t],t))))})),n}function D(e,t){var n=e||{},r=n.preserveSelectedRowKeys,l=n.selectedRowKeys,u=n.defaultSelectedRowKeys,s=n.getCheckboxProps,d=n.onChange,m=n.onSelect,p=n.onSelectAll,h=n.onSelectInvert,y=n.onSelectNone,v=n.onSelectMultiple,b=n.columnWidth,g=n.type,D=n.selections,z=n.fixed,B=n.renderCell,Y=n.hideSelectAll,U=n.checkStrictly,F=void 0===U||U,q=t.prefixCls,G=t.data,W=t.pageData,V=t.getRecordByKey,H=t.getRowKey,K=t.expandType,Q=t.childrenColumnName,Z=t.locale,X=t.expandIconColumnIndex,$=t.getPopupContainer,J=c.useRef(new Map),ee=Object(j.a)(l||u||[],{value:l}),te=Object(o.a)(ee,2),ne=te[0],re=te[1],ae=Object(c.useMemo)((function(){return F?{keyEntities:null}:Object(O.a)(G,{externalGetKey:H,childrenPropName:Q})}),[G,H,F,Q]).keyEntities,oe=Object(c.useMemo)((function(){return R(W,Q)}),[W,Q]),ie=Object(c.useMemo)((function(){var e=new Map;return oe.forEach((function(t,n){var r=H(t,n),a=(s?s(t):null)||{};e.set(r,a)})),e}),[oe,H,s]),ce=Object(c.useCallback)((function(e){var t;return!!(null===(t=ie.get(H(e)))||void 0===t?void 0:t.disabled)}),[ie,H]),le=Object(c.useMemo)((function(){if(F)return[ne||[],[]];var e=Object(x.a)(ne,!0,ae,ce);return[e.checkedKeys||[],e.halfCheckedKeys]}),[ne,F,ae,ce]),ue=Object(o.a)(le,2),se=ue[0],fe=ue[1],de=Object(c.useMemo)((function(){var e="radio"===g?se.slice(0,1):se;return new Set(e)}),[se,g]),me=Object(c.useMemo)((function(){return"radio"===g?new Set:new Set(fe)}),[fe,g]),pe=Object(c.useState)(null),he=Object(o.a)(pe,2),ye=he[0],ve=he[1];c.useEffect((function(){e||re([])}),[!!e]);var be=Object(c.useCallback)((function(e){var t,n;if(r){var a=new Map;t=e,n=e.map((function(e){var t=V(e);return!t&&J.current.has(e)&&(t=J.current.get(e)),a.set(e,t),t})),J.current=a}else t=[],n=[],e.forEach((function(e){var r=V(e);void 0!==r&&(t.push(e),n.push(r))}));re(t),null==d||d(t,n)}),[re,V,d,r]),ge=Object(c.useCallback)((function(e,t,n,r){if(m){var a=n.map((function(e){return V(e)}));m(V(e),t,a,r)}be(n)}),[m,V,be]),_e=Object(c.useMemo)((function(){return!D||Y?null:(!0===D?[C,L,I]:D).map((function(e){return e===C?{key:"all",text:Z.selectionAll,onSelect:function(){be(G.map((function(e,t){return H(e,t)})))}}:e===L?{key:"invert",text:Z.selectInvert,onSelect:function(){var e=new Set(de);W.forEach((function(t,n){var r=H(t,n);e.has(r)?e.delete(r):e.add(r)}));var t=Array.from(e);h&&(Object(T.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),h(t)),be(t)}}:e===I?{key:"none",text:Z.selectNone,onSelect:function(){null==y||y(),be([])}}:e}))}),[D,de,W,H,h,be]);return[Object(c.useCallback)((function(t){if(!e)return t;var n,r,o=new Set(de),l=oe.map(H).filter((function(e){return!ie.get(e).disabled})),u=l.every((function(e){return o.has(e)})),s=l.some((function(e){return o.has(e)}));if("radio"!==g){var d;if(_e){var m=c.createElement(P.a,{getPopupContainer:$},_e.map((function(e,t){var n=e.key,r=e.text,a=e.onSelect;return c.createElement(P.a.Item,{key:n||t,onClick:function(){null==a||a(l)}},r)})));d=c.createElement("div",{className:"".concat(q,"-selection-extra")},c.createElement(A.a,{overlay:m,getPopupContainer:$},c.createElement("span",null,c.createElement(E.a,null))))}var h=oe.every((function(e,t){var n=H(e,t);return(ie.get(n)||{}).disabled}));n=!Y&&c.createElement("div",{className:"".concat(q,"-selection")},c.createElement(N.a,{checked:!h&&!!oe.length&&u,indeterminate:!u&&s,onChange:function(){var e=[];u?l.forEach((function(t){o.delete(t),e.push(t)})):l.forEach((function(t){o.has(t)||(o.add(t),e.push(t))}));var t=Array.from(o);null==p||p(!u,t.map((function(e){return V(e)})),e.map((function(e){return V(e)}))),be(t)},disabled:0===oe.length||h,skipGroup:!0}),d)}r="radio"===g?function(e,t,n){var r=H(t,n),a=o.has(r);return{node:c.createElement(k.a,Object(i.a)({},ie.get(r),{checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(e){o.has(r)||ge(r,!0,[r],e.nativeEvent)}})),checked:a}}:function(e,t,n){var r,a,u=H(t,n),s=o.has(u),f=me.has(u),d=ie.get(u);return"nest"===K?(a=f,Object(T.a)("boolean"!=typeof(null==d?void 0:d.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):a=null!==(r=null==d?void 0:d.indeterminate)&&void 0!==r?r:f,{node:c.createElement(N.a,Object(i.a)({},d,{indeterminate:a,checked:s,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,a=-1;if(n&&F){var i=new Set([ye,u]);l.some((function(e,t){if(i.has(e)){if(-1!==r)return a=t,!0;r=t}return!1}))}if(-1!==a&&r!==a&&F){var c=l.slice(r,a+1),f=[];s?c.forEach((function(e){o.has(e)&&(f.push(e),o.delete(e))})):c.forEach((function(e){o.has(e)||(f.push(e),o.add(e))}));var d=Array.from(o);null==v||v(!s,d.map((function(e){return V(e)})),f.map((function(e){return V(e)}))),be(d)}else{var m=se;if(F){var p=s?Object(S.b)(m,u):Object(S.a)(m,u);ge(u,!s,p,t)}else{var h=Object(x.a)([].concat(Object(w.a)(m),[u]),!0,ae,ce),y=h.checkedKeys,b=h.halfCheckedKeys,g=y;if(s){var _=new Set(y);_.delete(u),g=Object(x.a)(Array.from(_),{checked:!1,halfCheckedKeys:b},ae,ce).checkedKeys}ge(u,!s,g,t)}}ve(u)}})),checked:s}};var y=Object(a.a)({width:b,className:"".concat(q,"-selection-column"),title:e.columnTitle||n,render:function(e,t,n){var a=r(e,t,n),o=a.node,i=a.checked;return B?B(i,t,n,o):o}},f.a,{className:"".concat(q,"-selection-col")});if("row"===K&&t.length&&!X){var O=Object(_.a)(t),j=O[0],C=O.slice(1),L=z||M(C[0]);return L&&(j.fixed=L),[j,Object(i.a)(Object(i.a)({},y),{fixed:L})].concat(Object(w.a)(C))}return[Object(i.a)(Object(i.a)({},y),{fixed:z||M(t[0])})].concat(Object(w.a)(t))}),[H,oe,e,se,de,me,b,_e,K,ye,ie,v,ge,ce]),de]}var z=n(1764),B=n(1763),Y=n(153);function U(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function F(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function q(e,t){return"function"==typeof e?e(t):e}var G="ascend",W="descend";function V(e){return"object"===Object(r.a)(e.sorter)&&"number"==typeof e.sorter.multiple&&e.sorter.multiple}function H(e){return"function"==typeof e?e:!(!e||"object"!==Object(r.a)(e)||!e.compare)&&e.compare}function K(e,t,n){var r=[];function a(e,t){r.push({column:e,key:U(e,t),multiplePriority:V(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var i=F(o,n);e.children?("sortOrder"in e&&a(e,i),r=[].concat(Object(w.a)(r),Object(w.a)(K(e.children,t,i)))):e.sorter&&("sortOrder"in e?a(e,i):t&&e.defaultSortOrder&&r.push({column:e,key:U(e,i),multiplePriority:V(e),sortOrder:e.defaultSortOrder}))})),r}function Q(e,t,n,o,l,s,f,d){return(t||[]).map((function(t,m){var p=F(m,d),h=t;if(h.sorter){var y=h.sortDirections||l,v=void 0===h.showSorterTooltip?f:h.showSorterTooltip,b=U(h,p),g=n.find((function(e){return e.key===b})),_=g?g.sortOrder:null,w=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(y,_),E=y.includes(G)&&c.createElement(B.a,{className:u()("".concat(e,"-column-sorter-up"),{active:_===G})}),O=y.includes(W)&&c.createElement(z.a,{className:u()("".concat(e,"-column-sorter-down"),{active:_===W})}),x=s||{},S=x.cancelSort,j=x.triggerAsc,N=x.triggerDesc,A=S;w===W?A=N:w===G&&(A=j);var P="object"===Object(r.a)(v)?v:{title:A};h=Object(i.a)(Object(i.a)({},h),{className:u()(h.className,Object(a.a)({},"".concat(e,"-column-sort"),_)),title:function(n){var r=c.createElement("div",{className:"".concat(e,"-column-sorters")},c.createElement("span",null,q(t.title,n)),c.createElement("span",{className:u()("".concat(e,"-column-sorter"),Object(a.a)({},"".concat(e,"-column-sorter-full"),!(!E||!O)))},c.createElement("span",{className:"".concat(e,"-column-sorter-inner")},E,O)));return v?c.createElement(Y.a,P,r):r},onHeaderCell:function(n){var r=t.onHeaderCell&&t.onHeaderCell(n)||{},a=r.onClick;return r.onClick=function(e){o({column:t,key:b,sortOrder:w,multiplePriority:V(t)}),a&&a(e)},r.className=u()(r.className,"".concat(e,"-column-has-sorters")),r}})}return"children"in h&&(h=Object(i.a)(Object(i.a)({},h),{children:Q(e,h.children,n,o,l,s,f,p)})),h}))}function Z(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function X(e){var t=e.filter((function(e){return e.sortOrder})).map(Z);return 0===t.length&&e.length?Object(i.a)(Object(i.a)({},Z(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function $(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),o=e.slice(),c=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return H(t)&&n}));return c.length?o.sort((function(e,t){for(var n=0;n<c.length;n+=1){var r=c[n],a=r.column.sorter,o=r.sortOrder,i=H(a);if(i&&o){var l=i(e,t,o);if(0!==l)return o===G?l:-l}}return 0})).map((function(e){var r=e[n];return r?Object(i.a)(Object(i.a)({},e),Object(a.a)({},n,$(r,t,n))):e})):o}function J(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,a=e.sortDirections,l=e.tableLocale,u=e.showSorterTooltip,s=c.useState(K(n,!0)),f=Object(o.a)(s,2),d=f[0],m=f[1],p=c.useMemo((function(){var e=!0,t=K(n,!1);if(!t.length)return d;var r=[];function a(t){e?r.push(t):r.push(Object(i.a)(Object(i.a)({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(a(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),a(t))})),r}),[n,d]),h=c.useMemo((function(){var e=p.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[p]);function y(e){var t;t=!1!==e.multiplePriority&&p.length&&!1!==p[0].multiplePriority?[].concat(Object(w.a)(p.filter((function(t){return t.key!==e.key}))),[e]):[e],m(t),r(X(t),t)}return[function(e){return Q(t,e,p,y,a,l,u)},p,h,function(){return X(p)}]}var ee=n(981),te=n.n(ee),ne=n(1762),re=n(163),ae=n(496),oe=function(e){return c.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},ie=n(2736),ce=P.a.SubMenu,le=P.a.Item;function ue(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,a=e.filterMultiple,o=e.locale;return 0===t.length?c.createElement(le,{key:"empty"},c.createElement("div",{style:{margin:"16px 0"}},c.createElement(ae.a,{image:ae.a.PRESENTED_IMAGE_SIMPLE,description:o.filterEmptyText,imageStyle:{height:24}}))):t.map((function(e,t){var i=String(e.value);if(e.children)return c.createElement(ce,{key:i||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},ue({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:a,locale:o}));var l=a?N.a:k.a;return c.createElement(le,{key:void 0!==e.value?i:t},c.createElement(l,{checked:r.includes(i)}),c.createElement("span",null,e.text))}))}var se=function(e){var t,n=e.prefixCls,r=e.column,i=e.dropdownPrefixCls,l=e.columnKey,s=e.filterMultiple,f=e.filterState,d=e.triggerFilter,m=e.locale,p=e.children,h=e.getPopupContainer,v=r.filterDropdownVisible,b=r.onFilterDropdownVisibleChange,g=c.useState(!1),_=Object(o.a)(g,2),w=_[0],E=_[1],O=!(!f||!(null===(t=f.filteredKeys)||void 0===t?void 0:t.length)&&!f.forceFiltered),x=function(e){E(e),null==b||b(e)},S="boolean"==typeof v?v:w,j=null==f?void 0:f.filteredKeys,N=Object(ie.a)(j||[]),k=Object(o.a)(N,2),T=k[0],C=k[1],L=function(e){var t=e.selectedKeys;C(t)};c.useEffect((function(){L({selectedKeys:j||[]})}),[j]);var I=c.useState([]),M=Object(o.a)(I,2),R=M[0],D=M[1],z=c.useRef();c.useEffect((function(){return function(){window.clearTimeout(z.current)}}),[]);var B,Y=function(e){var t=e&&e.length?e:null;return null!==t||f&&f.filteredKeys?te()(t,null==f?void 0:f.filteredKeys)?null:void d({column:r,key:l,filteredKeys:t}):null},U=function(){x(!1),Y(T())},F=function(){C([]),x(!1),Y([])},q=u()(Object(a.a)({},"".concat(i,"-menu-without-submenu"),!(r.filters||[]).some((function(e){return e.children}))));if("function"==typeof r.filterDropdown)B=r.filterDropdown({prefixCls:"".concat(i,"-custom"),setSelectedKeys:function(e){return L({selectedKeys:e})},selectedKeys:T(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&x(!1),Y(T())},clearFilters:F,filters:r.filters,visible:S});else if(r.filterDropdown)B=r.filterDropdown;else{var G=T()||[];B=c.createElement(c.Fragment,null,c.createElement(P.a,{multiple:s,prefixCls:"".concat(i,"-menu"),className:q,onClick:function(){window.clearTimeout(z.current)},onSelect:L,onDeselect:L,selectedKeys:G,getPopupContainer:h,openKeys:R,onOpenChange:function(e){z.current=window.setTimeout((function(){D(e)}))}},ue({filters:r.filters||[],prefixCls:n,filteredKeys:T(),filterMultiple:s,locale:m})),c.createElement("div",{className:"".concat(n,"-dropdown-btns")},c.createElement(re.a,{type:"link",size:"small",disabled:0===G.length,onClick:F},m.filterReset),c.createElement(re.a,{type:"primary",size:"small",onClick:U},m.filterConfirm)))}var W,V=c.createElement(oe,{className:"".concat(n,"-dropdown")},B);W="function"==typeof r.filterIcon?r.filterIcon(O):r.filterIcon?r.filterIcon:c.createElement(ne.a,null);var H=c.useContext(y.b).direction;return c.createElement("div",{className:u()("".concat(n,"-column"))},p,c.createElement(A.a,{overlay:V,trigger:["click"],visible:S,onVisibleChange:function(e){e&&void 0!==j&&C(j||[]),x(e),e||r.filterDropdown||U()},getPopupContainer:h,placement:"rtl"===H?"bottomLeft":"bottomRight"},c.createElement("span",{role:"button",tabIndex:-1,className:u()("".concat(n,"-trigger"),{active:O}),onClick:function(e){e.stopPropagation()}},W)))};function fe(e,t,n){var r=[];return(e||[]).forEach((function(e,a){var o,i=F(a,n);if("children"in e)r=[].concat(Object(w.a)(r),Object(w.a)(fe(e.children,t,i)));else if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var c=e.filteredValue;"filterDropdown"in e||(c=null!==(o=null==c?void 0:c.map(String))&&void 0!==o?o:c),r.push({column:e,key:U(e,i),filteredKeys:c,forceFiltered:e.filtered})}else r.push({column:e,key:U(e,i),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered})})),r}function de(e,t,n,r,a,o,l,u){return n.map((function(n,s){var f=F(s,u),d=n.filterMultiple,m=void 0===d||d,p=n;if(p.filters||p.filterDropdown){var h=U(p,f),y=r.find((function(e){var t=e.key;return h===t}));p=Object(i.a)(Object(i.a)({},p),{title:function(r){return c.createElement(se,{prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:h,filterState:y,filterMultiple:m,triggerFilter:a,locale:l,getPopupContainer:o},q(n.title,r))}})}return"children"in p&&(p=Object(i.a)(Object(i.a)({},p),{children:de(e,t,p.children,r,a,o,l,f)})),p}))}function me(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat(Object(w.a)(t),Object(w.a)(me(r))))})),t}function pe(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,a=e.column,o=a.filters;if(a.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var i=me(o);t[n]=i.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function he(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,a=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=me(a),o=n.findIndex((function(e){return String(e)===String(t)})),i=-1!==o?n[o]:t;return r(i,e)}))})):e}),e)}var ye=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,a=e.onFilterChange,i=e.getPopupContainer,l=e.locale,u=c.useState(fe(r,!0)),s=Object(o.a)(u,2),f=s[0],d=s[1],m=c.useMemo((function(){var e=fe(r,!1);return e.every((function(e){return void 0===e.filteredKeys}))?f:e}),[r,f]),p=c.useCallback((function(){return pe(m)}),[m]),h=function(e){var t=m.filter((function(t){return t.key!==e.key}));t.push(e),d(t),a(pe(t),t)};return[function(e){return de(t,n,e,m,h,i,l)},m,p]};function ve(e,t){return e.map((function(e){var n=Object(i.a)({},e);return n.title=q(e.title,t),"children"in n&&(n.children=ve(n.children,t)),n}))}function be(e){return[c.useCallback((function(t){return ve(t,e)}),[e])]}var ge=function(e){return function(t){var n,r=t.prefixCls,o=t.onExpand,i=t.record,l=t.expanded,s=t.expandable,f="".concat(r,"-row-expand-icon");return c.createElement("button",{type:"button",onClick:function(e){o(i,e),e.stopPropagation()},className:u()(f,(n={},Object(a.a)(n,"".concat(f,"-spaced"),!s),Object(a.a)(n,"".concat(f,"-expanded"),s&&l),Object(a.a)(n,"".concat(f,"-collapsed"),s&&!l),n)),"aria-label":l?e.collapse:e.expand})}},_e=n(1e3),we=n(1062),Ee=n(164);var Oe=function(e){return null};var xe=function(e){return null},Se=n(525),je=[];function Ne(e){var t,n=e.prefixCls,l=e.className,v=e.style,_=e.size,w=e.bordered,E=e.dropdownPrefixCls,O=e.dataSource,x=e.pagination,S=e.rowSelection,j=e.rowKey,N=e.rowClassName,A=e.columns,P=e.children,k=e.childrenColumnName,C=e.onChange,L=e.getPopupContainer,I=e.loading,M=e.expandIcon,R=e.expandable,z=e.expandedRowRender,B=e.expandIconColumnIndex,Y=e.indentSize,U=e.scroll,F=e.sortDirections,q=e.locale,G=e.showSorterTooltip,W=void 0===G||G;Object(T.a)(!("function"==typeof j&&j.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var V=Object(Se.a)(),H=c.useMemo((function(){var e=new Set(Object.keys(V).filter((function(e){return V[e]})));return(A||Object(m.a)(P)).filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[P,A,V]),K=Object(s.a)(e,["className","style","columns"]),Q=c.useContext(Ee.b),Z=c.useContext(y.b),X=Z.locale,ee=void 0===X?we.a:X,te=Z.renderEmpty,ne=Z.direction,re=_||Q,ae=Object(i.a)(Object(i.a)({},ee.Table),q),oe=O||je,ie=c.useContext(y.b).getPrefixCls,ce=ie("table",n),le=ie("dropdown",E),ue=Object(i.a)({childrenColumnName:k,expandIconColumnIndex:B},R),se=ue.childrenColumnName,fe=void 0===se?"children":se,de=c.useMemo((function(){return oe.some((function(e){var t;return null===(t=e)||void 0===t?void 0:t[fe]}))?"nest":z||R&&R.expandedRowRender?"row":null}),[oe]),me={body:c.useRef()},pe=c.useMemo((function(){return"function"==typeof j?j:function(e){var t;return null===(t=e)||void 0===t?void 0:t[j]}}),[j]),ve=function(e,t,n){var a=c.useRef({});return[function(o){if(!a.current||a.current.data!==e||a.current.childrenColumnName!==t||a.current.getRowKey!==n){var i=new Map;function c(e){e.forEach((function(e,a){var o=n(e,a);i.set(o,e),e&&"object"===Object(r.a)(e)&&t in e&&c(e[t]||[])}))}c(e),a.current={data:e,childrenColumnName:t,kvMap:i,getRowKey:n}}return a.current.kvMap.get(o)}]}(oe,fe,pe),Oe=Object(o.a)(ve,1)[0],xe={},Ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(i.a)(Object(i.a)({},xe),e);n&&(xe.resetPagination(),r.pagination.current&&(r.pagination.current=1),x&&x.onChange&&x.onChange(1,r.pagination.pageSize)),U&&!1!==U.scrollToFirstRowOnChange&&me.body.current&&Object(_e.a)(0,{getContainer:function(){return me.body.current}}),null==C||C(r.pagination,r.filters,r.sorter,{currentDataSource:he($(oe,r.sorterStates,fe),r.filterStates),action:t})},Ae=J({prefixCls:ce,mergedColumns:H,onSorterChange:function(e,t){Ne({sorter:e,sorterStates:t},"sort",!1)},sortDirections:F||["ascend","descend"],tableLocale:ae,showSorterTooltip:W}),Pe=Object(o.a)(Ae,4),ke=Pe[0],Te=Pe[1],Ce=Pe[2],Le=Pe[3],Ie=c.useMemo((function(){return $(oe,Te,fe)}),[oe,Te]);xe.sorter=Le(),xe.sorterStates=Te;var Me=ye({prefixCls:ce,locale:ae,dropdownPrefixCls:le,mergedColumns:H,onFilterChange:function(e,t){Ne({filters:e,filterStates:t},"filter",!0)},getPopupContainer:L}),Re=Object(o.a)(Me,3),De=Re[0],ze=Re[1],Be=Re[2],Ye=he(Ie,ze);xe.filters=Be(),xe.filterStates=ze;var Ue=be(c.useMemo((function(){return Object(i.a)({},Ce)}),[Ce])),Fe=Object(o.a)(Ue,1)[0],qe=g(Ye.length,x,(function(e,t){Ne({pagination:Object(i.a)(Object(i.a)({},xe.pagination),{current:e,pageSize:t})},"paginate")})),Ge=Object(o.a)(qe,2),We=Ge[0],Ve=Ge[1];xe.pagination=!1===x?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},a=e&&"object"===Object(r.a)(e)?e:{};return Object.keys(a).forEach((function(e){var r=t[e];"function"!=typeof r&&(n[e]=r)})),n}(x,We),xe.resetPagination=Ve;var He=c.useMemo((function(){if(!1===x||!We.pageSize)return Ye;var e=We.current,t=void 0===e?1:e,n=We.total,r=We.pageSize,a=void 0===r?b:r;return Object(T.a)(t>0,"Table","`current` should be positive number."),Ye.length<n?Ye.length>a?(Object(T.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Ye.slice((t-1)*a,t*a)):Ye:Ye.slice((t-1)*a,t*a)}),[!!x,Ye,We&&We.current,We&&We.pageSize,We&&We.total]),Ke=D(S,{prefixCls:ce,data:Ye,pageData:He,getRowKey:pe,getRecordByKey:Oe,expandType:de,childrenColumnName:fe,locale:ae,expandIconColumnIndex:ue.expandIconColumnIndex,getPopupContainer:L}),Qe=Object(o.a)(Ke,2),Ze=Qe[0],Xe=Qe[1];ue.__PARENT_RENDER_ICON__=ue.expandIcon,ue.expandIcon=ue.expandIcon||M||ge(ae),"nest"===de&&void 0===ue.expandIconColumnIndex?ue.expandIconColumnIndex=S?1:0:ue.expandIconColumnIndex>0&&S&&(ue.expandIconColumnIndex-=1),"number"!=typeof ue.indentSize&&(ue.indentSize="number"==typeof Y?Y:15);var $e,Je,et,tt=c.useCallback((function(e){return Fe(Ze(De(ke(e))))}),[ke,De,Ze]);if(!1!==x&&(null==We?void 0:We.total)){var nt;nt=We.size?We.size:"small"===re||"middle"===re?"small":void 0;var rt=function(e){return c.createElement(h.a,Object(i.a)({className:"".concat(ce,"-pagination ").concat(ce,"-pagination-").concat(e)},We,{size:nt}))},at="rtl"===ne?"left":"right",ot=We.position;if(null!==ot&&Array.isArray(ot)){var it=ot.find((function(e){return-1!==e.indexOf("top")})),ct=ot.find((function(e){return-1!==e.indexOf("bottom")})),lt=ot.every((function(e){return"none"==="".concat(e)}));it||ct||lt||(Je=rt(at)),it&&($e=rt(it.toLowerCase().replace("top",""))),ct&&(Je=rt(ct.toLowerCase().replace("bottom","")))}else Je=rt(at)}"boolean"==typeof I?et={spinning:I}:"object"===Object(r.a)(I)&&(et=Object(i.a)({spinning:!0},I));var ut=u()("".concat(ce,"-wrapper"),Object(a.a)({},"".concat(ce,"-wrapper-rtl"),"rtl"===ne),l);return c.createElement("div",{className:ut,style:v},c.createElement(p.a,Object(i.a)({spinning:!1},et),$e,c.createElement(f.c,Object(i.a)({},K,{columns:H,direction:ne,expandable:ue,prefixCls:ce,className:u()((t={},Object(a.a)(t,"".concat(ce,"-middle"),"middle"===re),Object(a.a)(t,"".concat(ce,"-small"),"small"===re),Object(a.a)(t,"".concat(ce,"-bordered"),w),Object(a.a)(t,"".concat(ce,"-empty"),0===oe.length),t)),data:He,rowKey:pe,rowClassName:function(e,t,n){var r;return r="function"==typeof N?u()(N(e,t,n)):u()(N),u()(Object(a.a)({},"".concat(ce,"-row-selected"),Xe.has(pe(e,t))),r)},emptyText:q&&q.emptyText||te("Table"),internalHooks:d.a,internalRefs:me,transformColumns:tt})),Je))}Ne.defaultProps={rowKey:"key"},Ne.SELECTION_ALL=C,Ne.SELECTION_INVERT=L,Ne.SELECTION_NONE=I,Ne.Column=Oe,Ne.ColumnGroup=xe,Ne.Summary=f.b;var Ae=Ne;t.a=Ae}}]);