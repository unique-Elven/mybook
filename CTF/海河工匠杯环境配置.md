ip addr 192.168.1.155/24 dev eth1
ifconfig eth1 up

16.04 中包含的 OpenSSH 版本禁用 ssh-dss。有一个包含此问题的遗留信息的简洁页面：[http://www.openssh.com/legacy.html](http://www.openssh.com/legacy.html)

简而言之，您应该将选项添加`-oHostKeyAlgorithms=+ssh-dss`到 SSH 命令中：

```
ssh -oHostKeyAlgorithms=+ssh-dss root@192.168.8.109
```

---

您还可以在您的文件中添加主机模式，`~/.ssh/config`这样您就不必每次都指定密钥算法：

```
Host nas
  HostName 192.168.8.109
  HostKeyAlgorithms=+ssh-dss
```

这样做的另一个好处是您无需键入 IP 地址。相反，`ssh`将识别主机`nas`并知道连接到哪里。当然，您可以使用任何其他名称代替。

解决办法是`ssh`命令指定算法:

```
ssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedKeyTypes=+ssh-rsa  user@host -p 2222
```

上面比较麻烦, 可以修改ssh配置文件 _~/.ssh/config_, 对于无法成功连接的host, 增加配置项:

~/.ssh/config

```
HostKeyAlgorithms +ssh-rsaPubkeyAcceptedKeyTypes +ssh-rsa
```

完整配置如下:

~/.ssh/config

```
Host ssh.alanwei.com  HostName ssh.alanwei.com  User alan  Port 22  HostKeyAlgorithms +ssh-rsa  PubkeyAcceptedKeyTypes +ssh-rsa
```

编辑grub配置文件#vi /etc/grub.conf
grub-crypt --md5

使用命令设置md5加密密码，复制生成的md5码

[root@localhost~]# grub-crypt --md5

Password:

Retype password:

$1$Vk/Pvw4.$i8b0feQIqez/CRInfnhcq0




